"use strict";(self.webpackChunkadguard_knowledge_base=self.webpackChunkadguard_knowledge_base||[]).push([[3062],{4137:(e,t,a)=>{a.d(t,{Zo:()=>m,kt:()=>u});var n=a(7294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var p=n.createContext({}),d=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},m=function(e){var t=d(e.components);return n.createElement(p.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},k=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,r=e.originalType,p=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),k=d(a),u=i,c=k["".concat(p,".").concat(u)]||k[u]||s[u]||r;return a?n.createElement(c,o(o({ref:t},m),{},{components:a})):n.createElement(c,o({ref:t},m))}));function u(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=a.length,o=new Array(r);o[0]=k;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var d=2;d<r;d++)o[d]=a[d];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}k.displayName="MDXCreateElement"},9914:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>s,frontMatter:()=>r,metadata:()=>l,toc:()=>d});var n=a(7462),i=(a(7294),a(4137));const r={title:"Jak vytv\xe1\u0159et vlastn\xed filtry reklam",sidebar_position:5,toc_min_heading_level:2,toc_max_heading_level:4},o=void 0,l={unversionedId:"general/ad-filtering/create-own-filters",id:"general/ad-filtering/create-own-filters",title:"Jak vytv\xe1\u0159et vlastn\xed filtry reklam",description:"V tomto \u010dl\xe1nku vysv\u011btl\xedme, jak napsat vlastn\xed pravidla filtrov\xe1n\xed pro pou\u017eit\xed v produktech AdGuardu. Chcete-li otestovat sv\xe1 pravidla, st\xe1hn\u011bte si aplikaci AdGuard",source:"@site/i18n/cs/docusaurus-plugin-content-docs/current/general/ad-filtering/create-own-filters.md",sourceDirName:"general/ad-filtering",slug:"/general/ad-filtering/create-own-filters",permalink:"/KnowledgeBase/cs/general/ad-filtering/create-own-filters",draft:!1,editUrl:"https://github.com/AdguardTeam/KnowledgeBase/edit/master/docs/general/ad-filtering/create-own-filters.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{title:"Jak vytv\xe1\u0159et vlastn\xed filtry reklam",sidebar_position:5,toc_min_heading_level:2,toc_max_heading_level:4},sidebar:"tutorialSidebar",previous:{title:"Statistiky pravidel filtr\u016f sledov\xe1n\xed",permalink:"/KnowledgeBase/cs/general/ad-filtering/tracking-filter-statistics"},next:{title:"Z\xe1sady AdGuard filtr\u016f",permalink:"/KnowledgeBase/cs/general/ad-filtering/filter-policy"}},p={},d=[{value:"Koment\xe1\u0159e",id:"koment\xe1\u0159e",level:2},{value:"P\u0159\xedklady",id:"p\u0159\xedklady",level:2},{value:"Blokov\xe1n\xed podle n\xe1zvu dom\xe9ny",id:"blokov\xe1n\xed-podle-n\xe1zvu-dom\xe9ny",level:3},{value:"Blokov\xe1n\xed p\u0159esn\xe9 adresy",id:"blokov\xe1n\xed-p\u0159esn\xe9-adresy",level:3},{value:"Modifik\xe1tory z\xe1kladn\xedch pravidel",id:"basic-rule-modifiers",level:3},{value:"Odblokov\xe1n\xed adresy",id:"odblokov\xe1n\xed-adresy",level:3},{value:"Odblokov\xe1n\xed cel\xe9 webov\xe9 str\xe1nky",id:"odblokov\xe1n\xed-cel\xe9-webov\xe9-str\xe1nky",level:3},{value:"Kosmetick\xe9 pravidlo",id:"kosmetick\xe9-pravidlo",level:3},{value:"Omezen\xed a restrikce",id:"omezen\xed-a-restrikce",level:2},{value:"D\u016fv\u011bryhodn\xe9 filtry",id:"trusted-filters",level:3},{value:"Blok\xe1tor obsahu AdGuard",id:"blok\xe1tor-obsahu-adguard",level:3},{value:"Z\xe1kladn\xed pravidla",id:"z\xe1kladn\xed-pravidla",level:2},{value:"Syntaxe z\xe1kladn\xedch pravidel",id:"basic-rules-syntax",level:3},{value:"Speci\xe1ln\xed znaky",id:"basic-rules-special-characters",level:3},{value:"Podpora regul\xe1rn\xedch v\xfdraz\u016f",id:"regexp-support",level:3},{value:"Podpora z\xe1stupn\xfdch znak\u016f pro TLD (dom\xe9ny nejvy\u0161\u0161\xed \xfarovn\u011b)",id:"wildcard-for-tld",level:3},{value:"P\u0159\xedklady z\xe1kladn\xedch pravidel",id:"p\u0159\xedklady-z\xe1kladn\xedch-pravidel",level:3},{value:"Modifik\xe1tory z\xe1kladn\xedch pravidel",id:"modifik\xe1tory-z\xe1kladn\xedch-pravidel",level:3},{value:"Z\xe1kladn\xed modifik\xe1tory",id:"basic-rules-basic-modifiers",level:3},{value:"<strong><code>$app</code></strong>",id:"app-modifier",level:4},{value:"<strong><code>$denyallow</code></strong>",id:"denyallow-modifier",level:4},{value:"<strong><code>$domain</code></strong>",id:"domain-modifier",level:4},{value:"omezen\xed modifik\xe1toru <code>$domain</code>",id:"domain-modifier-limitations",level:5},{value:"<strong><code>$header</code></strong>",id:"header-modifier",level:4},{value:"<strong><code>$important</code></strong>",id:"important-modifier",level:4},{value:"<strong><code>$match-case</code></strong>",id:"match-case-modifier",level:4},{value:"<strong><code>$method</code></strong>",id:"method-modifier",level:4},{value:"<strong><code>$popup</code></strong>",id:"popup-modifier",level:4},{value:"<strong><code>$third-party</code></strong>",id:"third-party-modifier",level:4},{value:"<strong><code>$to</code></strong>",id:"to-modifier",level:4},{value:"Modifik\xe1tory typu obsahu",id:"content-type-modifiers",level:3},{value:"<strong><code>$document</code></strong>",id:"document-modifier",level:4},{value:"<strong><code>$font</code></strong>",id:"font-modifier",level:4},{value:"<strong><code>$image</code></strong>",id:"image-modifier",level:4},{value:"<strong><code>$media</code></strong>",id:"media-modifier",level:4},{value:"<strong><code>$object</code></strong>",id:"object-modifier",level:4},{value:"<strong><code>$other</code></strong>",id:"other-modifier",level:4},{value:"<strong><code>$ping</code></strong>",id:"ping-modifier",level:4},{value:"<strong><code>$script</code></strong>",id:"script-modifier",level:4},{value:"<strong><code>$stylesheet</code></strong>",id:"stylesheet-modifier",level:4},{value:"<strong><code>$subdocument</code></strong>",id:"subdocument-modifier",level:4},{value:"<strong><code>$websocket</code></strong>",id:"websocket-modifier",level:4},{value:"<strong><code>$xmlhttprequest</code></strong>",id:"xmlhttprequest-modifier",level:4},{value:"<strong><code>$object-subrequest</code> (odstran\u011bno)</strong>",id:"object-subrequest-modifier",level:4},{value:"<strong><code>$webrtc</code> (odstran\u011bno)</strong>",id:"webrtc-modifier",level:4},{value:"Modifik\xe1tory pravidel pro v\xfdjimky",id:"exception-modifiers",level:3},{value:"<strong><code>$content</code></strong>",id:"content-modifier",level:4},{value:"<strong><code>$elemhide</code></strong>",id:"elemhide-modifier",level:4},{value:"<strong><code>$extension</code></strong>",id:"extension-modifier",level:4},{value:"<strong><code>$jsinject</code></strong>",id:"jsinject-modifier",level:4},{value:"<strong><code>$stealth</code></strong>",id:"stealth-modifier",level:4},{value:"<strong><code>$urlblock</code></strong>",id:"urlblock-modifier",level:4},{value:"Generick\xe1 pravidla",id:"exception-modifiers-generic-rules",level:4},{value:"<strong><code>$genericblock</code></strong>",id:"genericblock-modifier",level:4},{value:"<strong><code>$generichide</code></strong>",id:"generichide-modifier",level:4},{value:"<strong><code>specifichide</code></strong>",id:"specifichide-modifier",level:4},{value:"Pokro\u010dil\xe9 schopnosti",id:"advanced-modifiers",level:3},{value:"<strong><code>$all</code></strong>",id:"all-modifier",level:4},{value:"<strong><code>$badfilter</code></strong>",id:"badfilter-modifier",level:4},{value:"<strong><code>$cookie</code></strong>",id:"cookie-modifier",level:4},{value:"<strong><code>$csp</code></strong>",id:"csp-modifier",level:4},{value:"<strong><code>$hls</code></strong>",id:"hls-modifier",level:4},{value:"<strong><code>$inline-script</code></strong>",id:"inline-script-modifier",level:4},{value:"<strong><code>$inline-font</code></strong>",id:"inline-font-modifier",level:4},{value:"<strong><code>$jsonprune</code></strong>",id:"jsonprune-modifier",level:4},{value:"<strong><code>$xmlprune</code></strong>",id:"xmlprune-modifier",level:4},{value:"<strong><code>$network</code></strong>",id:"network-modifier",level:4},{value:"<strong><code>$permissions</code></strong>",id:"permissions-modifier",level:4},{value:"<strong><code>$redirect</code></strong>",id:"redirect-modifier",level:4},{value:"Zak\xe1z\xe1n\xed pravidel <code>$redirect</code>",id:"zak\xe1z\xe1n\xed-pravidel-redirect",level:5},{value:"Priority pravidel <code>$redirect</code>",id:"redirect-rule-priorities",level:5},{value:"<strong><code>$redirect-rule</code></strong>",id:"redirect-rule-modifier",level:4},{value:"<strong><code>$referrerpolicy</code></strong>",id:"referrerpolicy-modifier",level:4},{value:"<strong><code>$removeheader</code></strong>",id:"removeheader-modifier",level:4},{value:"<strong><code>$removeparam</code></strong>",id:"removeparam-modifier",level:4},{value:"<strong><code>$replace</code></strong>",id:"replace-modifier",level:4},{value:"<strong><code>urltransform</code></strong>",id:"urltransform-modifier",level:4},{value:"<strong><code>noop</code></strong>",id:"noop-modifier",level:4},{value:"<strong><code>$empty</code> (zastaral\xe9)</strong>",id:"empty-modifier",level:4},{value:"<strong><code>$mp4</code> (zastaral\xe9)</strong>",id:"mp4-modifier",level:4},{value:"Priority pravidel",id:"rule-priorities",level:3},{value:"V\xfdpo\u010det priority",id:"v\xfdpo\u010det-priority",level:4},{value:"Z\xe1kladn\xed modifik\xe1tory, p\u0159\xedtomnost ka\u017ed\xe9ho z nich p\u0159id\xe1v\xe1 1 k priorit\u011b",id:"priority-category-1",level:4},{value:"Definovan\xe9 modifik\xe1tory typu obsahu, definovan\xe9 metody, definovan\xe1 z\xe1hlav\xed, $all, $popup, specifick\xe9 v\xfdjimky",id:"priority-category-2",level:4},{value:"<code>$domain</code> nebo <code>$app</code> s povolen\xfdmi dom\xe9nami nebo aplikacemi",id:"priority-category-3",level:4},{value:"Pravidla <code>$redirect</code>",id:"priority-category-6",level:4},{value:"Specifick\xe9 v\xfdjimky",id:"priority-category-4",level:4},{value:"Pravidla seznamu povolen\xfdch",id:"priority-category-5",level:4},{value:"Pravidla <code>$important</code>",id:"priority-category-7",level:4},{value:"Pravidla, pro kter\xe1 nen\xed stanovena v\xe1ha priority",id:"priority-category-extra",level:4},{value:"P\u0159\xedklady",id:"p\u0159\xedklady-1",level:4},{value:"Ostatn\xed pravidla",id:"non-basic-rules",level:2},{value:"Kosmetick\xe1 pravidla",id:"cosmetic-rules",level:2},{value:"Pravidla pro skryt\xed prvk\u016f",id:"cosmetic-elemhide-rules",level:3},{value:"Syntax",id:"syntax",level:4},{value:"Pravidla CSS",id:"cosmetic-css-rules",level:3},{value:"Roz\u0161\xed\u0159en\xe9 CSS selektory",id:"extended-css-selectors",level:3},{value:"Limitace ExtendedCss",id:"extended-css-limitations",level:4},{value:"Pseudo-t\u0159\xedda <code>:has()</code>",id:"extended-css-has",level:4},{value:"<code>:has()</code> limitations",id:"extended-css-has-limitations",level:5},{value:"Pseudo-t\u0159\xedda <code>:contains()</code>",id:"extended-css-contains",level:4},{value:"Pseudo-t\u0159\xedda <code>:matches-css()</code>",id:"extended-css-matches-css",level:4},{value:"Pseudo-t\u0159\xedda <code>:matches-attr()</code>",id:"extended-css-matches-attr",level:4},{value:"Pseudo-t\u0159\xedda <code>:matches-property()</code>",id:"extended-css-property",level:4},{value:"Pseudo-t\u0159\xedda <code>:xpath()</code>",id:"extended-css-xpath",level:4},{value:"<code>:xpath()</code> limitations",id:"extended-css-xpath-limitations",level:5},{value:"Pseudo-t\u0159\xedda <code>:nth-ancestor()</code>",id:"extended-css-nth-ancestor",level:4},{value:"<code>:nth-ancestor()</code> limitations",id:"extended-css-nth-ancestor-limitations",level:5},{value:"Pseudo-t\u0159\xedda <code>:upward()</code>",id:"extended-css-upward",level:4},{value:"<code>:upward()</code> limitations",id:"extended-css-upward-limitations",level:5},{value:"Pseudo-t\u0159\xedda <code>:remove()</code> a pseudo-vlastnost <code>remove</code>",id:"remove-pseudos",level:4},{value:"<code>:remove()</code> a <code>remove</code> limitations",id:"extended-css-remove-limitations",level:5},{value:"Pseudo-t\u0159\xedda <code>:is()</code>",id:"extended-css-is",level:4},{value:"<code>:is()</code> limitations",id:"extended-css-is-limitations",level:5},{value:"Pseudo-t\u0159\xedda <code>:not()</code>",id:"extended-css-not",level:4},{value:"<code>:not()</code> limitations",id:"extended-css-not-limitations",level:5},{value:"Pseudo-t\u0159\xedda <code>:if-not()</code> (odstran\u011bno)",id:"extended-css-if-not",level:4},{value:"P\u0159ednost kosmetick\xfdch pravidel",id:"cosmetic-rules-priority",level:3},{value:"HTML pravidla filtrov\xe1n\xed",id:"html-filtering-rules",level:2},{value:"Syntax",id:"syntax-1",level:3},{value:"P\u0159\xedklady",id:"p\u0159\xedklady-2",level:3},{value:"Speci\xe1ln\xed atributy",id:"speci\xe1ln\xed-atributy",level:3},{value:"<code>tag-content</code>",id:"tag-content",level:4},{value:"<code>wildcard</code>",id:"wildcard",level:4},{value:"<code>max-length</code>",id:"max-length",level:4},{value:"<code>min-length</code>",id:"min-length",level:4},{value:"Pseudot\u0159\xeddy",id:"pseudot\u0159\xeddy",level:3},{value:"<code>:contains()</code>",id:"contains",level:4},{value:"Syntax",id:"syntax-2",level:5},{value:"V\xfdjimky",id:"v\xfdjimky",level:3},{value:"Pravidla JavaScript",id:"javascript-rules",level:2},{value:"Pravidla skriptlet",id:"scriptlets",level:2},{value:"D\u016fv\u011bryhodn\xe9 skriptlety",id:"trusted-scriptlets",level:3},{value:"Modifik\xe1tory pro ostatn\xed typ pravidel",id:"non-basic-rules-modifiers",level:2},{value:"<strong><code>$app</code></strong>",id:"non-basic-app-modifier",level:3},{value:"<strong><code>$domain</code></strong>",id:"non-basic-domain-modifier",level:3},{value:"<strong><code>$path</code></strong>",id:"non-basic-path-modifier",level:3},{value:"<strong><code>$url</code></strong>",id:"non-basic-url-modifier",level:3},{value:"Informace pro spr\xe1vce filtr\u016f",id:"informace-pro-spr\xe1vce-filtr\u016f",level:2},{value:"Direktivy preprocesoru",id:"direktivy-preprocesoru",level:3},{value:"Zahrnut\xfd soubor",id:"include-directive",level:4},{value:"Podm\xednky",id:"conditions-directive",level:4},{value:"Afinita Safari",id:"safari-affinity-directive",level:4},{value:"N\xe1pov\u011bdy",id:"n\xe1pov\u011bdy",level:3},{value:"N\xe1pov\u011bda <code>NOT_OPTIMIZED</code>",id:"n\xe1pov\u011bda-not_optimized",level:4},{value:"N\xe1pov\u011bda <code>PLATFORM</code> a <code>NOT_PLATFORM</code>",id:"n\xe1pov\u011bda-platform-a-not_platform",level:4},{value:"Jak ladit pravidla filtrov\xe1n\xed",id:"jak-ladit-pravidla-filtrov\xe1n\xed",level:2},{value:"Z\xe1znam filtrov\xe1n\xed",id:"z\xe1znam-filtrov\xe1n\xed",level:3},{value:"Re\u017eim lad\u011bn\xed selektor\u016f",id:"selectors-debug-mode",level:3},{value:"Lad\u011bn\xed skriptlet\u016f",id:"debug-scriptlets",level:3},{value:"Legenda tabulek kompatibility",id:"compatibility-tables-legend",level:2},{value:"Zkratky produkt\u016f",id:"what-product",level:3},{value:"Zkratky kompatibility",id:"what-compatibility",level:3}],m={toc:d};function s(e){let{components:t,...a}=e;return(0,i.kt)("wrapper",(0,n.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"V tomto \u010dl\xe1nku vysv\u011btl\xedme, jak napsat vlastn\xed pravidla filtrov\xe1n\xed pro pou\u017eit\xed v produktech AdGuardu. Chcete-li otestovat sv\xe1 pravidla, ",(0,i.kt)("a",{parentName:"p",href:"https://agrd.io/download-kb-adblock"},"st\xe1hn\u011bte si aplikaci AdGuard"))),(0,i.kt)("p",null,"Filtr je sada pravidel filtrov\xe1n\xed aplikovan\xfdch na konkr\xe9tn\xed obsah, nap\u0159\xedklad bannery nebo vyskakovac\xed okna. AdGuard m\xe1 seznam standardn\xedch filtr\u016f vytvo\u0159en\xfdch na\u0161\xedm t\xfdmem. Neust\xe1le je vylep\u0161ujeme, aktualizujeme a sna\u017e\xedme se vyhov\u011bt pot\u0159eb\xe1m v\u011bt\u0161iny na\u0161ich u\u017eivatel\u016f."),(0,i.kt)("p",null,"AdGuard z\xe1rove\u0148 umo\u017e\u0148uje vytv\xe1\u0159et vlastn\xed filtry pomoc\xed stejn\xfdch typ\u016f pravidel, kter\xe9 m\xe1me v na\u0161ich filtrech."),(0,i.kt)("p",null,"K popisu syntaxe na\u0161ich pravidel filtrov\xe1n\xed pou\u017e\xedv\xe1me ",(0,i.kt)("a",{parentName:"p",href:"https://tools.ietf.org/html/rfc5234"},"Augmented BNF for Syntax Specifications"),", ale ne v\u017edy se touto specifikac\xed striktn\u011b \u0159\xedd\xedme."),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"P\u016fvodn\u011b byla syntaxe AdGuardu zalo\u017eena na syntaxi pravidel Adblock Plus. Pozd\u011bji jsme ji roz\u0161\xed\u0159ili o nov\xe9 typy pravidel pro lep\u0161\xed filtrov\xe1n\xed reklam. N\u011bkter\xe9 \u010d\xe1sti tohoto \u010dl\xe1nku o pravidlech spole\u010dn\xfdch pro AdGuard i ABP byly p\u0159evzaty z ",(0,i.kt)("a",{parentName:"p",href:"https://adblockplus.org/en/filters"},"p\u0159\xedru\u010dka Adblock Plus o tom, jak ps\xe1t filtry"),".")),(0,i.kt)("h2",{id:"koment\xe1\u0159e"},"Koment\xe1\u0159e"),(0,i.kt)("p",null,"Ka\u017ed\xfd \u0159\xe1dek za\u010d\xednaj\xedc\xed vyk\u0159i\u010dn\xedkem je koment\xe1\u0159. V seznamu pravidel je zobrazen \u0161edou barvou. AdGuard bude tento \u0159\xe1dek ignorovat, tak\u017ee m\u016f\u017eete napsat cokoli chcete. Koment\xe1\u0159e se obvykle um\xeds\u0165uj\xed nad pravidla a slou\u017e\xed k popisu toho, co pravidlo d\u011bl\xe1."),(0,i.kt)("p",null,"Nap\u0159:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"! Toto je koment\xe1\u0159. Pod t\xedmto \u0159\xe1dkem se nach\xe1z\xed skute\u010dn\xe9 pravidlo filtrov\xe1n\xed.\n||example.org^\n")),(0,i.kt)("h2",{id:"p\u0159\xedklady"},"P\u0159\xedklady"),(0,i.kt)("h3",{id:"blokov\xe1n\xed-podle-n\xe1zvu-dom\xe9ny"},"Blokov\xe1n\xed podle n\xe1zvu dom\xe9ny"),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://cdn.adtidy.org/content/kb/ad_blocker/general/0_blocking_domain.svg",alt:"Blocking by domain name"})),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Toto pravidlo blokuje:")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"http://example.org/ad1.gif")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"http://subdomain.example.org/ad1.gif")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"https://ads.example.org:8000/"))),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Toto pravidlo neblokuje:")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"http://ads.example.org.us/ad1.gif")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"http://example.com/redirect/http://ads.example.org/"))),(0,i.kt)("p",null,"Ve v\xfdchoz\xedm nastaven\xed tato pravidla pro \u017e\xe1dosti o dokumenty nefunguj\xed. To znamen\xe1, \u017ee pravidlo ",(0,i.kt)("inlineCode",{parentName:"p"},"||example.org^")," zablokuje po\u017eadavek na ",(0,i.kt)("inlineCode",{parentName:"p"},"example.org")," p\u0159i pokusu o p\u0159echod na tuto dom\xe9nu z jin\xe9 webov\xe9 str\xe1nky, ale pokud do adresn\xedho \u0159\xe1dku zad\xe1te ",(0,i.kt)("inlineCode",{parentName:"p"},"example.org")," a pokus\xedte se na dom\xe9nu p\u0159ej\xedt, webov\xe1 str\xe1nka se otev\u0159e. Chcete-li zablokovat \u017e\xe1dost o dokument, budete muset pou\u017e\xedt pravidlo s modifik\xe1torem ",(0,i.kt)("a",{parentName:"p",href:"#document-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$document")),": ",(0,i.kt)("inlineCode",{parentName:"p"},"||example.org^$document"),"."),(0,i.kt)("h3",{id:"blokov\xe1n\xed-p\u0159esn\xe9-adresy"},"Blokov\xe1n\xed p\u0159esn\xe9 adresy"),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://cdn.adtidy.org/content/kb/ad_blocker/general/1_exact_address.svg",alt:"Blocking exact address"})),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Toto pravidlo blokuje:")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"http://example.org/"))),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Toto pravidlo neblokuje:")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"https://example.org/banner/img"))),(0,i.kt)("h3",{id:"basic-rule-modifiers"},"Modifik\xe1tory z\xe1kladn\xedch pravidel"),(0,i.kt)("p",null,"Pravidla filtrov\xe1n\xed podporuj\xed \u0159adu modifik\xe1tor\u016f, kter\xe9 umo\u017e\u0148uj\xed doladit chov\xe1n\xed pravidla. Zde je p\u0159\xedklad pravidla s n\u011bkolika jednoduch\xfdmi modifik\xe1tory."),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://cdn.adtidy.org/content/kb/ad_blocker/general/2_basic_rule_options.svg",alt:"Modifik\xe1tory z\xe1kladn\xedch pravidel"})),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Toto pravidlo blokuje:")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"http://example.org/script.js"),", pokud je tento skript na\u010dten z ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com"),".")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Toto pravidlo neblokuje:")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"https://example.org/script.js"),", pokud je tento skript na\u010dten z ",(0,i.kt)("inlineCode",{parentName:"li"},"example.org"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"https://example.org/banner.png"),", proto\u017ee se nejedn\xe1 o skript.")),(0,i.kt)("h3",{id:"odblokov\xe1n\xed-adresy"},"Odblokov\xe1n\xed adresy"),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://cdn.adtidy.org/content/kb/ad_blocker/general/3_basic_exception.svg",alt:"Odblokov\xe1n\xed adresy"})),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Toto pravidlo odblokuje:")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"http://example.org/banner.png"),", i kdy\u017e pro tuto adresu existuje pravidlo blokov\xe1n\xed.")),(0,i.kt)("p",null,"Pravidla blokov\xe1n\xed s modifik\xe1torem ",(0,i.kt)("a",{parentName:"p",href:"#important-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$important"))," mohou p\u0159epsat v\xfdjimky."),(0,i.kt)("h3",{id:"odblokov\xe1n\xed-cel\xe9-webov\xe9-str\xe1nky"},"Odblokov\xe1n\xed cel\xe9 webov\xe9 str\xe1nky"),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://cdn.adtidy.org/content/kb/ad_blocker/general/4_unblock_entire_website.svg",alt:"Odblokov\xe1n\xed cel\xe9 webov\xe9 str\xe1nky"})),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Toto pravidlo odblokuje")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Zak\xe1\u017ee v\u0161echna kosmetick\xe1 pravidla na ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com"),"."),(0,i.kt)("li",{parentName:"ul"},"Odblokuje v\u0161echny po\u017eadavky odeslan\xe9 z t\xe9to webov\xe9 str\xe1nky, i kdy\u017e existuj\xed pravidla blokov\xe1n\xed odpov\xeddaj\xedc\xed t\u011bmto po\u017eadavk\u016fm.")),(0,i.kt)("h3",{id:"kosmetick\xe9-pravidlo"},"Kosmetick\xe9 pravidlo"),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://cdn.adtidy.org/content/kb/ad_blocker/general/5_cosmetic_rules.svg",alt:"Cosmetic rule"})),(0,i.kt)("p",null,"Kosmetick\xe1 pravidla jsou zalo\u017eena na pou\u017eit\xed speci\xe1ln\xedho jazyka CSS, kter\xe9mu rozum\xed ka\u017ed\xfd prohl\xed\u017ee\u010d. V podstat\u011b p\u0159id\xe1v\xe1 na webov\xe9 str\xe1nky nov\xfd styl CSS, jeho\u017e \xfa\u010delem je skr\xfdt ur\u010dit\xe9 prvky. V\xedce o CSS obecn\u011b se m\u016f\u017eete dozv\u011bd\u011bt ",(0,i.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Learn/CSS/Introduction_to_CSS/Selectors"},"zde"),"."),(0,i.kt)("p",null,"AdGuard ",(0,i.kt)("a",{parentName:"p",href:"#extended-css-selectors"},"roz\u0161i\u0159uje CSS")," a umo\u017e\u0148uje tak v\xfdvoj\xe1\u0159\u016fm filtr\u016f \u0159e\u0161it mnohem slo\u017eit\u011bj\u0161\xed p\u0159\xedpady. Abyste v\u0161ak mohli tato roz\u0161\xed\u0159en\xe1 pravidla pou\u017e\xedvat, mus\xedte ovl\xe1dat b\u011b\u017en\xfd jazyk CSS."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Obl\xedben\xe9 selektory CSS")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"N\xe1zev"),(0,i.kt)("th",{parentName:"tr",align:null},"Selektor CSS"),(0,i.kt)("th",{parentName:"tr",align:null},"Popis"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"ID selector"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"#banners")),(0,i.kt)("td",{parentName:"tr",align:null},"Shoduje se se v\u0161emi prvky s atributem ",(0,i.kt)("inlineCode",{parentName:"td"},"id")," rovn\xfdm ",(0,i.kt)("inlineCode",{parentName:"td"},"banners"),".",(0,i.kt)("br",null),(0,i.kt)("img",{parentName:"td",src:"https://cdn.adtidy.org/public/Adguard/kb/en/rules_syntax/css_id_selector.png",alt:"ID selector"}))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Class selector"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},".banners")),(0,i.kt)("td",{parentName:"tr",align:null},"Shoduje se se v\u0161emi prvky s atributem ",(0,i.kt)("inlineCode",{parentName:"td"},"class")," obsahuj\xedc\xedm ",(0,i.kt)("inlineCode",{parentName:"td"},"banners"),".",(0,i.kt)("br",null),(0,i.kt)("img",{parentName:"td",src:"https://cdn.adtidy.org/public/Adguard/kb/en/rules_syntax/css_class_selector.png",alt:"Class selector"}))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Attribute selector"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},'div[class="banners"]')),(0,i.kt)("td",{parentName:"tr",align:null},"Shoduje se se v\u0161emi prvky ",(0,i.kt)("inlineCode",{parentName:"td"},"div")," s atributem ",(0,i.kt)("inlineCode",{parentName:"td"},"class")," ",(0,i.kt)("strong",{parentName:"td"},"p\u0159esn\u011b rovn\xfdm")," k ",(0,i.kt)("inlineCode",{parentName:"td"},"banners"),".",(0,i.kt)("br",null),(0,i.kt)("img",{parentName:"td",src:"https://cdn.adtidy.org/public/Adguard/kb/en/rules_syntax/css_class_attr.png",alt:"Attribute selector"}))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Attribute substring selector"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},'div[class^="advert1"]')),(0,i.kt)("td",{parentName:"tr",align:null},"Shoduje se se v\u0161emi prvky ",(0,i.kt)("inlineCode",{parentName:"td"},"div")," s atributem ",(0,i.kt)("inlineCode",{parentName:"td"},"class")," ",(0,i.kt)("strong",{parentName:"td"},"za\u010d\xednaj\xedc\xedm na")," \u0159et\u011bzec ",(0,i.kt)("inlineCode",{parentName:"td"},"advert1"),".",(0,i.kt)("br",null),(0,i.kt)("img",{parentName:"td",src:"https://cdn.adtidy.org/public/Adguard/kb/en/rules_syntax/css_class_attr_start.png",alt:"Attribute substring selector"}))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Attribute substring selector"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},'div[class$="banners_ads"]')),(0,i.kt)("td",{parentName:"tr",align:null},"Shoduje se se v\u0161emi prvky ",(0,i.kt)("inlineCode",{parentName:"td"},"div")," s atributem ",(0,i.kt)("inlineCode",{parentName:"td"},"class")," ",(0,i.kt)("strong",{parentName:"td"},"kon\u010d\xedc\xedm na")," \u0159et\u011bzec ",(0,i.kt)("inlineCode",{parentName:"td"},"banners_ads"),".",(0,i.kt)("br",null),(0,i.kt)("img",{parentName:"td",src:"https://cdn.adtidy.org/public/Adguard/kb/en/rules_syntax/css_class_attr_end.png",alt:"Attribute substring selector"}))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Attribute substring selector"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},'a[href^="http://example.com/"]')),(0,i.kt)("td",{parentName:"tr",align:null},"Shoduje se se v\u0161emi odkazy na\u010dten\xfdmi z dom\xe9ny ",(0,i.kt)("inlineCode",{parentName:"td"},"http://example.com/"),".",(0,i.kt)("br",null),(0,i.kt)("img",{parentName:"td",src:"https://cdn.adtidy.org/public/Adguard/kb/en/rules_syntax/css_attr_start.png",alt:"Attribute substring selector"}))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Attribute selector"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},'a[href="http://example.com/"]')),(0,i.kt)("td",{parentName:"tr",align:null},"Shoduje se se v\u0161emi odkazy ",(0,i.kt)("strong",{parentName:"td"},"exactly")," adresy ",(0,i.kt)("inlineCode",{parentName:"td"},"http://example.com/"),".",(0,i.kt)("br",null),(0,i.kt)("img",{parentName:"td",src:"https://cdn.adtidy.org/public/Adguard/kb/en/rules_syntax/css_attr_equal.png",alt:"Attribute selector"}))))),(0,i.kt)("h2",{id:"omezen\xed-a-restrikce"},"Omezen\xed a restrikce"),(0,i.kt)("h3",{id:"trusted-filters"},"D\u016fv\u011bryhodn\xe9 filtry"),(0,i.kt)("p",null,"N\u011bkter\xe1 pravidla lze pou\u017e\xedt pouze v d\u016fv\u011bryhodn\xfdch filtrech. Tato kategorie zahrnuje:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"seznamy filtr\u016f ",(0,i.kt)("a",{parentName:"li",href:"../adguard-filters"},"vytvo\u0159en\xe9 t\xfdmem AdGuard"),","),(0,i.kt)("li",{parentName:"ul"},"seznamy vlastn\xedch filtr\u016f nainstalovan\xe9 jako ",(0,i.kt)("inlineCode",{parentName:"li"},"trusted"),","),(0,i.kt)("li",{parentName:"ul"},"u\u017eivatelsk\xe1 pravidla.")),(0,i.kt)("h3",{id:"blok\xe1tor-obsahu-adguard"},"Blok\xe1tor obsahu AdGuard"),(0,i.kt)("p",null,"Blok\xe1tor obsahu AdGuard je roz\u0161\xed\u0159en\xed pro prohl\xed\u017ee\u010de Samsung a Yandex, kter\xe9 lze nainstalovat z Google Play. Nesm\xed se zam\u011b\u0148ovat s pln\u011b funk\u010dn\xedm n\xe1strojem AdGuard pro Android, kter\xfd lze st\xe1hnout pouze z ",(0,i.kt)("a",{parentName:"p",href:"https://adguard.com/adguard-android/overview.html"},"na\u0161ich str\xe1nek"),". Bohu\u017eel, funkce Blok\xe1toru obsahu AdGuard jsou omezeny t\xedm, co prohl\xed\u017ee\u010de umo\u017e\u0148uj\xed a podporuj\xed pouze starou syntaxi filtr\u016f Adblock Plus:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Z\xe1kladn\xed pravidla blokov\xe1n\xed s n\xe1sleduj\xedc\xedmi modifik\xe1tory: ",(0,i.kt)("inlineCode",{parentName:"li"},"$domain"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"$third-party"),", ",(0,i.kt)("a",{parentName:"li",href:"#content-type-modifiers"},"modifik\xe1tory typu obsahu"),"."),(0,i.kt)("li",{parentName:"ul"},"Z\xe1kladn\xed pravidla v\xfdjimek s n\xe1sleduj\xedc\xedmi modifik\xe1tory: ",(0,i.kt)("inlineCode",{parentName:"li"},"$document"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"$elemhide"),"."),(0,i.kt)("li",{parentName:"ul"},"Z\xe1kladn\xed pravidla ",(0,i.kt)("a",{parentName:"li",href:"#cosmetic-elemhide-rules"},"pro skr\xfdv\xe1n\xed prvk\u016f")," bez roz\u0161\xed\u0159en\xe9 podpory CSS.")),(0,i.kt)("p",null,"Vzhledem k v\xfd\u0161e uveden\xfdm omezen\xedm nebude Blok\xe1tor obsahu AdGuard uveden v pozn\xe1mk\xe1ch ke kompatibilit\u011b."),(0,i.kt)("h2",{id:"z\xe1kladn\xed-pravidla"},"Z\xe1kladn\xed pravidla"),(0,i.kt)("p",null,"Nejjednodu\u0161\u0161\xedmi pravidly jsou tzv. ",(0,i.kt)("em",{parentName:"p"},"z\xe1kladn\xed pravidla"),'. Slou\u017e\xed k blokov\xe1n\xed po\u017eadavk\u016f na konkr\xe9tn\xed adresy URL. Nebo je odblokuj\xed, pokud je na za\u010d\xe1tku pravidla speci\xe1ln\xed znak "@@". Z\xe1kladn\xed princip tohoto typu pravidel je pom\u011brn\u011b jednoduch\xfd: je t\u0159eba zadat adresu a dal\u0161\xed parametry, kter\xe9 omezuj\xed nebo roz\u0161i\u0159uj\xed rozsah pravidla.'),(0,i.kt)("admonition",{title:"D\xedl\u010d\xed po\u017eadavky",type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Z\xe1kladn\xed pravidla pro blokov\xe1n\xed po\u017eadavk\u016f se vztahuj\xed pouze na ",(0,i.kt)("strong",{parentName:"p"},"d\xedl\u010d\xed po\u017eadavky"),". To znamen\xe1, \u017ee nebudou blokovat na\u010d\xedt\xe1n\xed str\xe1nky, pokud nen\xed v\xfdslovn\u011b zad\xe1na pomoc\xed modifik\xe1toru ",(0,i.kt)("inlineCode",{parentName:"p"},"$document"),".")),(0,i.kt)("admonition",{title:"Stav odpov\u011bdi",type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Prohl\xed\u017ee\u010d rozpozn\xe1 zablokovan\xfd po\u017eadavek jako dokon\u010den\xfd s chybou.")),(0,i.kt)("admonition",{title:"D\xe9lka pravidla",type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Pravidla krat\u0161\xed ne\u017e 4 znaky jsou pova\u017eov\xe1na za nespr\xe1vn\xe1 a budou ignorov\xe1na.")),(0,i.kt)("h3",{id:"basic-rules-syntax"},"Syntaxe z\xe1kladn\xedch pravidel"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},'      rule = ["@@"] pattern [ "$" modifiers ]\nmodifiers = [modifier0, modifier1[, ...[, modifierN]]]\n')),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"pattern"))," \u2014 maska adresy. Ka\u017ed\xe1 adresa URL po\u017eadavku je p\u0159i\u0159azena k t\xe9to masce. V \u0161ablon\u011b m\u016f\u017eete tak\xe9 pou\u017e\xedt speci\xe1ln\xed znaky popsan\xe9 ",(0,i.kt)("a",{parentName:"li",href:"#basic-rules-special-characters"},"n\xed\u017ee"),". Vezm\u011bte na v\u011bdom\xed, \u017ee AdGuard zkracuje adresy URL na d\xe9lku 4096 znak\u016f, aby urychlil porovn\xe1v\xe1n\xed a p\u0159ede\u0161el probl\xe9m\u016fm s nesmysln\u011b dlouh\xfdmi adresami URL."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"@@"))," \u2014 znak, kter\xfd se pou\u017e\xedv\xe1 v pravidlech v\xfdjimek. Chcete-li filtrov\xe1n\xed po\u017eadavku vypnout, za\u010dn\u011bte pravidlo touto zna\u010dkou."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"modifiers")),' \u2014 parametry, kter\xe9 "objas\u0148uj\xed" z\xe1kladn\xed pravidlo. N\u011bkter\xe9 z nich omezuj\xed rozsah pravidel a n\u011bkter\xe9 mohou zcela zm\u011bnit jejich fungov\xe1n\xed.')),(0,i.kt)("h3",{id:"basic-rules-special-characters"},"Speci\xe1ln\xed znaky"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"*"))," \u2014 z\xe1stupn\xfd znak. Pou\u017e\xedv\xe1 se k reprezentaci libovoln\xe9 sady znak\u016f. M\u016f\u017ee to b\xfdt tak\xe9 pr\xe1zdn\xfd \u0159et\u011bzec nebo \u0159et\u011bzec libovoln\xe9 d\xe9lky."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"||"))," \u2014 indikace o pou\u017eit\xed pravidla na zadanou dom\xe9nu a jej\xed subdom\xe9ny. S t\xedmto znakem nemus\xedte v masce adresy zad\xe1vat konkr\xe9tn\xed protokol a subdom\xe9nu. Tj., \u017ee ",(0,i.kt)("inlineCode",{parentName:"li"},"||")," znamen\xe1 ",(0,i.kt)("inlineCode",{parentName:"li"},"http://*."),", ",(0,i.kt)("inlineCode",{parentName:"li"},"https://*."),", ",(0,i.kt)("inlineCode",{parentName:"li"},"ws://*."),", ",(0,i.kt)("inlineCode",{parentName:"li"},"wss://*.")," najednou."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"^"))," \u2014 odd\u011blovac\xed znak. Odd\u011blovac\xed znak je libovoln\xfd znak, mimo p\xedsmeno, \u010d\xedslice nebo jeden z n\xe1sleduj\xedc\xedch znak\u016f: ",(0,i.kt)("inlineCode",{parentName:"li"},"_")," ",(0,i.kt)("inlineCode",{parentName:"li"},"-")," ",(0,i.kt)("inlineCode",{parentName:"li"},".")," ",(0,i.kt)("inlineCode",{parentName:"li"},"%"),". V tomto p\u0159\xedkladu jsou odd\u011blovac\xed znaky zobrazeny tu\u010dn\u011b: ",(0,i.kt)("inlineCode",{parentName:"li"},"http:"),(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"//")),(0,i.kt)("inlineCode",{parentName:"li"},"example.com"),(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"/?")),(0,i.kt)("inlineCode",{parentName:"li"},"t=1"),(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"&")),(0,i.kt)("inlineCode",{parentName:"li"},"t2=t3"),". Konec adresy je tak\xe9 akceptov\xe1n jako odd\u011blovac\xed znak."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"|"))," \u2014 ukazatel na za\u010d\xe1tku nebo konci adresy. Hodnota z\xe1vis\xed na um\xedst\u011bn\xed znaku v masce. Nap\u0159. pravidlo ",(0,i.kt)("inlineCode",{parentName:"li"},"swf|")," odpov\xedd\xe1 ",(0,i.kt)("inlineCode",{parentName:"li"},"http://example.com/annoyingflash.swf"),", ale neodpov\xedd\xe1 ",(0,i.kt)("inlineCode",{parentName:"li"},"http://example.com/swf/index.html"),". ",(0,i.kt)("inlineCode",{parentName:"li"},"|http://example.org")," odpov\xedd\xe1 ",(0,i.kt)("inlineCode",{parentName:"li"},"http://example.org"),", ale ne ",(0,i.kt)("inlineCode",{parentName:"li"},"http://domain.com?url=http://example.org"),".")),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("inlineCode",{parentName:"p"},"|"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"||"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"^")," lze pou\u017e\xedt pouze u pravidel se vzorem URL. Nap\u0159. ",(0,i.kt)("inlineCode",{parentName:"p"},"||example.com##.advert")," je nespr\xe1vn\xfd a bude blok\xe1torem ignorov\xe1n.")),(0,i.kt)("admonition",{title:"Vizu\xe1ln\xed zn\xe1zorn\u011bn\xed",type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Doporu\u010dujeme tak\xe9 sezn\xe1mit se s ",(0,i.kt)("a",{parentName:"p",href:"https://adblockplus.org/filter-cheatsheet#blocking"},"p\u0159ehledem filtr\u016f Adblock Plus"),", abyste l\xe9pe pochopili, jak takov\xe1 pravidla vytv\xe1\u0159et.")),(0,i.kt)("h3",{id:"regexp-support"},"Podpora regul\xe1rn\xedch v\xfdraz\u016f"),(0,i.kt)("p",null,"Pokud chcete je\u0161t\u011b v\u011bt\u0161\xed flexibilitu p\u0159i vytv\xe1\u0159en\xed pravidel, m\u016f\u017eete pou\u017e\xedt ",(0,i.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions"},"regul\xe1rn\xed v\xfdrazy")," nam\xedsto v\xfdchoz\xed zjednodu\u0161en\xe9 masky se speci\xe1ln\xedmi znaky."),(0,i.kt)("admonition",{title:"V\xfdkon",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"Pravidla s regul\xe1rn\xedmi v\xfdrazy pracuj\xed pomaleji, proto se jim doporu\u010duje vyhnout nebo omezit jejich rozsah na ur\u010dit\xe9 dom\xe9ny.")),(0,i.kt)("p",null,"Pokud chcete, aby blok\xe1tor ur\u010dil regul\xe1rn\xed v\xfdraz, mus\xed ",(0,i.kt)("inlineCode",{parentName:"p"},"pattern")," vypadat takto:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},'pattern = "/" regexp "/"\n')),(0,i.kt)("p",null,"Nap\u0159. pravidlo ",(0,i.kt)("inlineCode",{parentName:"p"},"/banner\\d+/$third-party")," pou\u017eije regul\xe1rn\xed v\xfdraz ",(0,i.kt)("inlineCode",{parentName:"p"},"banner\\d+")," na v\u0161echny po\u017eadavky t\u0159et\xedch stran. Pravidlo v\xfdjimky s regul\xe1rn\xedm v\xfdrazem vypad\xe1 takto: ",(0,i.kt)("inlineCode",{parentName:"p"},"@@/banner\\d+/"),"."),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"AdGuard pro Safari a AdGuard pro iOS pln\u011b nepodporuj\xed regul\xe1rn\xed v\xfdrazy kv\u016fli ",(0,i.kt)("a",{parentName:"p",href:"https://webkit.org/blog/3476/content-blockers-first-look/"},"omezen\xed API pro blokov\xe1n\xed obsahu"),' (hledejte sekci "Form\xe1t regul\xe1rn\xedho v\xfdrazu").')),(0,i.kt)("h3",{id:"wildcard-for-tld"},"Podpora z\xe1stupn\xfdch znak\u016f pro TLD (dom\xe9ny nejvy\u0161\u0161\xed \xfarovn\u011b)"),(0,i.kt)("p",null,"Z\xe1stupn\xe9 znaky jsou podporov\xe1ny pro TLD dom\xe9n ve vzorech ",(0,i.kt)("a",{parentName:"p",href:"#cosmetic-rules"},"kosmetick\xfdch"),", ",(0,i.kt)("a",{parentName:"p",href:"#html-filtering-rules"},"filtrov\xe1n\xed HTML")," a pravidel ",(0,i.kt)("a",{parentName:"p",href:"#javascript-rules"},"JavaScript"),"."),(0,i.kt)("p",null,"V p\u0159\xedpad\u011b kosmetick\xfdch pravidel, nap\u0159. ",(0,i.kt)("inlineCode",{parentName:"p"},"example.*##.banner"),", je d\xedky znaku ",(0,i.kt)("inlineCode",{parentName:"p"},".*"),", tj. ",(0,i.kt)("inlineCode",{parentName:"p"},"example.com"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"sub.example.net"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"example.co.uk"),", atd. p\u0159i\u0159azeno v\xedce dom\xe9n."),(0,i.kt)("p",null,"Pro z\xe1kladn\xed pravidla plat\xed popsan\xe1 logika pouze pro dom\xe9ny uveden\xe9 v ",(0,i.kt)("a",{parentName:"p",href:"#domain-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$domain")," modifik\xe1toru"),", nap\u0159. ",(0,i.kt)("inlineCode",{parentName:"p"},"||*/banners/*$image,domain=example.*"),"."),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"V AdGuardu pro Windows, Mac, Android a v pravidlech roz\u0161\xed\u0159en\xed prohl\xed\u017ee\u010de AdGuard se z\xe1stupn\xfdm znakem ",(0,i.kt)("inlineCode",{parentName:"p"},".*"),", odpov\xedd\xe1 jak\xe9koli ve\u0159ejn\xe9 p\u0159\xedpon\u011b ",(0,i.kt)("a",{parentName:"p",href:"https://publicsuffix.org/list/"},"(nebo eTLD)"),". Pro AdGuard pro Safari a iOS ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/AdguardTeam/SafariConverterLib/blob/v2.0.31/Sources/ContentBlockerConverter/Compiler/BlockerEntryFactory.swift#L44"},"je v\u0161ak seznam podporovan\xfdch dom\xe9n nejvy\u0161\u0161\xed \xfarovn\u011b")," omezen kv\u016fli omezen\xedm v Safari.")),(0,i.kt)("p",null,"Pravidla se z\xe1stupn\xfdm znakem pro TLD nejsou podporov\xe1na Blok\xe1torem obsahu AdGuard."),(0,i.kt)("h3",{id:"p\u0159\xedklady-z\xe1kladn\xedch-pravidel"},"P\u0159\xedklady z\xe1kladn\xedch pravidel"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"||example.com/ads/*")," \u2014 jednoduch\xe9 pravidlo, kter\xe9 odpov\xedd\xe1 adres\xe1m typu ",(0,i.kt)("inlineCode",{parentName:"p"},"http://example.com/ads/banner.jpg")," a dokonce i ",(0,i.kt)("inlineCode",{parentName:"p"},"http://subdomain.example.com/ads/otherbanner.jpg"),".")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"||example.org^$third-party")," \u2014 this rule blocks third-party requests to ",(0,i.kt)("inlineCode",{parentName:"p"},"example.org")," and its subdomains.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"@@||example.com$document")," \u2014 obecn\xe9 pravidlo v\xfdjimky. Zcela vypne filtrov\xe1n\xed pro ",(0,i.kt)("inlineCode",{parentName:"p"},"example.com")," a v\u0161echny subdom\xe9ny. V pravidlech pro v\xfdjimky lze pou\u017e\xedt \u0159adu modifik\xe1tor\u016f. Pro v\xedce podrobnost\xed klikn\u011bte na ",(0,i.kt)("a",{parentName:"p",href:"#exception-modifiers"},"odkaz ")," n\xed\u017ee."))),(0,i.kt)("h3",{id:"modifik\xe1tory-z\xe1kladn\xedch-pravidel"},"Modifik\xe1tory z\xe1kladn\xedch pravidel"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#basic-rules-basic-modifiers"},"Z\xe1kladn\xed modifik\xe1tory")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#content-type-modifiers"},"Modifik\xe1tory typu obsahu")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#exception-modifiers"},"Modifik\xe1tory v\xfdjimek"))),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},'Funkce popsan\xe9 v t\xe9to \u010d\xe1sti jsou ur\u010deny pro zku\u0161en\xe9 u\u017eivatele. Roz\u0161i\u0159uj\xed mo\u017enosti "z\xe1kladn\xedch pravidel", ale abyste je mohli pou\u017e\xedvat, mus\xedte m\xedt z\xe1kladn\xed znalosti o fungov\xe1n\xed prohl\xed\u017ee\u010de.')),(0,i.kt)("p",null,'Chov\xe1n\xed "z\xe1kladn\xedho pravidla" m\u016f\u017eete zm\u011bnit pomoc\xed dal\u0161\xedch modifik\xe1tor\u016f. Modifik\xe1tory by m\u011bly b\xfdt um\xedst\u011bny na konci pravidla za znakem ',(0,i.kt)("inlineCode",{parentName:"p"},"$")," a odd\u011bleny \u010d\xe1rkami."),(0,i.kt)("p",null,"P\u0159\xedklad:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"||domain.com^$popup,third-party\n")),(0,i.kt)("h3",{id:"basic-rules-basic-modifiers"},"Z\xe1kladn\xed modifik\xe1tory"),(0,i.kt)("p",null,"N\xe1sleduj\xedc\xed modifik\xe1tory jsou nejjednodu\u0161\u0161\xed a nej\u010dast\u011bji pou\u017e\xedvan\xe9. V podstat\u011b jen omezuj\xed rozsah pou\u017eit\xed pravidel."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Modifik\xe1tor \\ Produkty"),(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("a",{parentName:"th",href:"#what-product",title:"AdGuard for Windows, Mac, Android"},"Aplikace CoreLibs")),(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("a",{parentName:"th",href:"#what-product",title:"AdGuard Browser Extension for Chrome and other Chromium-based browsers"},"AdGuard pro Chromium")),(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("a",{parentName:"th",href:"#what-product",title:"AdGuard Browser Extension for Firefox"},"AdGuard pro Firefox")),(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("a",{parentName:"th",href:"#what-product",title:"AdGuard for iOS and AdGuard Pro for iOS"},"AdGuard pro iOS")),(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("a",{parentName:"th",href:"#what-product",title:"AdGuard pro Safari"},"AdGuard pro Safari")),(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("a",{parentName:"th",href:"#what-product",title:"AdGuard Content Blocker for Samsung Internet and Yandex Browser on Android"},"Blok\xe1tor obsahu AdGuard")))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#app-modifier"},"$app")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#denyallow-modifier"},"$denyallow")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#domain-modifier"},"$domain")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705 ",(0,i.kt)("a",{parentName:"td",href:"#domain-modifier-limitations"},"*")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705 ",(0,i.kt)("a",{parentName:"td",href:"#domain-modifier-limitations"},"*")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#header-modifier"},"$header")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u23f3"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u23f3"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#important-modifier"},"$important")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#match-case-modifier"},"$match-case")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#method-modifier"},"$method")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#popup-modifier"},"$popup")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705 *"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705 *"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705 *"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#third-party-modifier"},"$third-party")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#to-modifier"},"$to")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")))),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},"\u2705 \u2014 pln\u011b podporov\xe1no"),(0,i.kt)("li",{parentName:"ul"},"\u2705 * \u2014 podporov\xe1no, ale spolehlivost se m\u016f\u017ee li\u0161it nebo se mohou vyskytnout omezen\xed; v\xedce informac\xed naleznete v popisu modifik\xe1toru"),(0,i.kt)("li",{parentName:"ul"},"\u23f3 \u2014 funkce, kter\xe1 byla implementov\xe1na nebo jej\xed\u017e implementace se pl\xe1nuje, ale zat\xedm nen\xed k dispozici v \u017e\xe1dn\xe9m produktu"),(0,i.kt)("li",{parentName:"ul"},"\u274c \u2014 nepodporov\xe1no"))),(0,i.kt)("h4",{id:"app-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$app"))),(0,i.kt)("p",null,"Tento modifik\xe1tor umo\u017e\u0148uje z\xfa\u017eit pokryt\xed pravidla na konkr\xe9tn\xed aplikaci (nebo seznam aplikac\xed). V syst\xe9mech Windows a Mac to nemus\xed b\xfdt p\u0159\xedli\u0161 d\u016fle\u017eit\xe9, ale v mobiln\xedch za\u0159\xedzen\xedch, kde n\u011bkter\xe1 pravidla filtrov\xe1n\xed mus\xed b\xfdt specifick\xe1 pro konkr\xe9tn\xed aplikaci, je to velmi d\u016fle\u017eit\xe9."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Android \u2014 pou\u017eijte n\xe1zev bal\xed\u010dku aplikace, nap\u0159. ",(0,i.kt)("inlineCode",{parentName:"li"},"org.example.app"),"."),(0,i.kt)("li",{parentName:"ul"},"Windows \u2014 pou\u017eijte n\xe1zev procesu, nap\u0159. ",(0,i.kt)("inlineCode",{parentName:"li"},"chrome.exe"),"."),(0,i.kt)("li",{parentName:"ul"},"Mac \u2014 pou\u017eijte ID svazku nebo n\xe1zev procesu, nap\u0159. ",(0,i.kt)("inlineCode",{parentName:"li"},"com.google.Chrome"),".")),(0,i.kt)("p",null,"V p\u0159\xedpad\u011b po\u010d\xedta\u010de Mac m\u016f\u017eete ID svazku nebo n\xe1zev procesu aplikace zjistit zobrazen\xedm p\u0159\xedslu\u0161n\xfdch podrobnost\xed o po\u017eadavku v z\xe1znamu filtrov\xe1n\xed."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||baddomain.com^$app=org.example.app")," \u2014 pravidlo pro blokov\xe1n\xed po\u017eadavk\u016f, kter\xe9 odpov\xeddaj\xed zadan\xe9 masce a jsou odesl\xe1ny z Android aplikace ",(0,i.kt)("inlineCode",{parentName:"li"},"org.example.app"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||baddomain.com^$app=org.example.app1|org.example.app2")," \u2014 stejn\xe9 pravidlo, ale funguje jak pro ",(0,i.kt)("inlineCode",{parentName:"li"},"org.example.app1"),", tak i pro ",(0,i.kt)("inlineCode",{parentName:"li"},"org.example.app2"),".")),(0,i.kt)("p",null,"Pokud chcete, aby se pravidlo nevztahovalo na ur\u010dit\xe9 aplikace, za\u010dn\u011bte n\xe1zev aplikace znakem ",(0,i.kt)("inlineCode",{parentName:"p"},"~"),"."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||baddomain.com^$app=~org.example.app")," \u2014 pravidlo pro blokov\xe1n\xed po\u017eadavk\u016f, kter\xe9 odpov\xeddaj\xed zadan\xe9 masce a jsou odesl\xe1ny z jak\xe9koli aplikace krom\u011b ",(0,i.kt)("inlineCode",{parentName:"li"},"org.example.app"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||baddomain.com^$app=~org.example.app1|~org.example.app2")," \u2014 stejn\u011b jako v\xfd\u0161e, ale nyn\xed jsou vylou\u010deny dv\u011b aplikace: ",(0,i.kt)("inlineCode",{parentName:"li"},"org.example.app1")," a ",(0,i.kt)("inlineCode",{parentName:"li"},"org.example.app2"),".")),(0,i.kt)("admonition",{title:"Omezen\xed",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"Aplikace v hodnot\u011b modifik\xe1toru nemohou m\xedt z\xe1stupn\xfd znak, nap\u0159. ",(0,i.kt)("inlineCode",{parentName:"p"},"$app=com.*.music"),". Pravidla s takov\xfdm modifik\xe1torem jsou pova\u017eov\xe1na za neplatn\xe1.")),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},"Pouze AdGuard pro Windows, Mac a Android jsou technicky schopn\xe9 pou\u017e\xedvat pravidla s modifik\xe1torem ",(0,i.kt)("inlineCode",{parentName:"li"},"$app"),"."),(0,i.kt)("li",{parentName:"ul"},"On Windows the process name is case-insensitive starting with AdGuard for Windows with ",(0,i.kt)("a",{parentName:"li",href:"https://adguard.com/en/blog/introducing-corelibs.html"},"CoreLibs")," v1.12 or later."))),(0,i.kt)("h4",{id:"denyallow-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$denyallow"))),(0,i.kt)("p",null,"Modifik\xe1tor ",(0,i.kt)("inlineCode",{parentName:"p"},"$denyallow")," umo\u017e\u0148uje vyhnout se vytv\xe1\u0159en\xed dal\u0161\xedch pravidel, pokud je pot\u0159eba zak\xe1zat ur\u010dit\xe9 pravidlo pro konkr\xe9tn\xed dom\xe9ny. ",(0,i.kt)("inlineCode",{parentName:"p"},"$denyallow")," odpov\xedd\xe1 pouze c\xedlov\xfdm dom\xe9n\xe1m, nikoli dom\xe9n\xe1m odkazuj\xedc\xedm."),(0,i.kt)("p",null,"P\u0159id\xe1n\xed tohoto modifik\xe1toru k pravidlu je ekvivalentn\xed vylou\u010den\xed dom\xe9n podle shodn\xe9ho vzoru pravidla nebo p\u0159id\xe1n\xed odpov\xeddaj\xedc\xedch pravidel v\xfdjimek. To add multiple domains to one rule, use the ",(0,i.kt)("inlineCode",{parentName:"p"},"|")," character as a separator."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("p",null,"Toto pravidlo:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"*$script,domain=a.com|b.com,denyallow=x.com|y.com\n")),(0,i.kt)("p",null,"odpov\xedd\xe1 tomuto:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"/^(?!.*(x.com|y.com)).*$/$script,domain=a.com|b.com\n")),(0,i.kt)("p",null,"nebo kombinaci t\u011bchto t\u0159\xed:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"*$script,domain=a.com|b.com\n@@||x.com$script,domain=a.com|b.com\n@@||y.com$script,domain=a.com|b.com\n")),(0,i.kt)("admonition",{title:"Omezen\xed",type:"caution"},(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},"Vzor shody pravidla se nem\u016f\u017ee zam\u011b\u0159it na \u017e\xe1dn\xe9 konkr\xe9tn\xed dom\xe9ny, nap\u0159. nem\u016f\u017ee za\u010d\xednat ",(0,i.kt)("inlineCode",{parentName:"li"},"||"),"."),(0,i.kt)("li",{parentName:"ul"},"Dom\xe9ny v hodnot\u011b modifik\xe1toru nemohou b\xfdt negov\xe1ny, nap\u0159. ",(0,i.kt)("inlineCode",{parentName:"li"},"$denyallow=~x.com"),", nebo m\xedt z\xe1stupn\xfd znak TLD, nap\u0159. ",(0,i.kt)("inlineCode",{parentName:"li"},"$denyallow=x.*"),".")),(0,i.kt)("p",{parentName:"admonition"},"Pravidla, kter\xe1 tato omezen\xed poru\u0161uj\xed, jsou pova\u017eov\xe1na za neplatn\xe1.")),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Pravidla s modifik\xe1torem ",(0,i.kt)("inlineCode",{parentName:"p"},"$denyallow")," nejsou AdGuardem pro iOS, Safari a Blok\xe1torem obsahu AdGuard podporov\xe1na.")),(0,i.kt)("h4",{id:"domain-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$domain"))),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"$domain")," omezuje rozsah pravidla na po\u017eadavky ",(0,i.kt)("strong",{parentName:"p"},"ze zadan\xfdch dom\xe9n")," a jejich subdom\xe9n (jak je uvedeno v z\xe1hlav\xed ",(0,i.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer"},"Referer")," HTTP)."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Syntaxe")),(0,i.kt)("p",null,"Modifik\xe1tor je seznam jednoho nebo v\xedce v\xfdraz\u016f odd\u011blen\xfdch symbolem ",(0,i.kt)("inlineCode",{parentName:"p"},"|"),", z nich\u017e ka\u017ed\xfd je porovn\xe1v\xe1n s dom\xe9nou ur\u010dit\xfdm zp\u016fsobem v z\xe1vislosti na sv\xe9m typu (viz n\xed\u017ee)."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},'domains = ["~"] entry_0 ["|" ["~"] entry_1 ["|" ["~"]entry_2 ["|" ... ["|" ["~"]entry_N]]]]\nentry_i = ( regular_domain / any_tld_domain / regexp )\n')),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"regular_domain"))," \u2014 b\u011b\u017en\xfd n\xe1zev dom\xe9ny (",(0,i.kt)("inlineCode",{parentName:"li"},"domain.com"),"). Odpov\xedd\xe1 zadan\xe9 dom\xe9n\u011b a jej\xedm subdom\xe9n\xe1m. Shoduje se lexikograficky."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"any_tld_domain"))," \u2014 n\xe1zev dom\xe9ny zakon\u010den\xfd z\xe1stupn\xfdm znakem jako ",(0,i.kt)("a",{parentName:"li",href:"https://publicsuffix.org/learn/"},"ve\u0159ejn\xe1 p\u0159\xedpona"),", nap\u0159. pro ",(0,i.kt)("inlineCode",{parentName:"li"},"example.*")," je to ",(0,i.kt)("inlineCode",{parentName:"li"},"co.uk")," v ",(0,i.kt)("inlineCode",{parentName:"li"},"example.co.uk"),". Odpov\xedd\xe1 zadan\xe9 dom\xe9n\u011b a jej\xedm subdom\xe9n\xe1m s libovolnou ve\u0159ejnou p\u0159\xedponou. Shoduje se lexikograficky."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"regexp"))," \u2014 regul\xe1rn\xed v\xfdraz, kter\xfd za\u010d\xedn\xe1 a kon\u010d\xed znakem ",(0,i.kt)("inlineCode",{parentName:"li"},"/"),". Vzor funguje stejn\u011b jako v z\xe1kladn\xedch pravidlech pro URL adresy, ale znaky ",(0,i.kt)("inlineCode",{parentName:"li"},"/"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"$")," a ",(0,i.kt)("inlineCode",{parentName:"li"},",")," mus\xed b\xfdt uvozeny pomoc\xed ",(0,i.kt)("inlineCode",{parentName:"li"},"\\"),".")),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Pravidla s modifik\xe1torem ",(0,i.kt)("inlineCode",{parentName:"p"},"$domain")," jako ",(0,i.kt)("inlineCode",{parentName:"p"},"regular_domain")," nebo ",(0,i.kt)("inlineCode",{parentName:"p"},"any_tld_domain")," jsou podporov\xe1na v\u0161emi AdGuard produkty.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Jen ",(0,i.kt)("inlineCode",{parentName:"strong"},"$domain"),":")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||baddomain.com^$domain=example.org")," blokuje po\u017eadavky, kter\xe9 odpov\xeddaj\xed zadan\xe9 masce a jsou odesl\xe1ny z dom\xe9ny ",(0,i.kt)("inlineCode",{parentName:"li"},"example.org")," nebo jej\xedch subdom\xe9n."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||baddomain.com^$domain=example.org|example.com")," \u2014 stejn\xe9 pravidlo, ale funguje jak pro ",(0,i.kt)("inlineCode",{parentName:"li"},"example.org"),", tak i pro ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com"),".")),(0,i.kt)("p",null,"Pokud chcete, aby se pravidlo nevztahovalo na ur\u010dit\xe9 dom\xe9ny, za\u010dn\u011bte n\xe1zev dom\xe9ny znakem ",(0,i.kt)("inlineCode",{parentName:"p"},"~"),"."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("inlineCode",{parentName:"strong"},"$domain")," a negace ",(0,i.kt)("inlineCode",{parentName:"strong"},"~"),":")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||baddomain.com^$domain=example.org")," blokuje po\u017eadavky, kter\xe9 odpov\xeddaj\xed zadan\xe9 masce a jsou odesl\xe1ny z dom\xe9ny ",(0,i.kt)("inlineCode",{parentName:"li"},"example.org")," nebo jej\xedch subdom\xe9n."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||baddomain.com^$domain=example.org|example.com")," \u2014 stejn\xe9 pravidlo, ale funguje jak pro ",(0,i.kt)("inlineCode",{parentName:"li"},"example.org"),", tak i pro ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||baddomain.com^$domain=~example.org")," blokuje po\u017eadavky, kter\xe9 odpov\xeddaj\xed vzoru a jsou odeslan\xe9 z jak\xe9koli dom\xe9ny krom\u011b ",(0,i.kt)("inlineCode",{parentName:"li"},"example.org")," a jej\xedch subdom\xe9n."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||baddomain.com^$domain=example.org|~foo.example.org")," blokuje po\u017eadavky odeslan\xe9 z ",(0,i.kt)("inlineCode",{parentName:"li"},"example.org")," a j\xedch subdom\xe9n, krom\u011b subdom\xe9ny ",(0,i.kt)("inlineCode",{parentName:"li"},"foo.example.org"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||baddomain.com^$domain=/(^\\|.+\\.)example\\.(com\\|org)\\$/")," blokuje po\u017eadavky odeslan\xe9 z ",(0,i.kt)("inlineCode",{parentName:"li"},"example.org")," a ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com")," a v\u0161ech jej\xedch subdom\xe9n."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||baddomain.com^$domain=~a.com|~b.*|~/(^\\|.+\\.)c\\.(com\\|org)\\$/")," blokuje po\u017eadavky odeslan\xe9 z ",(0,i.kt)("inlineCode",{parentName:"li"},"a.com"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"b")," s libovolnou ve\u0159ejnou p\u0159\xedponou (",(0,i.kt)("inlineCode",{parentName:"li"},"b.com"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"b.co.uk"),", etc.), ",(0,i.kt)("inlineCode",{parentName:"li"},"c.com"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"c.org"),", a jejich subdom\xe9n.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("inlineCode",{parentName:"strong"},"$domain")," modifik\xe1tor odpov\xeddaj\xedc\xed c\xedlov\xe9 dom\xe9n\u011b:")),(0,i.kt)("p",null,"V n\u011bkter\xfdch p\u0159\xedpadech m\u016f\u017ee modifik\xe1tor ",(0,i.kt)("inlineCode",{parentName:"p"},"$domain")," odpov\xeddat nejen dom\xe9n\u011b odkazova\u010de, ale tak\xe9 c\xedlov\xe9 dom\xe9n\u011b. K tomu dojde, pokud jsou spln\u011bny v\u0161echny n\xe1sleduj\xedc\xed podm\xednky:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Po\u017eadavek m\xe1 typ obsahu ",(0,i.kt)("inlineCode",{parentName:"li"},"document")),(0,i.kt)("li",{parentName:"ol"},"Vzor pravidla neodpov\xedd\xe1 \u017e\xe1dn\xe9 konkr\xe9tn\xed dom\xe9n\u011b"),(0,i.kt)("li",{parentName:"ol"},"Vzor pravidla neobsahuje regul\xe1rn\xed v\xfdrazy"),(0,i.kt)("li",{parentName:"ol"},"Modifik\xe1tor ",(0,i.kt)("inlineCode",{parentName:"li"},"$domain")," obsahuje pouze dom\xe9ny ve v\xfdjimk\xe1ch, nap\u0159. ",(0,i.kt)("inlineCode",{parentName:"li"},"$domain=~example.org|~example.com"))),(0,i.kt)("p",null,"N\xe1sleduj\xedc\xed predik\xe1t by m\u011bl b\xfdt spln\u011bn, aby bylo mo\u017en\xe9 prov\xe9st porovn\xe1n\xed c\xedlov\xe9 dom\xe9ny:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},"1 AND ((2 AND 3) OR 4)\n")),(0,i.kt)("p",null,"To znamen\xe1, \u017ee pokud modifik\xe1tor ",(0,i.kt)("inlineCode",{parentName:"p"},"$domain")," obsahuje pouze dom\xe9ny ve v\xfdjimk\xe1ch, pak pravidlo nemus\xed spl\u0148ovat druhou a t\u0159et\xed podm\xednku, aby se c\xedlov\xe1 dom\xe9na shodovala s modifik\xe1torem ",(0,i.kt)("inlineCode",{parentName:"p"},"$domain"),"."),(0,i.kt)("p",null,"Pokud n\u011bkter\xe9 z v\xfd\u0161e uveden\xfdch podm\xednek nejsou spln\u011bny, ale pravidlo obsahuje modifik\xe1tor ",(0,i.kt)("a",{parentName:"p",href:"#cookie-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$cookie"))," nebo ",(0,i.kt)("a",{parentName:"p",href:"#csp-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$csp")),", c\xedlov\xe1 dom\xe9na bude p\u0159esto p\u0159i\u0159azena."),(0,i.kt)("p",null,"Pokud odkazuj\xedc\xed dom\xe9na odpov\xedd\xe1 pravidlu s ",(0,i.kt)("inlineCode",{parentName:"p"},"$domain"),", kter\xe9 v\xfdslovn\u011b vylu\u010duje dom\xe9nu odkazuj\xedc\xedho serveru, pravidlo se nepou\u017eije, i kdy\u017e c\xedlov\xe1 dom\xe9na tak\xe9 odpov\xedd\xe1 pravidlu. To m\xe1 vliv i na pravidla s modifik\xe1tory ",(0,i.kt)("a",{parentName:"p",href:"#cookie-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$cookie"))," a ",(0,i.kt)("a",{parentName:"p",href:"#csp-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$csp")),"."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"*$cookie,domain=example.org|example.com")," zablokuje soubory cookie pro v\u0161echny po\u017eadavky do a z dom\xe9ny ",(0,i.kt)("inlineCode",{parentName:"li"},"example.org")," a ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"*$document,domain=example.org|example.com")," zablokuje v\u0161echny po\u017eadavky do a z dom\xe9ny ",(0,i.kt)("inlineCode",{parentName:"li"},"example.org")," a ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com"),".")),(0,i.kt)("p",null,"V n\xe1sleduj\xedc\xedch p\u0159\xedkladech se p\u0159edpokl\xe1d\xe1, \u017ee po\u017eadavky jsou odes\xedl\xe1ny z adresy ",(0,i.kt)("inlineCode",{parentName:"p"},"http://example.org/page")," (odkazuj\xedc\xed adresa), c\xedlov\xe1 adresa URL je ",(0,i.kt)("inlineCode",{parentName:"p"},"http://targetdomain.com/page"),"."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"page$domain=example.org")," bude p\u0159i\u0159azena, proto\u017ee odpov\xedd\xe1 dom\xe9n\u011b odkazu."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"page$domain=targetdomain.com")," bude p\u0159i\u0159azena, proto\u017ee odpov\xedd\xe1 c\xedlov\xe9 dom\xe9n\u011b a spl\u0148uje v\u0161echny v\xfd\u0161e uveden\xe9 po\u017eadavky."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||*page$domain=targetdomain.com")," nebude p\u0159i\u0159azena, proto\u017ee vzor ",(0,i.kt)("inlineCode",{parentName:"li"},"||*page")," odpov\xedd\xe1 konkr\xe9tn\xedm dom\xe9n\xe1m, nap\u0159. ",(0,i.kt)("inlineCode",{parentName:"li"},"example.page"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||*page$domain=targetdomain.com,cookie")," bude p\u0159i\u0159azena, proto\u017ee pravidlo obsahuje modifik\xe1tor ",(0,i.kt)("inlineCode",{parentName:"li"},"$cookie"),", p\u0159esto\u017ee vzor ",(0,i.kt)("inlineCode",{parentName:"li"},"||*page")," m\u016f\u017ee odpov\xeddat konkr\xe9tn\xedm dom\xe9n\xe1m."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"/banner\\d+/$domain=targetdomain.com")," nebude p\u0159i\u0159azena, proto\u017ee obsahuje regul\xe1rn\xed v\xfdraz."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"page$domain=targetdomain.com|~example.org")," nebude p\u0159i\u0159azena, proto\u017ee dom\xe9na odkazu je v\xfdslovn\u011b vylou\u010dena.")),(0,i.kt)("h5",{id:"domain-modifier-limitations"},"omezen\xed modifik\xe1toru ",(0,i.kt)("inlineCode",{parentName:"h5"},"$domain")),(0,i.kt)("admonition",{title:"Omezen\xed",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"Safari nepodporuje sou\u010dasn\xe9 pou\u017eit\xed povolen\xfdch a zak\xe1zan\xfdch dom\xe9n, tak\u017ee pravidla jako ",(0,i.kt)("inlineCode",{parentName:"p"},"||baddomain.com^$domain=example.org|~foo.example.org")," nebudou v AdGuardu pro iOS a AdGuardu pro Safari fungovat.")),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Rules with regular expressions in the ",(0,i.kt)("inlineCode",{parentName:"p"},"$domain")," modifier are supported by AdGuard for Windows, Mac, and Android with ",(0,i.kt)("a",{parentName:"p",href:"https://adguard.com/en/blog/introducing-corelibs.html"},"CoreLibs")," v1.11 or later."),(0,i.kt)("p",{parentName:"admonition"},"In AdGuard for Windows, Mac and Android with ",(0,i.kt)("a",{parentName:"p",href:"https://adguard.com/en/blog/introducing-corelibs.html"},"CoreLibs")," v1.12 or later the ",(0,i.kt)("inlineCode",{parentName:"p"},"$domain")," modifier can be alternatively spelled as ",(0,i.kt)("inlineCode",{parentName:"p"},"$from"),".")),(0,i.kt)("h4",{id:"header-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$header"))),(0,i.kt)("p",null,"Modifik\xe1tor ",(0,i.kt)("inlineCode",{parentName:"p"},"$header")," umo\u017e\u0148uje porovnat odpov\u011b\u010f HTTP se specifick\xfdm z\xe1hlav\xedm s (voliteln\u011b) specifickou hodnotou."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Syntaxe")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},'$header "=" h_name [":" h_value]\nh_value = string / regexp\n')),(0,i.kt)("p",null,"kde:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"h_name"))," \u2014 povinn\xfd n\xe1zev z\xe1hlav\xed HTTP. Je p\u0159izp\u016fsoben p\u0159\xedpad od p\u0159\xedpadu."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"h_value"))," \u2014 nepovinn\xfd v\xfdraz odpov\xeddaj\xedc\xed hodnot\u011b z\xe1hlav\xed HTTP, m\u016f\u017ee to b\xfdt jeden z n\xe1sleduj\xedc\xedch v\xfdraz\u016f:",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"string"))," \u2014 posloupnost znak\u016f. Porovn\xe1v\xe1 se s hodnotou z\xe1hlav\xed lexikograficky;"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"regexp"))," \u2014 regul\xe1rn\xed v\xfdraz, kter\xfd za\u010d\xedn\xe1 a kon\u010d\xed znakem ",(0,i.kt)("inlineCode",{parentName:"li"},"/"),". Vzor funguje stejn\u011b jako v z\xe1kladn\xedch pravidlech pro URL adresy, ale znaky ",(0,i.kt)("inlineCode",{parentName:"li"},"/"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"$")," a ",(0,i.kt)("inlineCode",{parentName:"li"},",")," mus\xed b\xfdt uvozeny pomoc\xed ",(0,i.kt)("inlineCode",{parentName:"li"},"\\"),".")))),(0,i.kt)("p",null,"\u010c\xe1st modifik\xe1toru ",(0,i.kt)("inlineCode",{parentName:"p"},'":" h_value')," lze vynechat. V takov\xe9m p\u0159\xedpad\u011b modifik\xe1tor odpov\xedd\xe1 pouze n\xe1zvu z\xe1hlav\xed."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||example.com^$header=set-cookie:foo")," blokuje po\u017eadavky, jejich\u017e odpov\u011bdi maj\xed hlavi\u010dku ",(0,i.kt)("inlineCode",{parentName:"li"},"Set-Cookie")," s hodnotou odpov\xeddaj\xedc\xed ",(0,i.kt)("inlineCode",{parentName:"li"},"foo"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||example.com^$header=set-cookie")," blokuje po\u017eadavky, jejich\u017e odpov\u011bdi maj\xed hlavi\u010dku ",(0,i.kt)("inlineCode",{parentName:"li"},"Set-Cookie")," s libovolnou hodnotou."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.com^$header=set-cookie:/foo\\, bar\\$/")," odblokuje po\u017eadavky, jejich\u017e odpov\u011bdi maj\xed hlavi\u010dku ",(0,i.kt)("inlineCode",{parentName:"li"},"Set-Cookie")," s hodnotou odpov\xeddaj\xedc\xed regul\xe1rn\xedmu v\xfdrazu ",(0,i.kt)("inlineCode",{parentName:"li"},"foo, bar$"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.com^$header=set-cookie")," odblokuje po\u017eadavky, jejich\u017e odpov\u011bdi maj\xed hlavi\u010dku ",(0,i.kt)("inlineCode",{parentName:"li"},"Set-Cookie")," s libovolnou hodnotou.")),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Rules with the ",(0,i.kt)("inlineCode",{parentName:"p"},"$header")," modifier are supported by AdGuard for Windows, Mac, and Android with ",(0,i.kt)("a",{parentName:"p",href:"https://adguard.com/en/blog/introducing-corelibs.html"},"CoreLibs")," v1.11 or later.")),(0,i.kt)("h4",{id:"important-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$important"))),(0,i.kt)("p",null,"Modifik\xe1tor ",(0,i.kt)("inlineCode",{parentName:"p"},"$important")," pou\u017eit\xfd na pravidlo zvy\u0161uje jeho prioritu oproti pravidl\u016fm bez stejn\xe9ho modifik\xe1toru. Dokonce i p\u0159es z\xe1kladn\xed pravidla v\xfdjimek."),(0,i.kt)("p",null,"Dal\u0161\xed podrobnosti najdete v ",(0,i.kt)("a",{parentName:"p",href:"#rule-priorities"},"priorit\xe1ch pravidel"),"."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"! pravidlo blokov\xe1n\xed zablokuje v\u0161echny po\u017eadavky navzdory pravidlu v\xfdjimky\n||example.org^$important\n@@||example.org^\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"! pokud m\xe1 pravidlo v\xfdjimky tak\xe9 modifik\xe1tor `$important`, bude m\xedt p\u0159ednost a \u017e\xe1dn\xe9 po\u017eadavky nebudou blokov\xe1ny\n||example.org^$important\n@@||example.org^$important\n")),(0,i.kt)("h4",{id:"match-case-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$match-case"))),(0,i.kt)("p",null,"Tento modifik\xe1tor definuje pravidlo, kter\xe9 se vztahuje pouze na adresy odpov\xeddaj\xedc\xed dan\xe9mu p\u0159\xedpadu. V\xfdchoz\xed pravidla nerozli\u0161uj\xed velk\xe1 a mal\xe1 p\xedsmena."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"*/BannerAd.gif$match-case")," \u2014 toto pravidlo zablokuje ",(0,i.kt)("inlineCode",{parentName:"li"},"http://example.com/BannerAd.gif"),", ale ne ",(0,i.kt)("inlineCode",{parentName:"li"},"http://example.com/bannerad.gif"),".")),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Rules with the ",(0,i.kt)("inlineCode",{parentName:"p"},"$match-case")," are supported by AdGuard for iOS and AdGuard for Safari with SafariConverterLib v2.0.43 or later."),(0,i.kt)("p",{parentName:"admonition"},"V\u0161echny ostatn\xed produkty ji\u017e tento modifik\xe1tor podporuj\xed.")),(0,i.kt)("h4",{id:"method-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$method"))),(0,i.kt)("p",null,"Tento modifik\xe1tor omezuje rozsah pravidla na po\u017eadavky, kter\xe9 pou\u017e\xedvaj\xed zadanou sadu metod HTTP. Negovan\xe9 metody jsou povoleny. Metody mus\xed b\xfdt zad\xe1ny mal\xfdmi p\xedsmeny, ale p\u0159i porovn\xe1v\xe1n\xed se nerozli\u0161uj\xed velk\xe1 a mal\xe1 p\xedsmena. Chcete-li do jednoho pravidla p\u0159idat v\xedce metod, pou\u017eijte jako odd\u011blovac\xed znak svislou \u010d\xe1ru ",(0,i.kt)("inlineCode",{parentName:"p"},"|"),"."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||evil.com^$method=get|head")," blokuje pouze po\u017eadavky GET a HEAD na dom\xe9n\u011b ",(0,i.kt)("inlineCode",{parentName:"li"},"evil.com"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||evil.com^$method=~post|~put")," blokuje v\u0161echny po\u017eadavky na dom\xe9n\u011b ",(0,i.kt)("inlineCode",{parentName:"li"},"evil.com")," krom\u011b POST nebo PUT."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||evil.com$method=get")," odblokuje pouze po\u017eadavky GET na dom\xe9n\u011b ",(0,i.kt)("inlineCode",{parentName:"li"},"evil.com"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||evil.com$method=~post")," odblokuje jak\xe9koliv po\u017eadavky na dom\xe9n\u011b ",(0,i.kt)("inlineCode",{parentName:"li"},"evil.com")," krom\u011b POST.")),(0,i.kt)("admonition",{title:"Omezen\xed",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"Pravidla se sm\xed\u0161en\xfdmi negovan\xfdmi a negovan\xfdmi hodnotami jsou pova\u017eov\xe1na za neplatn\xe1. Tak\u017ee nap\u0159. pravidlo ",(0,i.kt)("inlineCode",{parentName:"p"},"||evil.com^$method=get|~head")," bude zam\xedtnuto.")),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Rules with ",(0,i.kt)("inlineCode",{parentName:"p"},"$method")," modifier are supported by AdGuard for Windows, Mac, and Android with ",(0,i.kt)("a",{parentName:"p",href:"https://adguard.com/en/blog/introducing-corelibs.html"},"CoreLibs")," v1.12 or later and AdGuard Browser Extension for Chrome, Firefox, and Edge with ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/AdguardTeam/tsurlfilter/tree/master/packages/tsurlfilter#tsurlfilter"},"TSUrlFilter")," v2.1.1 or later.")),(0,i.kt)("h4",{id:"popup-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$popup"))),(0,i.kt)("p",null,"AdGuard se pokus\xed zav\u0159\xedt kartu prohl\xed\u017ee\u010de s jakoukoli adresou, kter\xe1 odpov\xedd\xe1 pravidlu blokov\xe1n\xed s t\xedmto modifik\xe1torem. Upozor\u0148ujeme, \u017ee ne v\u0161echny karty lze zav\u0159\xedt."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||domain.com^$popup")," \u2014 pokud se pokus\xedte p\u0159ej\xedt na ",(0,i.kt)("inlineCode",{parentName:"li"},"http://domain.com/")," z libovoln\xe9 str\xe1nky v prohl\xed\u017ee\u010di, nov\xe1 karta, ve kter\xe9 m\xe1 b\xfdt zadan\xfd web otev\u0159en, bude t\xedmto pravidlem zav\u0159ena.")),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},"Modifik\xe1tor ",(0,i.kt)("inlineCode",{parentName:"li"},"$popup")," funguje nejl\xe9pe v Roz\u0161\xed\u0159en\xed prohl\xed\u017ee\u010de AdGuard."),(0,i.kt)("li",{parentName:"ul"},"V AdGuardu pro Safari a iOS, pravidla ",(0,i.kt)("inlineCode",{parentName:"li"},"$popup")," str\xe1nku jednodu\u0161e a okam\u017eit\u011b zablokuj\xed."),(0,i.kt)("li",{parentName:"ul"},"V AdGuardu pro Windows, Mac a Android nemus\xed modifik\xe1tor ",(0,i.kt)("inlineCode",{parentName:"li"},"$popup")," v n\u011bkter\xfdch p\u0159\xedpadech detekovat vyskakovac\xed okno a nebude zablokov\xe1no. Modifik\xe1tor ",(0,i.kt)("inlineCode",{parentName:"li"},"$popup")," pou\u017eije typ obsahu ",(0,i.kt)("inlineCode",{parentName:"li"},"document")," se speci\xe1ln\xedm p\u0159\xedznakem, kter\xfd je p\u0159ed\xe1n blokovac\xed str\xe1nce. Samotn\xe1 blokovac\xed str\xe1nka m\u016f\u017ee prov\xe9st n\u011bkter\xe9 kontroly a zav\u0159\xedt okno, pokud se skute\u010dn\u011b jedn\xe1 o vyskakovac\xed okno. V opa\u010dn\xe9m p\u0159\xedpad\u011b by se str\xe1nka m\u011bla na\u010d\xedst. Lze to kombinovat s dal\u0161\xedmi modifik\xe1tory typu po\u017eadavku, jako je ",(0,i.kt)("inlineCode",{parentName:"li"},"$third-party")," a ",(0,i.kt)("inlineCode",{parentName:"li"},"$important"),"."),(0,i.kt)("li",{parentName:"ul"},"Pravidla s modifik\xe1torem ",(0,i.kt)("inlineCode",{parentName:"li"},"$popup")," nejsou Blok\xe1torem obsahu AdGuard podporov\xe1na."))),(0,i.kt)("h4",{id:"third-party-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$third-party"))),(0,i.kt)("p",null,"Omezen\xed po\u017eadavk\u016f t\u0159et\xedch stran a vlastn\xedch po\u017eadavk\u016f. Po\u017eadavek t\u0159et\xed strany je po\u017eadavek z jin\xe9 dom\xe9ny. Nap\u0159. po\u017eadavek na ",(0,i.kt)("inlineCode",{parentName:"p"},"example.org")," z ",(0,i.kt)("inlineCode",{parentName:"p"},"domain.com")," je po\u017eadavek t\u0159et\xed strany."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Aby mohla b\xfdt \u017e\xe1dost t\u0159et\xed strany pova\u017eov\xe1na za takovou, m\u011bla by spl\u0148ovat jednu z n\xe1sleduj\xedc\xedch podm\xednek:"),(0,i.kt)("ol",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ol"},"Jej\xed odkazuj\xedc\xed dom\xe9na nen\xed subdom\xe9nou c\xedlov\xe9 dom\xe9ny nebo naopak. Nap\u0159. po\u017eadavek na ",(0,i.kt)("inlineCode",{parentName:"li"},"subdomain.example.org")," z ",(0,i.kt)("inlineCode",{parentName:"li"},"example.org")," nen\xed po\u017eadavek t\u0159et\xed strany"),(0,i.kt)("li",{parentName:"ol"},"Jej\xed z\xe1hlav\xed ",(0,i.kt)("inlineCode",{parentName:"li"},"Sec-Fetch-Site")," je nastaveno na ",(0,i.kt)("inlineCode",{parentName:"li"},"cross-site")))),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("inlineCode",{parentName:"strong"},"$third-party"),":")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||domain.com^$third-party")," \u2014 toto pravidlo bude pou\u017eito na v\u0161echny dom\xe9ny, krom\u011b ",(0,i.kt)("inlineCode",{parentName:"li"},"domain.com")," a jej\xed subdom\xe9ny. P\u0159\xedklad po\u017eadavku t\u0159et\xed strany: ",(0,i.kt)("inlineCode",{parentName:"li"},"http://example.org/banner.jpg"),".")),(0,i.kt)("p",null,"Pokud existuje modifik\xe1tor ",(0,i.kt)("inlineCode",{parentName:"p"},"$third-party"),", pravidlo se pou\u017eije pouze na po\u017eadavky, kter\xe9 nejsou od t\u0159et\xedch stran. To znamen\xe1, \u017ee mus\xed b\xfdt odesl\xe1ny ze stejn\xe9 dom\xe9ny."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("inlineCode",{parentName:"strong"},"$~third-party"),":")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||domain.com$~third-party")," \u2014 toto pravidlo se vztahuje v\xfdhradn\u011b na ",(0,i.kt)("inlineCode",{parentName:"li"},"domain.com"),". P\u0159\xedklad po\u017eadavku kter\xe1 nen\xed pod\xe1n t\u0159et\xed stranou: ",(0,i.kt)("inlineCode",{parentName:"li"},"http://domain.com/icon.ico"),".")),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"M\xedsto pln\xe9ho n\xe1zvu modifik\xe1toru m\u016f\u017eete pou\u017e\xedt krat\u0161\xed n\xe1zev (alias): ",(0,i.kt)("inlineCode",{parentName:"p"},"$3p"),".")),(0,i.kt)("h4",{id:"to-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$to"))),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"$to")," omezuje rozsah pravidla na po\u017eadavky ",(0,i.kt)("strong",{parentName:"p"},"na")," zadan\xe9 dom\xe9ny a jejich subdom\xe9ny. To add multiple domains to one rule, use the ",(0,i.kt)("inlineCode",{parentName:"p"},"|")," character as a separator."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"/ads$to=evil.com|evil.org")," zablokuje jak\xfdkoliv po\u017eadavek na ",(0,i.kt)("inlineCode",{parentName:"li"},"evil.com")," nebo ",(0,i.kt)("inlineCode",{parentName:"li"},"evil.org")," a jejich subdom\xe9ny s cestou, kter\xe1 odpov\xedd\xe1 ",(0,i.kt)("inlineCode",{parentName:"li"},"/ads"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"/ads$to=~not.evil.com|evil.com")," zablokuje jak\xfdkoliv po\u017eadavek na ",(0,i.kt)("inlineCode",{parentName:"li"},"evil.com")," a jej\xed subdom\xe9ny s cestou, kter\xe1 odpov\xedd\xe1 ",(0,i.kt)("inlineCode",{parentName:"li"},"/ads"),", krom\u011b po\u017eadavk\u016f na ",(0,i.kt)("inlineCode",{parentName:"li"},"not.evil.com")," a jej\xed subdom\xe9ny."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"/ads$to=~good.com|~good.org")," zablokuje v\u0161echny po\u017eadavky s cestou, kter\xe1 odpov\xedd\xe1 ",(0,i.kt)("inlineCode",{parentName:"li"},"/ads"),", krom\u011b po\u017eadavk\u016f na ",(0,i.kt)("inlineCode",{parentName:"li"},"good.com")," nebo ",(0,i.kt)("inlineCode",{parentName:"li"},"good.org")," a jejich subdom\xe9ny.")),(0,i.kt)("admonition",{title:"Omezen\xed",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("a",{parentName:"p",href:"#denyallow-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$denyallow"))," nelze pou\u017e\xedt spole\u010dn\u011b s ",(0,i.kt)("inlineCode",{parentName:"p"},"$to"),". Lze ji vyj\xe1d\u0159it pomoc\xed invertovan\xe9ho ",(0,i.kt)("inlineCode",{parentName:"p"},"$to"),": ",(0,i.kt)("inlineCode",{parentName:"p"},"$denyallow=a.com|b.com"),", co\u017e je je ekvivalent k ",(0,i.kt)("inlineCode",{parentName:"p"},"$to=~a.com|~b.com"),".")),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Rules with the ",(0,i.kt)("inlineCode",{parentName:"p"},"$to")," modifier are supported by AdGuard for Windows, Mac, and Android with ",(0,i.kt)("a",{parentName:"p",href:"https://adguard.com/en/blog/introducing-corelibs.html"},"CoreLibs")," v1.12 or later and AdGuard Browser Extension with ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/AdguardTeam/tsurlfilter/tree/master/packages/tsurlfilter#tsurlfilter"},"TSUrlFilter")," v2.1.3 or later.")),(0,i.kt)("h3",{id:"content-type-modifiers"},"Modifik\xe1tory typu obsahu"),(0,i.kt)("p",null,"Existuje sada modifik\xe1tor\u016f, kter\xe9 lze pou\u017e\xedt k omezen\xed oblasti pou\u017eit\xed pravidla na ur\u010dit\xfd typ obsahu. Tyto modifik\xe1tory lze tak\xe9 kombinovat, aby zahrnovaly nap\u0159\xedklad obr\xe1zky i skripty."),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"V tom, jak AdGuard ur\u010duje typ obsahu na r\u016fzn\xfdch platform\xe1ch, je velk\xfd rozd\xedl. U Roz\u0161\xed\u0159en\xed prohl\xed\u017ee\u010de AdGuard je typ obsahu pro ka\u017ed\xfd po\u017eadavek poskytov\xe1n prohl\xed\u017ee\u010dem. AdGuard pro Windows, Mac a Android pou\u017e\xedvaj\xed n\xe1sleduj\xedc\xed metodu: nejprve se aplikace pokus\xed ur\u010dit typ po\u017eadavku podle z\xe1hlav\xed po\u017eadavku ",(0,i.kt)("inlineCode",{parentName:"p"},"Sec-Fetch-Dest")," nebo podle p\u0159\xedpony n\xe1zvu souboru. Pokud nen\xed po\u017eadavek v t\xe9to f\xe1zi zablokov\xe1n, ur\u010d\xed se typ pomoc\xed z\xe1hlav\xed ",(0,i.kt)("inlineCode",{parentName:"p"},"Content-Type")," na za\u010d\xe1tku odpov\u011bdi serveru.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady modifik\xe1tor\u016f typu obsahu")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^$image")," \u2014 odpov\xedd\xe1 v\u0161em obr\xe1zk\u016fm z ",(0,i.kt)("inlineCode",{parentName:"li"},"example.org"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^$script,stylesheet")," \u2014 odpov\xedd\xe1 v\u0161em skript\u016fm a styl\u016fm z ",(0,i.kt)("inlineCode",{parentName:"li"},"example.org"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^$~image,~script,~stylesheet")," \u2014 odpov\xedd\xe1 v\u0161em po\u017eadavk\u016fm na ",(0,i.kt)("inlineCode",{parentName:"li"},"example.org")," krom\u011b obr\xe1zk\u016f, skript\u016f a styl\u016f.")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Modifik\xe1tor \\ Produkty"),(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("a",{parentName:"th",href:"#what-product",title:"AdGuard for Windows, Mac, Android"},"Aplikace CoreLibs")),(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("a",{parentName:"th",href:"#what-product",title:"AdGuard Browser Extension for Chrome and other Chromium-based browsers"},"AdGuard pro Chromium")),(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("a",{parentName:"th",href:"#what-product",title:"AdGuard Browser Extension for Firefox"},"AdGuard pro Firefox")),(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("a",{parentName:"th",href:"#what-product",title:"AdGuard for iOS and AdGuard Pro for iOS"},"AdGuard pro iOS")),(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("a",{parentName:"th",href:"#what-product",title:"AdGuard pro Safari"},"AdGuard pro Safari")),(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("a",{parentName:"th",href:"#what-product",title:"AdGuard Content Blocker for Samsung Internet and Yandex Browser on Android"},"Blok\xe1tor obsahu AdGuard")))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#document-modifier"},"$document")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#font-modifier"},"$font")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#image-modifier"},"$image")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#media-modifier"},"$media")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#object-modifier"},"$object")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#other-modifier"},"$other")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#ping-modifier"},"$ping")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705 *"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#script-modifier"},"$script")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#stylesheet-modifier"},"$stylesheet")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#subdocument-modifier"},"$subdocument")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705 *"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#websocket-modifier"},"$websocket")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705 *"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705 *"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#xmlhttprequest-modifier"},"$xmlhttprequest")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#webrtc-modifier",title:"removed"},"$webrtc \ud83d\udeab")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#object-subrequest-modifier",title:"removed"},"$object-subrequest \ud83d\udeab")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")))),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},"\u2705 \u2014 pln\u011b podporov\xe1no"),(0,i.kt)("li",{parentName:"ul"},"\u2705 * \u2014 podporov\xe1no, ale spolehlivost se m\u016f\u017ee li\u0161it nebo se mohou vyskytnout omezen\xed; v\xedce informac\xed naleznete v popisu modifik\xe1toru"),(0,i.kt)("li",{parentName:"ul"},"\u274c \u2014 nepodporov\xe1no"),(0,i.kt)("li",{parentName:"ul"},"\ud83d\udeab \u2014 odstran\u011bno a ji\u017e nepodporov\xe1no"))),(0,i.kt)("h4",{id:"document-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$document"))),(0,i.kt)("p",null,"Pravidlo odpov\xedd\xe1 po\u017eadavk\u016fm na dokument hlavn\xedho r\xe1mce, tj. dokumenty HTML na\u010dten\xe9 na kart\u011b prohl\xed\u017ee\u010de. Neodpov\xedd\xe1 hodnot\xe1m iframe, pro ten existuje modifik\xe1tor ",(0,i.kt)("a",{parentName:"p",href:"#subdocument-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$subdocument")),"."),(0,i.kt)("p",null,'Ve v\xfdchoz\xedm nastaven\xed AdGuard neblokuje po\u017eadavky, kter\xe9 se na\u010d\xedtaj\xed na kart\u011b prohl\xed\u017ee\u010de (nap\u0159. "obch\xe1zen\xed hlavn\xedho r\xe1mce"). C\xedlem nen\xed zabr\xe1nit na\u010dten\xed str\xe1nek, proto\u017ee u\u017eivatel jasn\u011b uvedl, \u017ee chce, aby se tato str\xe1nka na\u010detla. Pokud je v\u0161ak modifik\xe1tor ',(0,i.kt)("inlineCode",{parentName:"p"},"$document"),' zad\xe1n explicitn\u011b, AdGuard tuto logiku nepou\u017eije a zabr\xe1n\xed na\u010dten\xed str\xe1nky. M\xedsto toho se zobraz\xed "bloka\u010dn\xed str\xe1nka".'),(0,i.kt)("p",null,"Pokud je tento modifik\xe1tor pou\u017eit s pravidlem v\xfdjimky (",(0,i.kt)("inlineCode",{parentName:"p"},"@@"),"), zcela zak\xe1\u017ee blokov\xe1n\xed na p\u0159\xedslu\u0161n\xfdch str\xe1nk\xe1ch. Je to ekvivalentn\xed pou\u017eit\xed modifik\xe1tor\u016f ",(0,i.kt)("inlineCode",{parentName:"p"},"$elemhide"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"$content"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"$urlblock"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"$jsinject"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"$extension")," sou\u010dasn\u011b."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"@@||example.com^$document")," zcela zak\xe1\u017ee filtrov\xe1n\xed v\u0161ech str\xe1nek na ",(0,i.kt)("inlineCode",{parentName:"p"},"example.com")," a v\u0161ech subdom\xe9n\xe1ch.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"||example.com^$document")," zablokuje po\u017eadavek na dokument HTML na ",(0,i.kt)("inlineCode",{parentName:"p"},"example.com")," pomoc\xed bloka\u010dn\xed str\xe1nky.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"||example.com^$document,redirect=noopframe")," p\u0159esm\u011bruje po\u017eadavek na HTML dokument na ",(0,i.kt)("inlineCode",{parentName:"p"},"example.com")," na pr\xe1zdn\xfd HTML dokument.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"||example.com^$document,removeparam=test")," removes ",(0,i.kt)("inlineCode",{parentName:"p"},"test")," query parameter from HTML document request to ",(0,i.kt)("inlineCode",{parentName:"p"},"example.com"),".")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"||example.com^$document,replace=/test1/test2/")," replaces ",(0,i.kt)("inlineCode",{parentName:"p"},"test1")," with ",(0,i.kt)("inlineCode",{parentName:"p"},"test2")," in HTML document request to ",(0,i.kt)("inlineCode",{parentName:"p"},"example.com"),"."))),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"M\xedsto pln\xe9ho n\xe1zvu modifik\xe1toru m\u016f\u017eete pou\u017e\xedt krat\u0161\xed n\xe1zev (alias): ",(0,i.kt)("inlineCode",{parentName:"p"},"$doc"),".")),(0,i.kt)("h4",{id:"font-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$font"))),(0,i.kt)("p",null,"Pravidlo odpov\xedd\xe1 po\u017eadavk\u016fm na p\xedsma, nap\u0159. s p\u0159\xedponou ",(0,i.kt)("inlineCode",{parentName:"p"},".woff"),"."),(0,i.kt)("h4",{id:"image-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$image"))),(0,i.kt)("p",null,"Pravidlo odpov\xedd\xe1 po\u017eadavk\u016fm na obr\xe1zky."),(0,i.kt)("h4",{id:"media-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$media"))),(0,i.kt)("p",null,"Pravidlo odpov\xedd\xe1 po\u017eadavk\u016fm na medi\xe1ln\xed soubory \u2014 hudbu a video, nap\u0159. soubory ",(0,i.kt)("inlineCode",{parentName:"p"},".mp4"),"."),(0,i.kt)("h4",{id:"object-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$object"))),(0,i.kt)("p",null,"Pravidlo odpov\xedd\xe1 prost\u0159edk\u016fm plugin\u016f prohl\xed\u017ee\u010de, nap\u0159. Java nebo Flash."),(0,i.kt)("h4",{id:"other-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$other"))),(0,i.kt)("p",null,"Pravidlo se vztahuje na po\u017eadavky, jejich\u017e typ nebyl ur\u010den nebo neodpov\xedd\xe1 v\xfd\u0161e uveden\xfdm typ\u016fm."),(0,i.kt)("h4",{id:"ping-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$ping"))),(0,i.kt)("p",null,"Pravidlo odpov\xedd\xe1 po\u017eadavk\u016fm vyvolan\xfdm bu\u010f ",(0,i.kt)("inlineCode",{parentName:"p"},"navigator.sendBeacon()"),", nebo atributem ",(0,i.kt)("inlineCode",{parentName:"p"},"ping")," v odkazech."),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"AdGuard pro Windows, Mac a Android \u010dasto nedok\xe1\u017e\xed p\u0159esn\u011b detekovat ",(0,i.kt)("inlineCode",{parentName:"p"},"navigator.sendBeacon()"),". V seznamech filtr\u016f, kter\xe9 maj\xed pou\u017e\xedvat AdGuard produkty zalo\u017een\xe9 na knihovn\u011b CoreLibs, se nedoporu\u010duje pou\u017e\xedvat ",(0,i.kt)("inlineCode",{parentName:"p"},"$ping"),"."),(0,i.kt)("p",{parentName:"admonition"},"Pravidla s modifik\xe1torem ",(0,i.kt)("inlineCode",{parentName:"p"},"$ping")," nejsou podporov\xe1na AdGuardem pro iOS a Safari.")),(0,i.kt)("h4",{id:"script-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$script"))),(0,i.kt)("p",null,"Pravidlo odpov\xedd\xe1 po\u017eadavk\u016fm na skripty, nap\u0159. javascript, vbscript."),(0,i.kt)("h4",{id:"stylesheet-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$stylesheet"))),(0,i.kt)("p",null,"Pravidlo odpov\xedd\xe1 po\u017eadavk\u016fm na soubory CSS."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"M\xedsto pln\xe9ho n\xe1zvu modifik\xe1toru m\u016f\u017eete pou\u017e\xedt krat\u0161\xed n\xe1zev (alias): ",(0,i.kt)("inlineCode",{parentName:"p"},"$css"),".")),(0,i.kt)("h4",{id:"subdocument-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$subdocument"))),(0,i.kt)("p",null,"Pravidlo odpov\xedd\xe1 po\u017eadavk\u016fm na vestav\u011bn\xe9 str\xe1nky \u2014 zna\u010dky HTML ",(0,i.kt)("inlineCode",{parentName:"p"},"frame")," a ",(0,i.kt)("inlineCode",{parentName:"p"},"iframe"),"."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||example.com^$subdocument")," blokuje integrovan\xe9 po\u017eadavky (",(0,i.kt)("inlineCode",{parentName:"li"},"frame")," a ",(0,i.kt)("inlineCode",{parentName:"li"},"iframe"),") na ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com")," a v\u0161echny jej\xed subdom\xe9ny kdekoli."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||example.com^$subdocument,domain=domain.com")," blokuje integrovan\xe9 po\u017eadavky (",(0,i.kt)("inlineCode",{parentName:"li"},"frame")," \u0438 ",(0,i.kt)("inlineCode",{parentName:"li"},"iframe"),") na ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com")," (a jej\xed subdom\xe9ny) z ",(0,i.kt)("inlineCode",{parentName:"li"},"domain.com")," a v\u0161ech jej\xedch subdom\xe9n.")),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"M\xedsto pln\xe9ho n\xe1zvu modifik\xe1toru m\u016f\u017eete pou\u017e\xedt krat\u0161\xed n\xe1zev (alias): ",(0,i.kt)("inlineCode",{parentName:"p"},"$frame"),".")),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"V AdGuardu pro Windows, macOS a Android jsou vno\u0159en\xe9 dokumenty detekov\xe1ny hlavi\u010dkou ",(0,i.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Sec-Fetch-Dest"},"Sec-Fetch-Dest")," pokud je p\u0159\xedtomna. V opa\u010dn\xe9m p\u0159\xedpad\u011b mohou b\xfdt n\u011bkter\xe9 hlavn\xed str\xe1nky pova\u017eov\xe1ny za d\xedl\u010d\xed dokumenty."),(0,i.kt)("p",{parentName:"admonition"},"Pravidla s modifik\xe1torem ",(0,i.kt)("inlineCode",{parentName:"p"},"$subdocument")," nejsou Blok\xe1torem obsahu AdGuard podporov\xe1na.")),(0,i.kt)("h4",{id:"websocket-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$websocket"))),(0,i.kt)("p",null,"Pravidlo se vztahuje pouze na p\u0159ipojen\xed WebSocket."),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Modifik\xe1tor ",(0,i.kt)("inlineCode",{parentName:"p"},"$websocket")," je podporov\xe1n ve v\u0161ech produktech AdGuardu krom\u011b Blok\xe1toru obsahu AdGuard. Pokud jde o AdGuard pro Safari a AdGuard pro iOS, je podporov\xe1n v za\u0159\xedzen\xedch s macOS Monterey (verze 12) a iOS 16 nebo nov\u011bj\u0161\xedm.")),(0,i.kt)("h4",{id:"xmlhttprequest-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$xmlhttprequest"))),(0,i.kt)("p",null,"Pravidlo se vztahuje pouze na po\u017eadavky ajax (po\u017eadavky odeslan\xe9 prost\u0159ednictv\xedm objektu javascript ",(0,i.kt)("inlineCode",{parentName:"p"},"XMLHttpRequest"),")."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"M\xedsto pln\xe9ho n\xe1zvu modifik\xe1toru m\u016f\u017eete pou\u017e\xedt krat\u0161\xed n\xe1zev (alias): ",(0,i.kt)("inlineCode",{parentName:"p"},"$xhr"),".")),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"AdGuard pro Windows, Mac a Android p\u0159i filtrov\xe1n\xed star\u0161\xedch prohl\xed\u017ee\u010d\u016f nedok\xe1\u017ee p\u0159esn\u011b detekovat tento typ a n\u011bkdy jej detekuje jako ",(0,i.kt)("a",{parentName:"p",href:"#other-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$other"))," nebo ",(0,i.kt)("a",{parentName:"p",href:"#script-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$script")),". Tento typ obsahu mohou spolehliv\u011b detekovat pouze p\u0159i filtrov\xe1n\xed modern\xedch prohl\xed\u017ee\u010d\u016f, kter\xe9 podporuj\xed ",(0,i.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Glossary/Fetch_metadata_request_header"},"Z\xe1hlav\xed po\u017eadavku na na\u010dten\xed metadat"),".")),(0,i.kt)("h4",{id:"object-subrequest-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$object-subrequest")," (odstran\u011bno)")),(0,i.kt)("admonition",{title:"Upozorn\u011bn\xed na odstran\u011bn\xed",type:"danger"},(0,i.kt)("p",{parentName:"admonition"},"Modifik\xe1tor ",(0,i.kt)("inlineCode",{parentName:"p"},"$object-subrequest")," je odstran\u011bn a ji\u017e nen\xed podporov\xe1n. Pravidla s t\xedmto modifik\xe1torem jsou pova\u017eov\xe1na za neplatn\xe1. Pravidlo odpov\xedd\xe1 po\u017eadavk\u016fm plugin\u016f prohl\xed\u017ee\u010de (obvykle se jedn\xe1 o Flash).")),(0,i.kt)("h4",{id:"webrtc-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$webrtc")," (odstran\u011bno)")),(0,i.kt)("admonition",{title:"Upozorn\u011bn\xed na odstran\u011bn\xed",type:"danger"},(0,i.kt)("p",{parentName:"admonition"},"Tento modifik\xe1tor je odstran\u011bn a ji\u017e nen\xed podporov\xe1n. Pravidla s t\xedmto modifik\xe1torem jsou pova\u017eov\xe1na za neplatn\xe1. Pokud pot\u0159ebujete potla\u010dit WebRTC, zva\u017ete pou\u017e\xedt ",(0,i.kt)("inlineCode",{parentName:"p"},"nowebrtc")," ",(0,i.kt)("a",{parentName:"p",href:"#scriptlets"},"scriptlet"),".")),(0,i.kt)("p",null,"Pravidlo se vztahuje pouze na p\u0159ipojen\xed WebRTC."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||example.com^$webrtc,domain=example.org")," blokuje p\u0159ipojen\xed webRTC na ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com")," z ",(0,i.kt)("inlineCode",{parentName:"li"},"example.org"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@*$webrtc,domain=example.org")," zak\xe1\u017ee RTC wrapper pro ",(0,i.kt)("inlineCode",{parentName:"li"},"example.org"),".")),(0,i.kt)("h3",{id:"exception-modifiers"},"Modifik\xe1tory pravidel pro v\xfdjimky"),(0,i.kt)("p",null,"Pravidla v\xfdjimek deaktivuj\xed ostatn\xed z\xe1kladn\xed pravidla pro adresy, kter\xfdm odpov\xeddaj\xed. Za\u010d\xednaj\xed zna\u010dkou ",(0,i.kt)("inlineCode",{parentName:"p"},"@@"),". Lze na n\u011b aplikovat v\u0161echny v\xfd\u0161e uveden\xe9 z\xe1kladn\xed modifik\xe1tory a maj\xed tak\xe9 n\u011bkolik speci\xe1ln\xedch modifik\xe1tor\u016f."),(0,i.kt)("admonition",{title:"Vizu\xe1ln\xed zn\xe1zorn\u011bn\xed",type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Doporu\u010dujeme tak\xe9 sezn\xe1mit se s ",(0,i.kt)("a",{parentName:"p",href:"https://adblockplus.org/filter-cheatsheet#blocking"},"p\u0159ehledem filtr\u016f Adblock Plus"),", abyste l\xe9pe pochopili, jak pravidla v\xfdjimek vytv\xe1\u0159et.")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Modifik\xe1tor \\ Produkty"),(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("a",{parentName:"th",href:"#what-product",title:"AdGuard for Windows, Mac, Android"},"Aplikace CoreLibs")),(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("a",{parentName:"th",href:"#what-product",title:"AdGuard Browser Extension for Chrome and other Chromium-based browsers"},"AdGuard pro Chromium")),(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("a",{parentName:"th",href:"#what-product",title:"AdGuard Browser Extension for Firefox"},"AdGuard pro Firefox")),(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("a",{parentName:"th",href:"#what-product",title:"AdGuard for iOS and AdGuard Pro for iOS"},"AdGuard pro iOS")),(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("a",{parentName:"th",href:"#what-product",title:"AdGuard pro Safari"},"AdGuard pro Safari")),(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("a",{parentName:"th",href:"#what-product",title:"AdGuard Content Blocker for Samsung Internet and Yandex Browser on Android"},"Blok\xe1tor obsahu AdGuard")))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#content-modifier"},"$content")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#elemhide-modifier"},"$elemhide")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#extension-modifier"},"$extension")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#jsinject-modifier"},"$jsinject")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#stealth-modifier"},"$stealth")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#urlblock-modifier"},"$urlblock")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705 *"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705 *"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#genericblock-modifier"},"$genericblock")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705 *"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705 *"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#generichide-modifier"},"$generichide")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#specifichide-modifier"},"$specifichide")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")))),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},"\u2705 \u2014 pln\u011b podporov\xe1no"),(0,i.kt)("li",{parentName:"ul"},"\u2705 * \u2014 podporov\xe1no, ale spolehlivost se m\u016f\u017ee li\u0161it nebo se mohou vyskytnout omezen\xed; v\xedce informac\xed naleznete v popisu modifik\xe1toru"),(0,i.kt)("li",{parentName:"ul"},"\u274c \u2014 nepodporov\xe1no"))),(0,i.kt)("h4",{id:"content-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$content"))),(0,i.kt)("p",null,"Zak\xe1\u017ee ",(0,i.kt)("a",{parentName:"p",href:"#html-filtering-rules"},"filtrov\xe1n\xed HTML"),", pravidla ",(0,i.kt)("a",{parentName:"p",href:"#hls-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$hls")),", ",(0,i.kt)("a",{parentName:"p",href:"#replace-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$replace"))," a ",(0,i.kt)("a",{parentName:"p",href:"#jsonprune-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$jsonprune"))," na str\xe1nk\xe1ch, kter\xe9 odpov\xeddaj\xed pravidlu."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.com^$content")," zak\xe1\u017ee v\u0161echna pravidla pro \xfapravu obsahu na str\xe1nk\xe1ch ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com")," a v\u0161ech j\xedch subdom\xe9n\xe1ch.")),(0,i.kt)("h4",{id:"elemhide-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$elemhide"))),(0,i.kt)("p",null,"Zak\xe1\u017ee jak\xe1koliv ",(0,i.kt)("a",{parentName:"p",href:"#cosmetic-rules"},"kosmetick\xe1 pravidla")," na str\xe1nk\xe1ch odpov\xeddaj\xedc\xedch pravidlu."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.com^$elemhide")," zak\xe1\u017ee v\u0161echna kosmetick\xe1 pravidla na ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com")," a v\u0161ech subdom\xe9n\xe1ch.")),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"M\xedsto pln\xe9ho n\xe1zvu modifik\xe1toru m\u016f\u017eete pou\u017e\xedt krat\u0161\xed n\xe1zev (alias): ",(0,i.kt)("inlineCode",{parentName:"p"},"$ehide"),".")),(0,i.kt)("h4",{id:"extension-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$extension"))),(0,i.kt)("p",null,"Zak\xe1\u017ee konkr\xe9tn\xed u\u017eivatelsk\xe9 skripty nebo v\u0161echny u\u017eivatelsk\xe9 skripty pro danou dom\xe9nu."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Syntaxe")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},'$extension[="userscript_name1"[|"userscript_name2"[|"userscript_name3"[...]]]]\n')),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"userscript_name(i)")," ozna\u010duje konkr\xe9tn\xed n\xe1zev u\u017eivatelsk\xe9ho skriptu, kter\xfd m\xe1 b\xfdt modifik\xe1torem zak\xe1z\xe1n. Modifik\xe1tor m\u016f\u017ee obsahovat libovoln\xfd po\u010det n\xe1zv\u016f u\u017eivatelsk\xfdch skript\u016f nebo \u017e\xe1dn\xfd. V druh\xe9m p\u0159\xedpad\u011b modifik\xe1tor zak\xe1\u017ee v\u0161echny u\u017eivatelsk\xe9 skripty."),(0,i.kt)("p",null,"N\xe1zvy u\u017eivatelsk\xfdch skript\u016f obvykle obsahuj\xed mezery nebo jin\xe9 speci\xe1ln\xed znaky, proto byste m\u011bli n\xe1zev uzav\u0159\xedt do uvozovek. Podporov\xe1ny jsou jednoduch\xe9 (",(0,i.kt)("inlineCode",{parentName:"p"},"'"),") i dvojit\xe9 (",(0,i.kt)("inlineCode",{parentName:"p"},'"'),") uvozovky ASCII. V\xedce n\xe1zv\u016f u\u017eivatelsk\xfdch skript\u016f by m\u011blo b\xfdt odd\u011bleno svislou \u010darou (",(0,i.kt)("inlineCode",{parentName:"p"},"|"),"). Pokud je v\u0161ak n\xe1zev u\u017eivatelsk\xe9ho skriptu tvo\u0159en jedn\xedm slovem bez speci\xe1ln\xedch znak\u016f, lze jej pou\u017e\xedt bez uvozovek."),(0,i.kt)("p",null,"U\u017eivatelsk\xe9 skripty m\u016f\u017eete tak\xe9 vylou\u010dit p\u0159id\xe1n\xedm znaku ",(0,i.kt)("inlineCode",{parentName:"p"},"~")," p\u0159ed hodnotu. V tomto p\u0159\xedpad\u011b nebude u\u017eivatelsk\xfd skript modifik\xe1torem zak\xe1z\xe1n."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},'$extension=~"userscript name"\n')),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Kdy\u017e vylou\u010d\xedte u\u017eivatelsk\xfd skript, mus\xedte um\xedstit znak ",(0,i.kt)("inlineCode",{parentName:"p"},"~")," mimo uvozovky.")),(0,i.kt)("p",null,"Pokud n\xe1zev u\u017eivatelsk\xe9ho skriptu obsahuje uvozovky (",(0,i.kt)("inlineCode",{parentName:"p"},'"'),"), \u010d\xe1rky (",(0,i.kt)("inlineCode",{parentName:"p"},","),") nebo svisl\xe9 \u010d\xe1ry (",(0,i.kt)("inlineCode",{parentName:"p"},"|"),"), mus\xed b\xfdt uvozen zp\u011btn\xfdm lom\xedtkem (",(0,i.kt)("inlineCode",{parentName:"p"},"\\"),")."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},'$extension="userscript name\\, with \\"quote\\""\n')),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},'@@||example.com^$extension="AdGuard Assistant"')," zak\xe1\u017ee u\u017eivatelsk\xfd skript ",(0,i.kt)("inlineCode",{parentName:"li"},"AdGuard asistent")," na ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.com^$extension=MyUserscript")," zak\xe1\u017ee u\u017eivatelsk\xfd skript ",(0,i.kt)("inlineCode",{parentName:"li"},"MyUserscript")," na ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.com^$extension='AdGuard Assistant'|'Popup Blocker'")," zak\xe1\u017ee u\u017eivatelsk\xe9 skripty ",(0,i.kt)("inlineCode",{parentName:"li"},"AdGuard asistent")," a ",(0,i.kt)("inlineCode",{parentName:"li"},"Blok\xe1tor vyskakovac\xedch oken")," na ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},'@@||example.com^$extension=~"AdGuard Assistant"')," zak\xe1\u017ee v\u0161echny u\u017eivatelsk\xe9 skripty na ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com"),", krom\u011b ",(0,i.kt)("inlineCode",{parentName:"li"},"AdGuard asistenta"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},'@@||example.com^$extension=~"AdGuard Assistant"|~"Popup Blocker"')," zak\xe1\u017ee v\u0161echny u\u017eivatelsk\xe9 skripty na ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com"),", krom\u011b ",(0,i.kt)("inlineCode",{parentName:"li"},"AdGuard asistenta")," a ",(0,i.kt)("inlineCode",{parentName:"li"},"Blok\xe1tor vyskakovac\xedch oken"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.com^$extension")," \u017e\xe1dn\xe9 u\u017eivatelsk\xe9 skripty nebudou fungovat na ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},'@@||example.com^$extension="AdGuard \\"Assistant\\""')," zak\xe1\u017ee u\u017eivatelsk\xfd skript ",(0,i.kt)("inlineCode",{parentName:"li"},'AdGuard "Asistant"')," na ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com"),".")),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},"Pouze AdGuard pro Windows, Mac a Android jsou technicky schopn\xe9 pou\u017e\xedvat pravidla s modifik\xe1torem ",(0,i.kt)("inlineCode",{parentName:"li"},"$extension"),"."),(0,i.kt)("li",{parentName:"ul"},"Rules with ",(0,i.kt)("inlineCode",{parentName:"li"},"$extension")," modifier with specific userscript name are supported by AdGuard for Windows, Mac, and Android with ",(0,i.kt)("a",{parentName:"li",href:"https://adguard.com/en/blog/introducing-corelibs.html"},"CoreLibs")," v1.13 or later."))),(0,i.kt)("h4",{id:"jsinject-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$jsinject"))),(0,i.kt)("p",null,"Zakazuje p\u0159id\xe1v\xe1n\xed javascriptov\xe9ho k\xf3du na str\xe1nku. O pravidlech skriplet\u016f a javascriptu si m\u016f\u017eete p\u0159e\u010d\xedst d\xe1le."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.com^$jsinject")," zak\xe1\u017ee javasript na ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com")," a v\u0161ech subdom\xe9n\xe1ch.")),(0,i.kt)("h4",{id:"stealth-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$stealth"))),(0,i.kt)("p",null,"Zak\xe1\u017ee modul Re\u017eim utajen\xed pro v\u0161echny odpov\xeddaj\xedc\xed str\xe1nky a po\u017eadavky."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Syntax")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},"$stealth [= opt1 [| opt2 [| opt3 [...]]]]\n")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"opt(i)")," znamen\xe1 ur\u010dit\xe9 mo\u017enosti Re\u017eimu utajen\xed deaktivovan\xe9 modifik\xe1torem. Modifik\xe1tor m\u016f\u017ee obsahovat libovoln\xfd po\u010det mo\u017enost\xed (viz n\xed\u017ee) nebo \u017e\xe1dnou. V druh\xe9m p\u0159\xedpad\u011b modifik\xe1tor vypne v\u0161echny funkce Re\u017eimu utajen\xed."),(0,i.kt)("p",null,"Seznam dostupn\xfdch mo\u017enost\xed modifik\xe1toru:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"searchqueries")," zak\xe1\u017ee mo\u017enost ",(0,i.kt)("a",{parentName:"li",href:"../../stealth-mode#searchqueries"},(0,i.kt)("strong",{parentName:"a"},"Skr\xfdt vyhled\xe1vac\xed dotazy"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"donottrack")," zak\xe1\u017ee mo\u017enost ",(0,i.kt)("a",{parentName:"li",href:"../../stealth-mode#donottrack"},(0,i.kt)("strong",{parentName:"a"},"Po\u017e\xe1dat webov\xe9 str\xe1nky, aby v\xe1s nesledovaly"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"3p-cookie")," zak\xe1\u017ee mo\u017enost ",(0,i.kt)("a",{parentName:"li",href:"../../stealth-mode#3p-cookie"},(0,i.kt)("strong",{parentName:"a"},"Automatick\xe9 odstran\u011bn\xed cookies t\u0159et\xedch stran"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"1p-cookie")," zak\xe1\u017ee mo\u017enost ",(0,i.kt)("a",{parentName:"li",href:"../../stealth-mode#1p-cookie"},(0,i.kt)("strong",{parentName:"a"},"Automatick\xe9 odstran\u011bn\xed cookies aktu\xe1ln\xed str\xe1nky"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"3p-cache")," zak\xe1\u017ee mo\u017enost ",(0,i.kt)("a",{parentName:"li",href:"../../stealth-mode#3p-cache"},(0,i.kt)("strong",{parentName:"a"},"Zak\xe1zat mezipam\u011b\u0165 pro po\u017eadavky t\u0159et\xedch stran"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"3p-auth")," zak\xe1\u017ee mo\u017enost ",(0,i.kt)("a",{parentName:"li",href:"../../stealth-mode#3p-auth"},(0,i.kt)("strong",{parentName:"a"},"Blokovat autoriza\u010dn\xed hlavi\u010dku t\u0159et\xedch stran"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"webrtc")," zak\xe1\u017ee mo\u017enost ",(0,i.kt)("a",{parentName:"li",href:"../../stealth-mode#webrtc"},(0,i.kt)("strong",{parentName:"a"},"Blokovat WebRTC"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"push")," zak\xe1\u017ee mo\u017enost ",(0,i.kt)("a",{parentName:"li",href:"../../stealth-mode#push"},(0,i.kt)("strong",{parentName:"a"},"Blokovat Push API"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"location")," zak\xe1\u017ee mo\u017enost ",(0,i.kt)("a",{parentName:"li",href:"../../stealth-mode#location"},(0,i.kt)("strong",{parentName:"a"},"Blokovat lokaliza\u010dn\xed API"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"flash")," zak\xe1\u017ee mo\u017enost ",(0,i.kt)("a",{parentName:"li",href:"../../stealth-mode#flash"},(0,i.kt)("strong",{parentName:"a"},"Blokovat Flash"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"java")," zak\xe1\u017ee mo\u017enost ",(0,i.kt)("a",{parentName:"li",href:"../../stealth-mode#java"},(0,i.kt)("strong",{parentName:"a"},"Blokovat Java"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"referrer")," zak\xe1\u017ee mo\u017enost ",(0,i.kt)("a",{parentName:"li",href:"../../stealth-mode#miscellaneous"},(0,i.kt)("strong",{parentName:"a"},"Skr\xfdt t\u0159et\xedm stran\xe1m referen\u010dn\xed ID"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"useragent")," zak\xe1\u017ee mo\u017enost ",(0,i.kt)("a",{parentName:"li",href:"../../stealth-mode#useragent"},(0,i.kt)("strong",{parentName:"a"},"Skr\xfdt agenta (identifikaci) Va\u0161eho prohl\xed\u017ee\u010de"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"ip")," zak\xe1\u017ee mo\u017enost ",(0,i.kt)("a",{parentName:"li",href:"../../stealth-mode#ip"},(0,i.kt)("strong",{parentName:"a"},"Skr\xfdt IP adresu"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"xclientdata")," zak\xe1\u017ee mo\u017enost ",(0,i.kt)("a",{parentName:"li",href:"../../stealth-mode#xclientdata"},(0,i.kt)("strong",{parentName:"a"},"Odstranit X-Client-Data hlavi\u010dku z po\u017eadavk\u016f HTTP"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"dpi")," zak\xe1\u017ee mo\u017enost ",(0,i.kt)("a",{parentName:"li",href:"../../stealth-mode#dpi"},(0,i.kt)("strong",{parentName:"a"},"Ochrana p\u0159ed DPI")))),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.com^$stealth")," zak\xe1\u017ee Re\u017eim utajen\xed pro po\u017eadavky ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com")," (a subdom\xe9ny) s v\xfdjimkou blokov\xe1n\xed cookies a skryt\xed sledovac\xedch parametr\u016f (viz n\xed\u017ee)."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||domain.com^$script,stealth,domain=example.com")," zak\xe1\u017ee Re\u017eim utajen\xed pouze pro po\u017eadavky skript\u016f na ",(0,i.kt)("inlineCode",{parentName:"li"},"domain.com")," (a subdom\xe9n\xe1ch) na ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com")," a subdom\xe9n\xe1ch."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.com^$stealth=3p-cookie|dpi")," zak\xe1\u017ee blokov\xe1n\xed cookies t\u0159et\xedch stran a opat\u0159en\xed pro oklam\xe1n\xed DPI pro ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com"),".")),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Blokov\xe1n\xed cookies a odstran\u011bn\xed sledovac\xedch parametr\u016f se prov\xe1d\xed pomoc\xed pravidel s modifik\xe1tory ",(0,i.kt)("a",{parentName:"p",href:"#cookie-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$cookie")),", ",(0,i.kt)("a",{parentName:"p",href:"#urltransform-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$urltransform"))," a ",(0,i.kt)("a",{parentName:"p",href:"#removeparam-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$removeparam")),". Pravidla v\xfdjimek, kter\xe1 obsahuj\xed pouze modifik\xe1tor ",(0,i.kt)("inlineCode",{parentName:"p"},"$stealth"),", tyto v\u011bci neprovedou. Pokud chcete pro danou dom\xe9nu zcela zak\xe1zat v\u0161echny funkce Re\u017eimu utajen\xed, mus\xedte uv\xe9st v\u0161echny t\u0159i modifik\xe1tory: ",(0,i.kt)("inlineCode",{parentName:"p"},"@@||example.org^$stealth,removeparam,cookie"),".")),(0,i.kt)("admonition",{title:"Omezen\xed",type:"caution"},(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},"Mo\u017enosti modifik\xe1toru mus\xed b\xfdt ps\xe1ny mal\xfdmi p\xedsmeny, tj. ",(0,i.kt)("inlineCode",{parentName:"li"},"$stealth=DPI")," budou zam\xedtnuty."),(0,i.kt)("li",{parentName:"ul"},"Mo\u017enosti modifik\xe1toru nelze negovat, tj. ",(0,i.kt)("inlineCode",{parentName:"li"},"$stealth=~3p-cookie")," bude zam\xedtnuto."))),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},"Re\u017eim utajen\xed je k dispozici v AdGuardu pro Windows, Mac, Android a Roz\u0161\xed\u0159en\xed prohl\xed\u017ee\u010de AdGuard. V\u0161echny ostatn\xed produkty budou ignorovat pravidla s modifik\xe1torem ",(0,i.kt)("inlineCode",{parentName:"li"},"$stealth"),"."),(0,i.kt)("li",{parentName:"ul"},"Rules with ",(0,i.kt)("inlineCode",{parentName:"li"},"$stealth")," modifier with specific options are supported by AdGuard for Windows, Mac, and Android with ",(0,i.kt)("a",{parentName:"li",href:"https://adguard.com/en/blog/introducing-corelibs.html"},"CoreLibs")," v1.10 or later."))),(0,i.kt)("h4",{id:"urlblock-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$urlblock"))),(0,i.kt)("p",null,"Zak\xe1\u017ee blokov\xe1n\xed v\u0161ech po\u017eadavk\u016f odeslan\xfdch ze str\xe1nek, kter\xe9 odpov\xeddaj\xed pravidlu a zak\xe1\u017ee v\u0161echna pravidla ",(0,i.kt)("a",{parentName:"p",href:"#cookie-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$cookie")),"."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.com^$urlblock")," \u2014 nebudou blokov\xe1ny \u017e\xe1dn\xe9 po\u017eadavky odeslan\xe9 z ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com")," a ze v\u0161ech subdom\xe9n.")),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"V AdGuardu pro iOS a AdGuardu pro Safari funguj\xed pravidla ",(0,i.kt)("inlineCode",{parentName:"p"},"$urlblock")," jako ",(0,i.kt)("a",{parentName:"p",href:"#document-modifier"},"$document exclusion")," \u2014 odblokov\xe1n\xed v\u0161eho."),(0,i.kt)("p",{parentName:"admonition"},"Pravidla s modifik\xe1torem ",(0,i.kt)("inlineCode",{parentName:"p"},"$urlblock")," nejsou Blok\xe1torem obsahu AdGuard podporov\xe1na.")),(0,i.kt)("h4",{id:"exception-modifiers-generic-rules"},"Generick\xe1 pravidla"),(0,i.kt)("p",null,"Ne\u017e budeme moci p\u0159istoupit k dal\u0161\xedm modifik\xe1tor\u016fm, mus\xedme prov\xe9st definici ",(0,i.kt)("em",{parentName:"p"},"generick\xfdch pravidel"),". Pravidlo je generick\xe9, pokud nen\xed omezeno na konkr\xe9tn\xed dom\xe9ny. Podporov\xe1n je tak\xe9 z\xe1stupn\xfd znak ",(0,i.kt)("inlineCode",{parentName:"p"},"*"),"."),(0,i.kt)("p",null,"Nap\u0159\xedklad tato pravidla jsou generick\xe1:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"###banner\n*###banner\n#@#.adsblock\n*#@#.adsblock\n~domain.com###banner\n||domain.com^\n||domain.com^$domain=~example.com\n")),(0,i.kt)("p",null,"A tato nejsou:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"domain.com###banner\n||domain.com^$domain=example.com\n")),(0,i.kt)("h4",{id:"genericblock-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$genericblock"))),(0,i.kt)("p",null,"Zak\xe1\u017ee generick\xe1 z\xe1kladn\xed pravidla na str\xe1nk\xe1ch, kter\xe9 odpov\xeddaj\xed pravidlu v\xfdjimky."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.com^$genericblock")," zak\xe1\u017ee generick\xe1 z\xe1kladn\xed pravidla na ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com")," a v\u0161ech subdom\xe9n\xe1ch.")),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"V AdGuardu pro iOS a AdGuardu pro Safari funguj\xed pravidla ",(0,i.kt)("inlineCode",{parentName:"p"},"$genericblock")," jako ",(0,i.kt)("a",{parentName:"p",href:"#document-modifier"},"$document exclusion")," \u2014 odblokov\xe1n\xed v\u0161eho."),(0,i.kt)("p",{parentName:"admonition"},"Pravidla s modifik\xe1torem ",(0,i.kt)("inlineCode",{parentName:"p"},"$genericblock")," nejsou Blok\xe1torem obsahu AdGuard podporov\xe1na.")),(0,i.kt)("h4",{id:"generichide-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$generichide"))),(0,i.kt)("p",null,"Zak\xe1\u017ee v\u0161echna generick\xe1 ",(0,i.kt)("a",{parentName:"p",href:"#cosmetic-rules"},"kosmetick\xe1 pravidla")," na str\xe1nk\xe1ch, kter\xe9 odpov\xeddaj\xed pravidlu v\xfdjimky."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.com^$generichide")," zak\xe1\u017ee v\u0161echna kosmetick\xe1 pravidla na ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com")," a jej\xedch subdom\xe9n\xe1ch.")),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"M\xedsto pln\xe9ho n\xe1zvu modifik\xe1toru m\u016f\u017eete pou\u017e\xedt krat\u0161\xed n\xe1zev (alias): ",(0,i.kt)("inlineCode",{parentName:"p"},"$ghide"),".")),(0,i.kt)("h4",{id:"specifichide-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"specifichide"))),(0,i.kt)("p",null,"Zak\xe1\u017ee v\u0161echna specifick\xe1 pravidla pro skr\xfdv\xe1n\xed prvk\u016f a CSS, ale ne obecn\xe1 pravidla. M\xe1 opa\u010dn\xfd \xfa\u010dinek ne\u017e ",(0,i.kt)("a",{parentName:"p",href:"#generichide-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$generichide")),"."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.org^$specifichide")," zak\xe1\u017ee ",(0,i.kt)("inlineCode",{parentName:"li"},"example.org##.banner"),", ale ne ",(0,i.kt)("inlineCode",{parentName:"li"},"##.banner"),".")),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"M\xedsto pln\xe9ho n\xe1zvu modifik\xe1toru m\u016f\u017eete pou\u017e\xedt krat\u0161\xed n\xe1zev (alias): ",(0,i.kt)("inlineCode",{parentName:"p"},"$shide"),".")),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"V\u0161echna kosmetick\xe1 pravidla \u2014 nejen ta specifick\xe1 \u2014 lze zak\xe1zat pomoc\xed modifik\xe1toru ",(0,i.kt)("a",{parentName:"p",href:"#elemhide-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$elemhide")),".")),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Pravidla s modifik\xe1torem ",(0,i.kt)("inlineCode",{parentName:"p"},"$specifichide")," nejsou AdGuardem pro iOS, Adguardem pro Safari a Blok\xe1torem obsahu AdGuard podporov\xe1na.")),(0,i.kt)("h3",{id:"advanced-modifiers"},"Pokro\u010dil\xe9 schopnosti"),(0,i.kt)("p",null,"Tyto modifik\xe1tory mohou zcela zm\u011bnit chov\xe1n\xed z\xe1kladn\xedch pravidel."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Modifik\xe1tor \\ Produkty"),(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("a",{parentName:"th",href:"#what-product",title:"AdGuard for Windows, Mac, Android"},"Aplikace CoreLibs")),(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("a",{parentName:"th",href:"#what-product",title:"AdGuard Browser Extension for Chrome and other Chromium-based browsers"},"AdGuard pro Chromium")),(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("a",{parentName:"th",href:"#what-product",title:"AdGuard Browser Extension for Firefox"},"AdGuard pro Firefox")),(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("a",{parentName:"th",href:"#what-product",title:"AdGuard for iOS and AdGuard Pro for iOS"},"AdGuard pro iOS")),(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("a",{parentName:"th",href:"#what-product",title:"AdGuard pro Safari"},"AdGuard pro Safari")),(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("a",{parentName:"th",href:"#what-product",title:"AdGuard Content Blocker for Samsung Internet and Yandex Browser on Android"},"Blok\xe1tor obsahu AdGuard")))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#all-modifier"},"$all")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#badfilter-modifier"},"$badfilter")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#cookie-modifier"},"$cookie")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#csp-modifier"},"$csp")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#hls-modifier"},"$hls")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#inline-font-modifier"},"$inline-font")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#inline-script-modifier"},"$inline-script")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#jsonprune-modifier"},"$jsonprune")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#xmlprune-modifier"},"$xmlprune")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#network-modifier"},"$network")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#permissions-modifier"},"$permissions")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u23f3"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u23f3"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#redirect-modifier"},"$redirect")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#redirect-rule-modifier"},"$redirect-rule")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#referrerpolicy-modifier"},"$referrerpolicy")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#removeheader-modifier"},"$removeheader")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#removeparam-modifier"},"$removeparam")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#replace-modifier"},"$replace")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#urltransform-modifier"},"$urltransform")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#noop-modifier"},"noop")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#empty-modifier",title:"deprecated"},"$empty \ud83d\udc4e")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#mp4-modifier",title:"deprecated"},"$mp4 \ud83d\udc4e")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")))),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},"\u2705 \u2014 pln\u011b podporov\xe1no"),(0,i.kt)("li",{parentName:"ul"},"\u2705 * \u2014 podporov\xe1no, ale spolehlivost se m\u016f\u017ee li\u0161it nebo se mohou vyskytnout omezen\xed; v\xedce informac\xed naleznete v popisu modifik\xe1toru"),(0,i.kt)("li",{parentName:"ul"},"\u23f3 \u2014 funkce, kter\xe1 byla implementov\xe1na nebo jej\xed\u017e implementace se pl\xe1nuje, ale zat\xedm nen\xed k dispozici v \u017e\xe1dn\xe9m produktu"),(0,i.kt)("li",{parentName:"ul"},"\u274c \u2014 nepodporov\xe1no"),(0,i.kt)("li",{parentName:"ul"},"\ud83d\udc4e \u2014 deprecated; still supported but will be removed in the future"))),(0,i.kt)("h4",{id:"all-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$all"))),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"$all")," modifier is made of ",(0,i.kt)("a",{parentName:"p",href:"#content-type-modifiers"},"all content-types modifiers")," and ",(0,i.kt)("a",{parentName:"p",href:"#popup-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$popup")),". E.g. rule ",(0,i.kt)("inlineCode",{parentName:"p"},"||example.org^$all")," is converting into rule:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"||example.org^$document,subdocument,font,image,media,object,other,ping,script,stylesheet,websocket,xmlhttprequest,popup\n")),(0,i.kt)("p",null,"This modifier cannot be used as an exception with the ",(0,i.kt)("inlineCode",{parentName:"p"},"@@")," mark."),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Rules with ",(0,i.kt)("inlineCode",{parentName:"p"},"$all")," modifier are not supported by AdGuard Content Blocker.")),(0,i.kt)("h4",{id:"badfilter-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$badfilter"))),(0,i.kt)("p",null,"The rules with the ",(0,i.kt)("inlineCode",{parentName:"p"},"$badfilter")," modifier disable other basic rules to which they refer. It means that the text of the disabled rule should match the text of the ",(0,i.kt)("inlineCode",{parentName:"p"},"$badfilter")," rule (without the ",(0,i.kt)("inlineCode",{parentName:"p"},"$badfilter")," modifier)."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||example.com$badfilter")," zak\xe1\u017ee ",(0,i.kt)("inlineCode",{parentName:"li"},"||example.com")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||example.com$image,badfilter")," zak\xe1\u017ee ",(0,i.kt)("inlineCode",{parentName:"li"},"||example.com$image")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.com$badfilter")," zak\xe1\u017ee ",(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.com")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||example.com$domain=domain.com,badfilter")," zak\xe1\u017ee ",(0,i.kt)("inlineCode",{parentName:"li"},"||example.com$domain=domain.com"))),(0,i.kt)("p",null,"Rules with ",(0,i.kt)("inlineCode",{parentName:"p"},"$badfilter")," modifier can disable other basic rules for specific domains if they fulfill the following conditions:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Pravidlo m\xe1 modifik\xe1tor ",(0,i.kt)("inlineCode",{parentName:"li"},"$domain")),(0,i.kt)("li",{parentName:"ol"},"Pravidlo nem\xe1 hodnotu modifik\xe1toru negovan\xe9 dom\xe9ny ",(0,i.kt)("inlineCode",{parentName:"li"},"~")," v ",(0,i.kt)("inlineCode",{parentName:"li"},"$domain"))),(0,i.kt)("p",null,"In that case, the ",(0,i.kt)("inlineCode",{parentName:"p"},"$badfilter")," rule will disable the corresponding rule for domains specified in both the ",(0,i.kt)("inlineCode",{parentName:"p"},"$badfilter")," and basic rules. Please note that ",(0,i.kt)("a",{parentName:"p",href:"#wildcard-for-tld"},"wildcard-TLD logic")," works here as well."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"/some$domain=example.com|example.org|example.io")," je zak\xe1z\xe1na pro ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com")," pomoc\xed ",(0,i.kt)("inlineCode",{parentName:"li"},"/some$domain=example.com,badfilter")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"/some$domain=example.com|example.org|example.io")," ije zak\xe1z\xe1na pro ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com")," a ",(0,i.kt)("inlineCode",{parentName:"li"},"example.org")," pomoc\xed ",(0,i.kt)("inlineCode",{parentName:"li"},"/some$domain=example.com|example.org,badfilter")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"/some$domain=example.com|example.org")," a ",(0,i.kt)("inlineCode",{parentName:"li"},"/some$domain=example.io")," jsou kompletn\u011b zak\xe1z\xe1ny pomoc\xed ",(0,i.kt)("inlineCode",{parentName:"li"},"/some$domain=example.com|example.org|example.io,badfilter")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"/some$domain=example.com|example.org|example.io")," je kompletn\u011b zak\xe1z\xe1na pomoc\xed ",(0,i.kt)("inlineCode",{parentName:"li"},"/some$domain=example.*,badfilter")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"/some$domain=example.*")," je zak\xe1z\xe1na pro ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com")," a ",(0,i.kt)("inlineCode",{parentName:"li"},"example.org")," pomoc\xed ",(0,i.kt)("inlineCode",{parentName:"li"},"/some$domain=example.com|example.org,badfilter")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"/some$domain=example.com|example.org|example.io")," NEN\xcd zak\xe1z\xe1na pro ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com")," pomoc\xed ",(0,i.kt)("inlineCode",{parentName:"li"},"/some$domain=example.com|~example.org,badfilter"),", proto\u017ee hodnota modifik\xe1toru ",(0,i.kt)("inlineCode",{parentName:"li"},"$domain")," obsahuje negovanou dom\xe9nu")),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Rules with ",(0,i.kt)("inlineCode",{parentName:"p"},"$badfilter")," modifier are not supported by AdGuard Content Blocker.")),(0,i.kt)("h4",{id:"cookie-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$cookie"))),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"$cookie")," modifier completely changes rule behavior. Instead of blocking a request, this modifier makes AdGuard suppress or modify the ",(0,i.kt)("inlineCode",{parentName:"p"},"Cookie")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"Set-Cookie")," headers."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Multiple rules matching a single request")),(0,i.kt)("p",null,"In case if multiple ",(0,i.kt)("inlineCode",{parentName:"p"},"$cookie")," rules match a single request, we will apply each of them one by one."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Syntax")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"$cookie [= name[; maxAge = seconds [; sameSite = strategy ]]]\n")),(0,i.kt)("p",null,"kde:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"name"))," \u2014 nepovinn\xe9, \u0159et\u011bzec nebo regul\xe1rn\xed v\xfdraz pro p\u0159i\u0159azen\xed n\xe1zvu cookie."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"seconds"))," \u2014 po\u010det sekund aktu\xe1ln\xedho \u010dasu pro posunut\xed data vypr\u0161en\xed platnosti souboru cookie."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"strategy"))," \u2014 \u0159et\u011bzec pro strategii pou\u017eit\xed cookie ",(0,i.kt)("a",{parentName:"li",href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie/SameSite"},"Same-Site"),".")),(0,i.kt)("p",null,"For example,"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"||example.org^$cookie=NAME;maxAge=3600;sameSite=lax\n")),(0,i.kt)("p",null,"every time AdGuard encounters a cookie called ",(0,i.kt)("inlineCode",{parentName:"p"},"NAME")," in a request to ",(0,i.kt)("inlineCode",{parentName:"p"},"example.org"),", it will do the following:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Nastav\xed datum vypr\u0161en\xed platnosti na aktu\xe1ln\xed \u010das plus ",(0,i.kt)("inlineCode",{parentName:"li"},"3600")," sekund"),(0,i.kt)("li",{parentName:"ul"},'P\u0159im\u011bje cookie pou\u017e\xedt "laxn\xed" strategii ',(0,i.kt)("a",{parentName:"li",href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie/SameSite"},"Same-Site"),".")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Escaping special characters")),(0,i.kt)("p",null,"If regular expression ",(0,i.kt)("inlineCode",{parentName:"p"},"name")," is used for matching, two characters must be escaped: comma ",(0,i.kt)("inlineCode",{parentName:"p"},",")," and dollar sign ",(0,i.kt)("inlineCode",{parentName:"p"},"$"),". Use backslash ",(0,i.kt)("inlineCode",{parentName:"p"},"\\")," escape each of them. For example, escaped comma looks like this: ",(0,i.kt)("inlineCode",{parentName:"p"},"\\,"),"."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^$cookie")," blokuje ",(0,i.kt)("strong",{parentName:"li"},"v\u0161echny")," soubory cookie nastaven\xe9 dom\xe9nou ",(0,i.kt)("inlineCode",{parentName:"li"},"example.org"),"; to je ekvivalent nastaven\xed ",(0,i.kt)("inlineCode",{parentName:"li"},"maxAge=0")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"$cookie=__cfduid")," blokuje v\u0161ude soubory cookie CloudFlare"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"$cookie=/__utm[a-z]/")," blokuje v\u0161ude soubory cookie Google Analytics"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||facebook.com^$third-party,cookie=c_user")," br\xe1n\xed Facebooku ve sledov\xe1n\xed, i kdy\u017e jste p\u0159ihl\xe1\u0161eni")),(0,i.kt)("p",null,"There are two methods to deactivate ",(0,i.kt)("inlineCode",{parentName:"p"},"$cookie")," rules: the primary method involves using an exception marked with ",(0,i.kt)("inlineCode",{parentName:"p"},"@@")," \u2014 ",(0,i.kt)("inlineCode",{parentName:"p"},"@@||example.org^$cookie"),". The alternative method employs a ",(0,i.kt)("inlineCode",{parentName:"p"},"$urlblock")," exception (also included under the ",(0,i.kt)("inlineCode",{parentName:"p"},"$document")," exception alias \u2014 ",(0,i.kt)("inlineCode",{parentName:"p"},"$elemhide,jsinject,content,urlblock,extension"),"). Here's how it works:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.org^$cookie")," odblokuje v\u0161echny soubory cookie nastaven\xe9 dom\xe9nou ",(0,i.kt)("inlineCode",{parentName:"li"},"example.org")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.org^$urlblock")," odblokuje v\u0161echny cookies nastaven\xe9 dom\xe9nou ",(0,i.kt)("inlineCode",{parentName:"li"},"example.org")," a zak\xe1\u017ee blokov\xe1n\xed v\u0161ech po\u017eadavk\u016f odeslan\xfdch z ",(0,i.kt)("inlineCode",{parentName:"li"},"example.org")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.org^$cookie=concept")," odblokuje jeden soubor cookie s n\xe1zvem ",(0,i.kt)("inlineCode",{parentName:"li"},"concept")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.org^$cookie=/^_ga_/")," odblokuje ka\u017ed\xfd soubor cookie, kter\xfd odpov\xedd\xe1 regul\xe1rn\xedmu v\xfdrazu")),(0,i.kt)("admonition",{title:"Omezen\xed",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("inlineCode",{parentName:"p"},"$cookie")," rules support three types of modifiers: ",(0,i.kt)("inlineCode",{parentName:"p"},"$domain"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"$~domain"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"$important"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"$third-party"),", and ",(0,i.kt)("inlineCode",{parentName:"p"},"$~third-party"),".")),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Rules with ",(0,i.kt)("inlineCode",{parentName:"p"},"$cookie")," modifier are not supported by AdGuard Content Blocker, AdGuard for iOS, and AdGuard for Safari.")),(0,i.kt)("h4",{id:"csp-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$csp"))),(0,i.kt)("p",null,"This modifier completely changes the rule behavior. If it is applied to a rule, the rule will not block the matching request. Response headers will be modified instead."),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"In order to use this type of rules, it is required to have the basic understanding of the ",(0,i.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy"},"Content Security Policy")," security layer.")),(0,i.kt)("p",null,"For the requests matching a ",(0,i.kt)("inlineCode",{parentName:"p"},"$csp")," rule, we will strengthen response security policy by enhancing the content security policy, similar to the content security policy of the ",(0,i.kt)("inlineCode",{parentName:"p"},"$csp")," modifier contents. ",(0,i.kt)("inlineCode",{parentName:"p"},"$csp")," rules are applied independently from any other rule type. ",(0,i.kt)("strong",{parentName:"p"},"Only document-level exceptions")," can influence it (see the examples section), but no other basic rules."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Multiple rules matching a single request")),(0,i.kt)("p",null,"In case if multiple ",(0,i.kt)("inlineCode",{parentName:"p"},"$csp")," rules match a single request, we will apply each of them."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Syntax")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"$csp")," value syntax is similar to the Content Security Policy header syntax."),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"$csp")," value can be empty in the case of exception rules. See examples section below."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^$csp=frame-src 'none'")," blokuje v\u0161echny obr\xe1zky na example.org a jej\xedch subdom\xe9n\xe1ch."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.org/page/*$csp=frame-src 'none'")," zak\xe1\u017ee v\u0161echna pravidla s modifik\xe1torem ",(0,i.kt)("inlineCode",{parentName:"li"},"$csp")," p\u0159esn\u011b odpov\xeddaj\xedc\xedm p\u0159\xedznakem ",(0,i.kt)("inlineCode",{parentName:"li"},"frame-src 'none'")," na v\u0161ech str\xe1nk\xe1ch odpov\xeddaj\xedc\xedch vzoru pravidla. Nap\u0159. v\xfd\u0161e uveden\xe9 pravidlo."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.org/page/*$csp")," zak\xe1\u017ee v\u0161echna pravidla ",(0,i.kt)("inlineCode",{parentName:"li"},"$csp")," na v\u0161ech str\xe1nk\xe1ch odpov\xeddaj\xedc\xedch vzoru pravidla."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^$csp=script-src 'self' 'unsafe-eval' http: https:")," zak\xe1\u017ee vlo\u017een\xe9 skripty na v\u0161ech str\xe1nk\xe1ch odpov\xeddaj\xedc\xedch vzoru pravidla."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.org^$document")," nebo ",(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.org^$urlblock")," zak\xe1\u017e\xed v\u0161echna pravidla ",(0,i.kt)("inlineCode",{parentName:"li"},"$csp")," na v\u0161ech str\xe1nk\xe1ch odpov\xeddaj\xedc\xedch vzoru pravidla.")),(0,i.kt)("admonition",{title:"Omezen\xed",type:"caution"},(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},"V hodnot\u011b ",(0,i.kt)("inlineCode",{parentName:"li"},"$csp")," je zak\xe1z\xe1no n\u011bkolik znak\u016f: ",(0,i.kt)("inlineCode",{parentName:"li"},","),", ",(0,i.kt)("inlineCode",{parentName:"li"},"$"),"."),(0,i.kt)("li",{parentName:"ul"},"Pravidla ",(0,i.kt)("inlineCode",{parentName:"li"},"$csp")," podporuj\xed omezen\xfd seznam modifik\xe1tor\u016f: ",(0,i.kt)("inlineCode",{parentName:"li"},"$domain"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"$important"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"$subdocument"),"."),(0,i.kt)("li",{parentName:"ul"},"Pravidla s direktivami ",(0,i.kt)("inlineCode",{parentName:"li"},"report-*")," jsou pova\u017eov\xe1na za neplatn\xe1."))),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Rules with ",(0,i.kt)("inlineCode",{parentName:"p"},"$csp")," modifier are not supported by AdGuard Content Blocker, AdGuard for iOS and AdGuard for Safari.")),(0,i.kt)("h4",{id:"hls-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$hls"))),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"$hls")," rules modify the response of a matching request. They are intended as a convenient way to remove segments from ",(0,i.kt)("a",{parentName:"p",href:"https://datatracker.ietf.org/doc/html/rfc8216"},"HLS playlists (RFC 8216)"),"."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},'The word "segment" in this document means either a "Media Segment" or a "playlist" as part of a "Master Playlist": ',(0,i.kt)("inlineCode",{parentName:"p"},"$hls"),' rules do not distinguish between a "Master Playlist" and a "Media Playlist".')),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Syntax")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^$hls=urlpattern")," odstran\xed segmenty, jejich\u017e adresa URL odpov\xedd\xe1 vzoru adresy URL ",(0,i.kt)("inlineCode",{parentName:"li"},"urlpattern"),". Vzor funguje stejn\u011b jako v z\xe1kladn\xedch pravidlech pro URL adresy, ale znaky ",(0,i.kt)("inlineCode",{parentName:"li"},"/"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"$")," a ",(0,i.kt)("inlineCode",{parentName:"li"},",")," mus\xed b\xfdt uvozeny pomoc\xed ",(0,i.kt)("inlineCode",{parentName:"li"},"\\")," uvnit\u0159 ",(0,i.kt)("inlineCode",{parentName:"li"},"urlpattern"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^$hls=/regexp/options")," odstran\xed segmenty, kde URL nebo jeden ze znak\u016f (u ur\u010dit\xfdch mo\u017enost\xed, pokud jsou p\u0159\xedtomny) odpov\xedd\xe1 regul\xe1rn\xedmu v\xfdrazu ",(0,i.kt)("inlineCode",{parentName:"li"},"regexp"),". K dispozici jsou tyto mo\u017enosti ",(0,i.kt)("inlineCode",{parentName:"li"},"options"),":",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"t")," \u2014 nam\xedsto testov\xe1n\xed adresy URL segmentu otestujte ka\u017ed\xfd znak segmentu podle regul\xe1rn\xedho v\xfdrazu. Segment se shodn\xfdm znakem je odstran\u011bn;"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"i")," \u2014 regul\xe1rn\xed v\xfdraz nerozli\u0161uje velk\xe1 a mal\xe1 p\xedsmena.")))),(0,i.kt)("p",null,"The characters ",(0,i.kt)("inlineCode",{parentName:"p"},"/"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"$")," and ",(0,i.kt)("inlineCode",{parentName:"p"},",")," must be escaped with ",(0,i.kt)("inlineCode",{parentName:"p"},"\\")," inside ",(0,i.kt)("inlineCode",{parentName:"p"},"regexp"),"."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"V\xfdjimky")),(0,i.kt)("p",null,"Basic URL exceptions shall not disable rules with ",(0,i.kt)("inlineCode",{parentName:"p"},"$hls")," modifier. They can be disabled as described below:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.org^$hls")," zak\xe1\u017ee v\u0161echna pravidla ",(0,i.kt)("inlineCode",{parentName:"li"},"$hls")," pro odpov\u011bdi z URL odpov\xeddaj\xedc\xedch ",(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.org^$hls=text")," zak\xe1\u017ee v\u0161echna pravidla ",(0,i.kt)("inlineCode",{parentName:"li"},"$hls")," s hodnotou modifik\xe1toru ",(0,i.kt)("inlineCode",{parentName:"li"},"$hls")," shodn\xfdm s ",(0,i.kt)("inlineCode",{parentName:"li"},"text")," pro odpov\u011bdi z URL odpov\xeddaj\xedc\xedch ",(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^"),".")),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("inlineCode",{parentName:"p"},"$hls")," rules can also be disabled by ",(0,i.kt)("inlineCode",{parentName:"p"},"$document"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"$content")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"$urlblock")," exception rules.")),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"When multiple ",(0,i.kt)("inlineCode",{parentName:"p"},"$hls")," rules match the same request, their effect is cumulative.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^$hls=\\/videoplayback^?*&source=dclk_video_ads")," odstran\xed v\u0161echny segmenty se shodnou URL."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^$hls=/\\/videoplayback\\/?\\?.*\\&source=dclk_video_ads/i")," dos\xe1hne v\xedcem\xe9n\u011b t\xe9ho\u017e pomoc\xed regul\xe1rn\xedho v\xfdrazu nam\xedsto vzoru URL."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^$hls=/#UPLYNK-SEGMENT:.*\\,ad/t")," odstran\xed v\u0161echny segmenty, kter\xe9 maj\xed odpov\xeddaj\xedc\xed znak.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Anatomy of an HLS playlist")),(0,i.kt)("p",null,"A quick summary of the ",(0,i.kt)("a",{parentName:"p",href:"https://datatracker.ietf.org/doc/html/rfc8216"},"specification"),":"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Seznam stop HLS je kolekce textov\xfdch \u0159\xe1dk\u016f"),(0,i.kt)("li",{parentName:"ol"},"\u0158\xe1dek m\u016f\u017ee b\xfdt pr\xe1zdn\xfd, koment\xe1\u0159 (za\u010d\xedn\xe1 ",(0,i.kt)("inlineCode",{parentName:"li"},"#"),"), znak (tak\xe9 za\u010d\xedn\xe1 ",(0,i.kt)("inlineCode",{parentName:"li"},"#"),", lze jej rozpoznat pouze podle n\xe1zvu) nebo URL"),(0,i.kt)("li",{parentName:"ol"},'\u0158\xe1dek URL se naz\xfdv\xe1 "segment"'),(0,i.kt)("li",{parentName:"ol"},"Znaky se mohou vztahovat na jeden segment, tj. prvn\xed \u0159\xe1dek adresy URL za znakem, na v\u0161echny segmenty n\xe1sleduj\xedc\xed za znakem a\u017e do znaku se stejn\xfdm n\xe1zvem nebo na cel\xfd seznam skladeb")),(0,i.kt)("p",null,"Some points specific to the operation of ",(0,i.kt)("inlineCode",{parentName:"p"},"$hls")," rules:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"P\u0159i odstran\u011bn\xed segmentu se odstran\xed tak\xe9 v\u0161echny znaky, kter\xe9 se vztahuj\xed pouze k tomuto segmentu"),(0,i.kt)("li",{parentName:"ol"},"Pokud se znak vztahuje na v\xedce segment\u016f a v\u0161echny tyto segmenty jsou odstran\u011bny, je odstran\u011bna i znak"),(0,i.kt)("li",{parentName:"ol"},"Proto\u017ee neexistuje zp\u016fsob, jak rozpoznat r\u016fzn\xe9 druhy znak\u016f podle syntaxe, rozpozn\xe1v\xe1me v\u0161echny znaky uveden\xe9 v RFC a n\u011bkter\xe9 nestandardn\xed znaky, se kter\xfdmi jsme se setkali v praxi. V\u0161echny \u0159\xe1dky za\u010d\xednaj\xedc\xed na ",(0,i.kt)("inlineCode",{parentName:"li"},"#"),". Ty, kter\xe9 nejsou rozpozn\xe1ny jako znak, jsou p\u0159ed\xe1ny bez \xfaprav a nejsou porovn\xe1v\xe1ny s pravidly"),(0,i.kt)("li",{parentName:"ol"},"Zna\u010dky nebudou p\u0159i\u0159azeny, pokud se vztahuj\xed na cel\xfd seznam stop a k jejich odstran\u011bn\xed nelze pou\u017e\xedt pravidla ",(0,i.kt)("inlineCode",{parentName:"li"},"$hls"),", proto\u017ee tyto typy pravidel jsou ur\u010deny pro odstra\u0148ov\xe1n\xed segment\u016f. Pokud v\xedte, co d\u011bl\xe1te, m\u016f\u017eete pomoc\xed pravidel ",(0,i.kt)("inlineCode",{parentName:"li"},"$replace")," odstranit nebo p\u0159epsat pouze jeden znak ze seznamu skladeb")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"An example of a transformation done by the rules:")),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Original response"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},"#EXTM3U\n#EXT-X-TARGETDURATION:10\n#EXTINF,5\npreroll.ts\n#UPLYNK-SEGMENT:abc123,ad\n#UPLYNK-KEY:aabb1122\n#EXT-X-DISCONTINUITY\n#EXTINF,10\n01.ts\n#EXTINF,10\n02.ts\n#UPLYNK-SEGMENT:abc123,segment\n#UPLYNK-KEY:ccdd2233\n#EXT-X-DISCONTINUITY\n#EXTINF,10\n01.ts\n#EXTINF,10\n02.ts\n#EXT-X-ENDLIST\n"))),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Applied rules"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"||example.org^$hls=preroll\n||example.org^$hls=/#UPLYNK-SEGMENT:.*\\,ad/t\n"))),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Modified response"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},"#EXTM3U\n#EXT-X-TARGETDURATION:10\n#UPLYNK-SEGMENT:abc123,segment\n#UPLYNK-KEY:ccdd2233\n#EXT-X-DISCONTINUITY\n#EXTINF,10\n01.ts\n#EXTINF,10\n02.ts\n#EXT-X-ENDLIST\n"))),(0,i.kt)("admonition",{title:"Omezen\xed",type:"caution"},(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},"Pravidla ",(0,i.kt)("inlineCode",{parentName:"li"},"$hls")," lze pou\u017e\xedt ",(0,i.kt)("a",{parentName:"li",href:"#trusted-filters"},(0,i.kt)("strong",{parentName:"a"},"pouze v d\u016fv\u011bryhodn\xfdch filtrech")),"."),(0,i.kt)("li",{parentName:"ul"},"Pravidla ",(0,i.kt)("inlineCode",{parentName:"li"},"$hls")," jsou kompatibiln\xed pouze s modifik\xe1tory ",(0,i.kt)("inlineCode",{parentName:"li"},"$domain"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"$third- party"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"$app"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"$important"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"$match- case")," a ",(0,i.kt)("inlineCode",{parentName:"li"},"$xmlhttprequest"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"$hls")," pravidla plat\xed pouze pro seznamy stop HLS, co\u017e je text k\xf3dovan\xfd v UTF-8 za\u010d\xednaj\xedc\xed \u0159\xe1dkem ",(0,i.kt)("inlineCode",{parentName:"li"},"#EXTM3U"),". Jak\xe1koli jin\xe1 odpov\u011b\u010f nebude t\u011bmito pravidly upravena."),(0,i.kt)("li",{parentName:"ul"},"Pravidla ",(0,i.kt)("inlineCode",{parentName:"li"},"$hls")," neplat\xed, pokud je velikost p\u016fvodn\xed odpov\u011bdi v\u011bt\u0161\xed ne\u017e 10 MB."))),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Rules with the ",(0,i.kt)("inlineCode",{parentName:"p"},"$hls")," modifier are supported by AdGuard for Windows, Mac, and Android with ",(0,i.kt)("a",{parentName:"p",href:"https://adguard.com/en/blog/introducing-corelibs.html"},"CoreLibs")," v1.10 or later.")),(0,i.kt)("h4",{id:"inline-script-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$inline-script"))),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"$inline-script")," modifier is designed to block inline JavaScript embedded into the web page, using Content Security Policy (CSP). It improves security and privacy by preventing application of inline ads or potentially malicious scripts. The rule ",(0,i.kt)("inlineCode",{parentName:"p"},"||example.org^$inline-script")," is converting into the CSP-syntax rule:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"||example.org^$csp=script-src 'self' 'unsafe-eval' http: https: data: blob: mediastream: filesystem:\n")),(0,i.kt)("h4",{id:"inline-font-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$inline-font"))),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"$inline-font")," modifier is designed to block inline fonts embedded into the web page, using Content Security Policy (CSP). It improves security and privacy by preventing application of inline fonts that could be used for data collection and fingerprinting. The rule ",(0,i.kt)("inlineCode",{parentName:"p"},"||example.org^$inline-font")," is converting into the CSP-syntax rule:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"||example.org^$csp=font-src 'self' 'unsafe-eval' http: https: data: blob: mediastream: filesystem:\n")),(0,i.kt)("h4",{id:"jsonprune-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$jsonprune"))),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"$jsonprune")," rules modify the response to a matching request by removing JSON items that match a modified ",(0,i.kt)("a",{parentName:"p",href:"https://goessner.net/articles/JsonPath/"},"JSONPath")," expression. They do not modify responses which are not valid JSON documents."),(0,i.kt)("p",null,"In AdGuard for Windows, Mac, and Android with ",(0,i.kt)("a",{parentName:"p",href:"https://adguard.com/en/blog/introducing-corelibs.html"},"CoreLibs")," v1.11 or later, ",(0,i.kt)("inlineCode",{parentName:"p"},"$jsonprune")," also supports modifying JSONP (padded JSON) documents."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Syntax")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^$jsonprune=expression")," odstran\xed z odpov\u011bdi polo\u017eky, kter\xe9 odpov\xeddaj\xed upraven\xe9mu v\xfdrazu JSONPath ",(0,i.kt)("inlineCode",{parentName:"li"},"expression"),".")),(0,i.kt)("p",null,"Due to the way rule parsing works, the characters ",(0,i.kt)("inlineCode",{parentName:"p"},"$")," and ",(0,i.kt)("inlineCode",{parentName:"p"},",")," must be escaped with ",(0,i.kt)("inlineCode",{parentName:"p"},"\\")," inside ",(0,i.kt)("inlineCode",{parentName:"p"},"expression"),"."),(0,i.kt)("p",null,"The modified JSONPath syntax has the following differences from the original:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"V\xfdrazy skript\u016f nejsou podporov\xe1ny"),(0,i.kt)("li",{parentName:"ol"},"Podporovan\xe9 v\xfdrazy filtr\u016f jsou:",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"?(has <key>)"),' \u2014 "true", pokud m\xe1 aktu\xe1ln\xed objekt zadan\xfd kl\xed\u010d'),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"?(key-eq <key> <value>)"),' \u2014 "true", pokud m\xe1 aktu\xe1ln\xed objekt zadan\xfd kl\xed\u010d a jeho hodnota se rovn\xe1 zadan\xe9 hodnot\u011b'),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"?(key-substr <key> <value>)"),' \u2014 "true", pokud je zadan\xe1 hodnota pod\u0159et\u011bzcem hodnoty zadan\xe9ho kl\xed\u010de aktu\xe1ln\xedho objektu'))),(0,i.kt)("li",{parentName:"ol"},"Mezery mimo \u0159et\u011bzce s dvojit\xfdmi nebo jednoduch\xfdmi uvozovkami nemaj\xed \u017e\xe1dn\xfd v\xfdznam"),(0,i.kt)("li",{parentName:"ol"},"Lze pou\u017e\xedt \u0159et\u011bzce s dvojit\xfdmi i jednoduch\xfdmi uvozovkami"),(0,i.kt)("li",{parentName:"ol"},"V\xfdrazy kon\u010d\xedc\xed na ",(0,i.kt)("inlineCode",{parentName:"li"},"..")," nejsou podporov\xe1ny"),(0,i.kt)("li",{parentName:"ol"},"V hranat\xfdch z\xe1vork\xe1ch lze zadat v\xedcero d\xedlk\u016f pole")),(0,i.kt)("p",null,"There are various online tools that make working with JSONPath expressions more convenient:"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://www.site24x7.com/tools/jsonpath-finder-validator.html"},"https://www.site24x7.com/tools/jsonpath-finder-validator.html")," ",(0,i.kt)("a",{parentName:"p",href:"https://jsonpathfinder.com/"},"https://jsonpathfinder.com/")," ",(0,i.kt)("a",{parentName:"p",href:"https://jsonpath.com/"},"https://jsonpath.com/")),(0,i.kt)("p",null,"Keep in mind, though, that all JSONPath implementations have unique features/quirks and are subtly incompatible with each other."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"V\xfdjimky")),(0,i.kt)("p",null,"Basic URL exceptions shall not disable rules with the ",(0,i.kt)("inlineCode",{parentName:"p"},"$jsonprune")," modifier. They can be disabled as described below:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.org^$jsonprune")," zak\xe1\u017ee v\u0161echna pravidla ",(0,i.kt)("inlineCode",{parentName:"li"},"$jsonprune")," pro odpov\u011bdi z URL odpov\xeddaj\xedc\xedch ",(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.org^$jsonprune=text")," zak\xe1\u017ee v\u0161echna pravidla ",(0,i.kt)("inlineCode",{parentName:"li"},"$jsonprune")," s hodnotou modifik\xe1toru ",(0,i.kt)("inlineCode",{parentName:"li"},"$jsonprune")," shodn\xfdm s ",(0,i.kt)("inlineCode",{parentName:"li"},"text")," pro odpov\u011bdi z URL odpov\xeddaj\xedc\xedch ",(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^"),".")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"$jsonprune")," rules can also be disabled by ",(0,i.kt)("inlineCode",{parentName:"p"},"$document"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"$content")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"$urlblock")," exception rules."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"When multiple ",(0,i.kt)("inlineCode",{parentName:"p"},"$jsonprune")," rules match the same request, they are sorted in lexicographical order, the first rule is applied to the original response, and each of the remaining rules is applied to the result of applying the previous one.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},'||example.org^$jsonprune=\\$..[one\\, "two three"]'),' odstran\xed v\u0161echny v\xfdskyty kl\xed\u010d\u016f "one" a "two three" kdekoli v dokumentu JSON.')),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Input"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "one": 1,\n    "two": {\n        "two three": 23,\n        "four five": 45\n    }\n}\n'))),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Output"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "two": {\n        "four five": 45\n    }\n}\n'))),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^$jsonprune=\\$.a[?(has ad_origin)]")," odstran\xed v\u0161echny potomky ",(0,i.kt)("inlineCode",{parentName:"li"},"a"),", kter\xe9 maj\xed kl\xed\u010d ",(0,i.kt)("inlineCode",{parentName:"li"},"ad_origin"),".")),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Input"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "a": [\n        {\n            "ad_origin": "https://example.org",\n            "b": 42\n        },\n        {\n            "b": 1234\n        }\n    ]\n}\n'))),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Output"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "a": [\n        {\n            "b": 1234\n        }\n    ]\n}\n'))),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^$jsonprune=\\$.*.*[?(key-eq 'Some key' 'Some value')]"),' odstran\xed v\u0161echny polo\u017eky, kter\xe9 jsou na \xfarovni vno\u0159en\xed 3 a maj\xed vlastnost "Some key" rovnu "Some value".')),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Input"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "a": {"b": {"c": {"Some key": "Some value"}, "d": {"Some key": "Other value"}}},\n    "e": {"f": [{"Some key": "Some value"}, {"Some key": "Other value"}]}\n}\n'))),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Output"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "a": {"b": {"d": {"Some key": "Other value"}}},\n    "e": {"f": [{"Some key": "Other value"}]}\n}\n'))),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Nested JSONPath expressions")),(0,i.kt)("p",null,"In AdGuard for Windows, Mac and Android with ",(0,i.kt)("a",{parentName:"p",href:"https://adguard.com/en/blog/introducing-corelibs.html"},"CoreLibs")," v1.11 or later, JSONPath expressions may be used as keys in filter expressions."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},'||example.org^$jsonprune=\\$.elems[?(m\xe1 "\\$.abc")]')," odstran\xed v\u0161echny potomky ",(0,i.kt)("inlineCode",{parentName:"li"},"elems"),", kter\xe9 maj\xed vlastnost volitelnou v\xfdrazem JSONPath ",(0,i.kt)("inlineCode",{parentName:"li"},"$.abc"),".")),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Input"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "elems": [\n        {\n            "a": {"b": {"c": 123}},\n            "k": "v"\n        },\n        {\n            "d": {"e": {"f": 123}},\n            "k1": "v1"\n        }\n    ]\n}\n'))),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Output"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "elems": [\n        {\n            "d": {"e": {"f": 123}},\n            "k1": "v1"\n        }\n    ]\n}\n'))),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},'||example.org^$jsonprune=\\$.elems[?(key-eq "\\$.a.b.c" "abc")]')," odstran\xed v\u0161echny potomky ",(0,i.kt)("inlineCode",{parentName:"li"},"elems"),", kter\xe9 maj\xed vlastnost volitelnou pomoc\xed v\xfdrazu JSONPath ",(0,i.kt)("inlineCode",{parentName:"li"},"$.a.b.c")," s hodnotou rovnou ",(0,i.kt)("inlineCode",{parentName:"li"},'"abc"'),".")),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Input"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "elems": [\n        {\n            "a": {"b": {"c": 123}},\n        },\n        {\n            "a": {"b": {"c": "abc"}}\n        }\n    ]\n}\n'))),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Output"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "elems": [\n        {\n            "a": {"b": {"c": 123}}\n        }\n    ]\n}\n'))),(0,i.kt)("admonition",{title:"Omezen\xed",type:"caution"},(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"$jsonprune")," pravidla jsou kompatibiln\xed pouze s t\u011bmito modifik\xe1tory: ",(0,i.kt)("inlineCode",{parentName:"li"},"$domain"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"$third-party"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"$app"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"$important"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"$match-case")," a ",(0,i.kt)("inlineCode",{parentName:"li"},"$xmlhttprequest"),"."),(0,i.kt)("li",{parentName:"ul"},"Pravidla ",(0,i.kt)("inlineCode",{parentName:"li"},"$jsonprune")," neplat\xed, pokud je velikost p\u016fvodn\xed odpov\u011bdi v\u011bt\u0161\xed ne\u017e 10 MB."))),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Rules with the ",(0,i.kt)("inlineCode",{parentName:"p"},"$jsonprune")," modifier are supported by AdGuard for Windows, Mac, and Android with ",(0,i.kt)("a",{parentName:"p",href:"https://adguard.com/en/blog/introducing-corelibs.html"},"CoreLibs")," v1.10 or later.")),(0,i.kt)("h4",{id:"xmlprune-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$xmlprune"))),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"$xmlprune")," rules modify the response to a matching request by removing XML items that match an ",(0,i.kt)("a",{parentName:"p",href:"https://www.w3.org/TR/1999/REC-xpath-19991116/"},"XPath 1.0")," expression. The expression must return a ",(0,i.kt)("a",{parentName:"p",href:"https://www.w3.org/TR/1999/REC-xpath-19991116/#node-sets"},"node-set"),". ",(0,i.kt)("inlineCode",{parentName:"p"},"$xmlprune")," rules do not modify responses which are not well-formed XML documents."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Syntax")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^$xmlprune=expression")," odstran\xed z odpov\u011bdi polo\u017eky, kter\xe9 odpov\xeddaj\xed v\xfdrazu XPath ",(0,i.kt)("inlineCode",{parentName:"li"},"expression"),".")),(0,i.kt)("p",null,"Due to the way rule parsing works, the characters ",(0,i.kt)("inlineCode",{parentName:"p"},"$")," and ",(0,i.kt)("inlineCode",{parentName:"p"},",")," must be escaped with ",(0,i.kt)("inlineCode",{parentName:"p"},"\\")," inside ",(0,i.kt)("inlineCode",{parentName:"p"},"expression"),"."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"V\xfdjimky")),(0,i.kt)("p",null,"Basic URL exceptions shall not disable rules with the ",(0,i.kt)("inlineCode",{parentName:"p"},"$xmlprune")," modifier. They can be disabled as described below:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.org^$xmlprune")," zak\xe1\u017ee v\u0161echna pravidla ",(0,i.kt)("inlineCode",{parentName:"li"},"$xmlprune")," pro odpov\u011bdi z URL odpov\xeddaj\xedc\xedch ",(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.org^$xmlprune=text")," zak\xe1\u017ee v\u0161echna pravidla ",(0,i.kt)("inlineCode",{parentName:"li"},"$xmlprune")," s hodnotou modifik\xe1toru ",(0,i.kt)("inlineCode",{parentName:"li"},"$xmlprune")," shodn\xfdm s ",(0,i.kt)("inlineCode",{parentName:"li"},"text")," pro odpov\u011bdi z URL odpov\xeddaj\xedc\xedch ",(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^"),".")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"$xmlprune")," rules can also be disabled by ",(0,i.kt)("inlineCode",{parentName:"p"},"$document"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"$content")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"$urlblock")," exception rules."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"When multiple ",(0,i.kt)("inlineCode",{parentName:"p"},"$xmlprune")," rules match the same request, they are applied in lexicographical order.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^$xmlprune=/bookstore/book[position() mod 2 = 1]")," odstran\xed z knihkupectv\xed knihy s lich\xfdmi \u010d\xedsly.")),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Input"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="UTF-8"?>\n\n<bookstore>\n\n  <book category="cooking">\n    <title lang="en">Everyday Italian</title>\n    <author>Giada De Laurentiis</author>\n    <year>2005</year>\n    <price>30.00</price>\n  </book>\n\n  <book category="children">\n    <title lang="en">Harry Potter</title>\n    <author>J K. Rowling</author>\n    <year>2005</year>\n    <price>29.99</price>\n  </book>\n\n  <book category="web">\n    <title lang="en">XQuery Kick Start</title>\n    <author>James McGovern</author>\n    <author>Per Bothner</author>\n    <author>Kurt Cagle</author>\n    <author>James Linn</author>\n    <author>Vaidyanathan Nagarajan</author>\n    <year>2003</year>\n    <price>49.99</price>\n  </book>\n\n  <book category="web">\n    <title lang="en">Learning XML</title>\n    <author>Erik T. Ray</author>\n    <year>2003</year>\n    <price>39.95</price>\n  </book>\n\n</bookstore>\n'))),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Output"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="UTF-8"?>\n\n<bookstore>\n\n\n\n<book category="children">\n  <title lang="en">Harry Potter</title>\n  <author>J K. Rowling</author>\n  <year>2005</year>\n  <price>29.99</price>\n</book>\n\n\n\n<book category="web">\n  <title lang="en">Learning XML</title>\n  <author>Erik T. Ray</author>\n  <year>2003</year>\n  <price>39.95</price>\n</book>\n\n</bookstore>\n'))),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^$xmlprune=/bookstore/book[year = 2003]")," odstran\xed knihy z roku 2003 z knihkupectv\xed.")),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Input"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="UTF-8"?>\n\n<bookstore>\n\n  <book category="cooking">\n    <title lang="en">Everyday Italian</title>\n    <author>Giada De Laurentiis</author>\n    <year>2005</year>\n    <price>30.00</price>\n  </book>\n\n  <book category="children">\n    <title lang="en">Harry Potter</title>\n    <author>J K. Rowling</author>\n    <year>2005</year>\n    <price>29.99</price>\n  </book>\n\n  <book category="web">\n    <title lang="en">XQuery Kick Start</title>\n    <author>James McGovern</author>\n    <author>Per Bothner</author>\n    <author>Kurt Cagle</author>\n    <author>James Linn</author>\n    <author>Vaidyanathan Nagarajan</author>\n    <year>2003</year>\n    <price>49.99</price>\n  </book>\n\n  <book category="web">\n    <title lang="en">Learning XML</title>\n    <author>Erik T. Ray</author>\n    <year>2003</year>\n    <price>39.95</price>\n  </book>\n\n</bookstore>\n'))),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Output"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="UTF-8"?>\n\n<bookstore>\n\n<book category="cooking">\n  <title lang="en">Everyday Italian</title>\n  <author>Giada De Laurentiis</author>\n  <year>2005</year>\n  <price>30.00</price>\n</book>\n\n<book category="children">\n  <title lang="en">Harry Potter</title>\n  <author>J K. Rowling</author>\n  <year>2005</year>\n  <price>29.99</price>\n</book>\n\n\n\n\n\n</bookstore>\n'))),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^$xmlprune=//*/@*")," odstran\xed v\u0161echny atributy ze v\u0161ech prvk\u016f.")),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Input"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="UTF-8"?>\n\n<bookstore location="cy">\n\n  <book category="cooking">\n    <title lang="en">Everyday Italian</title>\n    <author>Giada De Laurentiis</author>\n    <year>2005</year>\n    <price>30.00</price>\n  </book>\n\n</bookstore>\n'))),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Output"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="UTF-8"?>\n\n<bookstore>\n\n  <book>\n    <title>Everyday Italian</title>\n    <author>Giada De Laurentiis</author>\n    <year>2005</year>\n    <price>30.00</price>\n  </book>\n\n</bookstore>\n'))),(0,i.kt)("admonition",{title:"Omezen\xed",type:"caution"},(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"$xmlprune")," pravidla jsou kompatibiln\xed pouze s t\u011bmito modifik\xe1tory: ",(0,i.kt)("inlineCode",{parentName:"li"},"$domain"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"$third-party"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"$app"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"$important"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"$match-case")," a ",(0,i.kt)("inlineCode",{parentName:"li"},"$xmlhttprequest"),"."),(0,i.kt)("li",{parentName:"ul"},"Pravidla ",(0,i.kt)("inlineCode",{parentName:"li"},"$xmlprune")," neplat\xed, pokud je velikost p\u016fvodn\xed odpov\u011bdi v\u011bt\u0161\xed ne\u017e 10 MB."))),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Rules with the ",(0,i.kt)("inlineCode",{parentName:"p"},"$xmlprune")," modifier are supported by AdGuard for Windows, Mac, and Android with ",(0,i.kt)("a",{parentName:"p",href:"https://adguard.com/en/blog/introducing-corelibs.html"},"CoreLibs")," v1.15 or later.")),(0,i.kt)("h4",{id:"network-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$network"))),(0,i.kt)("p",null,"This is basically a Firewall-like rule allowing to fully block or unblock access to a specified remote address."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Pravidla ",(0,i.kt)("inlineCode",{parentName:"li"},"$network")," odpov\xeddaj\xed ",(0,i.kt)("strong",{parentName:"li"},"pouze IP adres\xe1m"),"! Nelze je pou\u017e\xedt k zablokov\xe1n\xed nebo odblokov\xe1n\xed p\u0159\xedstupu k dom\xe9n\u011b."),(0,i.kt)("li",{parentName:"ol"},"Chcete-li se shodovat s adresou IPv6, mus\xedte pou\u017e\xedt sbalenou syntaxi, nap\u0159. ",(0,i.kt)("inlineCode",{parentName:"li"},"[2001:4860:4860::8888]$network")," nam\xedsto ",(0,i.kt)("inlineCode",{parentName:"li"},"[2001:4860:4860:0:0:0:0:8888]$network"),"."),(0,i.kt)("li",{parentName:"ol"},"Pravidlo seznamu povolen\xfdch ",(0,i.kt)("inlineCode",{parentName:"li"},"$network")," zp\u016fsob\xed, \u017ee AdGuard bude obch\xe1zet data odpov\xeddaj\xedc\xedho koncov\xe9ho bodu, proto nebude prov\xe1d\u011bt \u017e\xe1dn\xe9 dal\u0161\xed filtrov\xe1n\xed."),(0,i.kt)("li",{parentName:"ol"},"Pokud \u010d\xe1st IP za\u010d\xedn\xe1 a kon\u010d\xed znakem ",(0,i.kt)("inlineCode",{parentName:"li"},"/"),", je pova\u017eov\xe1na za regul\xe1rn\xed v\xfdraz.")),(0,i.kt)("p",null,"We recommend to get acquainted with this ",(0,i.kt)("a",{parentName:"p",href:"#regexp-support"},"article")," for better understanding of regular expressions."),(0,i.kt)("admonition",{title:"Omezen\xed",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"The ",(0,i.kt)("inlineCode",{parentName:"p"},"$network")," modifier can only be used in rules together with the ",(0,i.kt)("inlineCode",{parentName:"p"},"$app")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"$important")," modifiers, and not with any other modifiers.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"174.129.166.49:3478^$network")," blokuje p\u0159\xedstup k ",(0,i.kt)("inlineCode",{parentName:"li"},"174.129.166.49:3478")," (ale ne k ",(0,i.kt)("inlineCode",{parentName:"li"},"174.129.166.49:34788"),")."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[2001:4860:4860::8888]:443^$network")," blokuje p\u0159\xedstup k ",(0,i.kt)("inlineCode",{parentName:"li"},"[2001:4860:4860::8888]:443"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"174.129.166.49$network")," blokuje p\u0159\xedstup k ",(0,i.kt)("inlineCode",{parentName:"li"},"174.129.166.49:*"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@174.129.166.49$network")," zp\u016fsob\xed, \u017ee AdGuard bude koncov\xe9mu bodu p\u0159ed\xe1vat data. \u017d\xe1dn\xe1 jin\xe1 pravidla se neuplat\u0148uj\xed."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"/.+:3[0-9]{4}/$network")," blokuje p\u0159\xedstup k libovoln\xe9mu portu od 30000 do 39999."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"/8.8.8.(:?8|4)/$network")," blokuje p\u0159\xedstup k ",(0,i.kt)("inlineCode",{parentName:"li"},"8.8.8.8")," a ",(0,i.kt)("inlineCode",{parentName:"li"},"8.8.8.4"),".")),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Only AdGuard for Windows, Mac, and Android are technically capable of using rules with ",(0,i.kt)("inlineCode",{parentName:"p"},"$network")," modifier.")),(0,i.kt)("h4",{id:"permissions-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$permissions"))),(0,i.kt)("p",null,"This modifier completely changes the rule behavior. If it is applied to a rule, the rule will not block the matching request. Response headers will be modified instead."),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"In order to use this type of rules, it is required to have a basic understanding of the ",(0,i.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Permissions_Policy"},"Permissions Policy")," security layer.")),(0,i.kt)("p",null,"For the requests matching a ",(0,i.kt)("inlineCode",{parentName:"p"},"$permissions")," rule, AdGuard strengthens response's permissions policy by adding an additional permission policy equal to the ",(0,i.kt)("inlineCode",{parentName:"p"},"$permissions")," modifier contents. ",(0,i.kt)("inlineCode",{parentName:"p"},"$permissions")," rules are applied independently from any other rule type. ",(0,i.kt)("strong",{parentName:"p"},"Only document-level exceptions")," can influence it (see the examples section), but no other basic rules."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Syntax")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"$permissions")," value syntax is similar to the ",(0,i.kt)("inlineCode",{parentName:"p"},"Permissions-Policy")," header ",(0,i.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Permissions-Policy"},"syntax")," with one exception: comma that separates several features ",(0,i.kt)("strong",{parentName:"p"},"MUST")," be escaped \u2014 see examples below. The list of the available directives is available ",(0,i.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Permissions-Policy#directives"},"here"),"."),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"$permissions")," value can be empty in the case of exception rules \u2014 see examples below."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^$permissions=autoplay=()")," zak\xe1\u017ee automatick\xe9 p\u0159ehr\xe1v\xe1n\xed m\xe9di\xed vy\u017e\xe1dan\xfdch prost\u0159ednictv\xedm rozhran\xed ",(0,i.kt)("inlineCode",{parentName:"li"},"HTMLMediaElement")," v r\xe1mci ",(0,i.kt)("inlineCode",{parentName:"li"},"example.org"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.org/page/*$permissions=autoplay=()")," zak\xe1\u017ee v\u0161echna pravidla s modifik\xe1torem ",(0,i.kt)("inlineCode",{parentName:"li"},"$permissions")," p\u0159esn\u011b odpov\xeddaj\xedc\xedm p\u0159\xedznakem ",(0,i.kt)("inlineCode",{parentName:"li"},"autoplay=()")," na v\u0161ech str\xe1nk\xe1ch odpov\xeddaj\xedc\xedch vzoru pravidla. Nap\u0159. v\xfd\u0161e uveden\xe9 pravidlo. It is important to note that the exception rule only takes effect in the case of an ",(0,i.kt)("strong",{parentName:"li"},"exact value match"),". For example, if you want to disable the rule  ",(0,i.kt)("inlineCode",{parentName:"li"},"$permissions=a=()\\,b=()"),", you need exception rule ",(0,i.kt)("inlineCode",{parentName:"li"},"@@$permissions=a=()\\,b=()"),", and ",(0,i.kt)("strong",{parentName:"li"},"not")," ",(0,i.kt)("inlineCode",{parentName:"li"},"@@$permissions=b=()\\,a=()"),", ",(0,i.kt)("strong",{parentName:"li"},"nor")," ",(0,i.kt)("inlineCode",{parentName:"li"},"@@$permissions=b=()")," because ",(0,i.kt)("inlineCode",{parentName:"li"},"b=()\\,a=()")," or ",(0,i.kt)("inlineCode",{parentName:"li"},"b=()")," does not match with ",(0,i.kt)("inlineCode",{parentName:"li"},"a=()\\,b=()"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.org/page/*$permissions")," zak\xe1\u017ee v\u0161echna pravidla ",(0,i.kt)("inlineCode",{parentName:"li"},"$permissions")," na v\u0161ech str\xe1nk\xe1ch odpov\xeddaj\xedc\xedch vzoru pravidla."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"$domain=example.org|example.com,permissions=storage-access=()\\, camera=()")," zak\xe1\u017ee pou\u017eit\xed API pro p\u0159\xedstup k \xfalo\u017ei\u0161ti pro vy\u017e\xe1d\xe1n\xed p\u0159\xedstupu k nerozd\u011blen\xfdm soubor\u016fm cookies a pou\u017e\xedv\xe1n\xed vstupn\xedch za\u0159\xedzen\xed videa nap\u0159\xed\u010d ",(0,i.kt)("inlineCode",{parentName:"li"},"example.org")," a ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com"),"."),(0,i.kt)("li",{parentName:"ul"},"For better compatibility, we also support pipe-separated values for ",(0,i.kt)("inlineCode",{parentName:"li"},"$permissions")," modifier: ",(0,i.kt)("inlineCode",{parentName:"li"},"$permissions=storage-access=()|camera=()"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.org^$document")," nebo ",(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.org^$urlblock")," zak\xe1\u017e\xed v\u0161echna pravidla ",(0,i.kt)("inlineCode",{parentName:"li"},"$permission")," na v\u0161ech str\xe1nk\xe1ch odpov\xeddaj\xedc\xedch vzoru pravidla.")),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("inlineCode",{parentName:"p"},"$permissions")," rules only take effect for main frame and sub frame requests. This means they are applied when a page is loaded or when an iframe is loaded.")),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"If there are multiple ",(0,i.kt)("inlineCode",{parentName:"p"},"$permissions")," rules that match the same request, multiple ",(0,i.kt)("inlineCode",{parentName:"p"},"Permissions-Policy")," headers will be added to the response for each rule with their ",(0,i.kt)("inlineCode",{parentName:"p"},"$permissions")," value. So if you have two rules: ",(0,i.kt)("inlineCode",{parentName:"p"},"||example.org^$permissions=autoplay=()")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"||example.org^$permissions=geolocation=()\\,camera=()")," that match the same request, the response will contain two ",(0,i.kt)("inlineCode",{parentName:"p"},"Permissions-Policy")," headers: ",(0,i.kt)("inlineCode",{parentName:"p"},"autoplay=()")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"geolocation=()\\,camera=()"),".")),(0,i.kt)("admonition",{title:"Limitations",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"Firefox ignores the ",(0,i.kt)("inlineCode",{parentName:"p"},"Permissions-Policy")," header. For more information, see ",(0,i.kt)("a",{parentName:"p",href:"https://bugzilla.mozilla.org/show_bug.cgi?id=1694922"},"this issue"),".")),(0,i.kt)("admonition",{title:"Omezen\xed",type:"caution"},(0,i.kt)("ol",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ol"},"Zak\xe1zan\xe9 znaky v ",(0,i.kt)("inlineCode",{parentName:"li"},"$permissions")," hodnot\u011b: ",(0,i.kt)("inlineCode",{parentName:"li"},"$")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"$permissions")," je kompatibiln\xed se t\u0159emi typy modifik\xe1tor\u016f: ",(0,i.kt)("inlineCode",{parentName:"li"},"$domain"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"$important")," a ",(0,i.kt)("inlineCode",{parentName:"li"},"$subdocument")))),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Rules with the ",(0,i.kt)("inlineCode",{parentName:"p"},"$permissions")," modifier are supported by AdGuard for Windows, Mac, and Android with ",(0,i.kt)("a",{parentName:"p",href:"https://adguard.com/en/blog/introducing-corelibs.html"},"CoreLibs")," v1.11 or later.")),(0,i.kt)("h4",{id:"redirect-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$redirect"))),(0,i.kt)("p",null,'AdGuard is able to redirect web requests to a local "resource".'),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Syntax")),(0,i.kt)("p",null,"AdGuard uses the same filtering rule syntax as uBlock Origin. Also, it is compatible with ABP ",(0,i.kt)("inlineCode",{parentName:"p"},"$rewrite=abp-resource")," modifier."),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"$redirect")," is a modifier for the ",(0,i.kt)("a",{parentName:"p",href:"#basic-rules"},"basic filtering rules")," so rules with this modifier support all other basic modifiers like ",(0,i.kt)("inlineCode",{parentName:"p"},"$domain"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"$third-party"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"$script"),", etc."),(0,i.kt)("p",null,"The value of the ",(0,i.kt)("inlineCode",{parentName:"p"},"$redirect")," modifier must be the name of the resource that will be used for redirection."),(0,i.kt)("h5",{id:"zak\xe1z\xe1n\xed-pravidel-redirect"},"Zak\xe1z\xe1n\xed pravidel ",(0,i.kt)("inlineCode",{parentName:"h5"},"$redirect")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||example.org/script.js$script,redirect=noopjs")," \u2014 toto pravidlo p\u0159esm\u011bruje v\u0161echny po\u017eadavky na ",(0,i.kt)("inlineCode",{parentName:"li"},"example.org/script.js")," na zdroj s n\xe1zvem ",(0,i.kt)("inlineCode",{parentName:"li"},"noopjs"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||example.org/test.mp4$media,redirect=noopmp4-1s")," \u2014 toto pravidlo p\u0159esm\u011bruje v\u0161echny po\u017eadavky na ",(0,i.kt)("inlineCode",{parentName:"li"},"example.org/test.mp4")," na zdroj s n\xe1zvem ",(0,i.kt)("inlineCode",{parentName:"li"},"noopmp4-1s"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.org^$redirect")," zak\xe1\u017ee v\u0161echna pravidla ",(0,i.kt)("inlineCode",{parentName:"li"},"$redirect")," pro URL adresy, kter\xe9 odpov\xeddaj\xed ",(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.org^$redirect=nooptext")," zak\xe1\u017ee v\u0161echna pravidla s ",(0,i.kt)("inlineCode",{parentName:"li"},"$redirect=nooptext")," pro v\u0161echny po\u017eadavky, kter\xe9 odpov\xeddaj\xed ",(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^"),".")),(0,i.kt)("p",null,"More information on redirects and their usage is available ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/AdguardTeam/Scriptlets#redirect-resources"},"on GitHub"),"."),(0,i.kt)("h5",{id:"redirect-rule-priorities"},"Priority pravidel ",(0,i.kt)("inlineCode",{parentName:"h5"},"$redirect")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"$redirect")," rules have higher priority than regular basic blocking rules. This means that if there is a basic blocking rule, the ",(0,i.kt)("inlineCode",{parentName:"p"},"$redirect")," rule will override it. Allowlist rules with ",(0,i.kt)("inlineCode",{parentName:"p"},"@@")," mark have higher priority than ",(0,i.kt)("inlineCode",{parentName:"p"},"$redirect")," rules. If a basic rule with the ",(0,i.kt)("inlineCode",{parentName:"p"},"$important")," modifier and the ",(0,i.kt)("inlineCode",{parentName:"p"},"$redirect")," rule matches the same URL, the latter is overridden unless it's also marked as ",(0,i.kt)("inlineCode",{parentName:"p"},"$important"),"."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"In short: ",(0,i.kt)("inlineCode",{parentName:"strong"},"$important")," > ",(0,i.kt)("inlineCode",{parentName:"strong"},"@@")," > ",(0,i.kt)("inlineCode",{parentName:"strong"},"$redirect")," > ",(0,i.kt)("inlineCode",{parentName:"strong"},"basic rules"),".")),(0,i.kt)("p",null,"Dal\u0161\xed podrobnosti najdete v ",(0,i.kt)("a",{parentName:"p",href:"#rule-priorities"},"priorit\xe1ch pravidel"),"."),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},"Pravidla s modifik\xe1torem ",(0,i.kt)("inlineCode",{parentName:"li"},"$redirect")," nejsou podporov\xe1na Blok\xe1torem obsahu AdGuard, AdGuardem pro iOS a AdGuardem pro Safari."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"$redirect")," v uBlock Origin podporuje zadan\xe9 priority, nap\u0159. ",(0,i.kt)("inlineCode",{parentName:"li"},"$redirect=noopjs:42"),". AdGuard to nepodporuje a m\xedsto toho pouze zahod\xed prioritn\xed postfix."))),(0,i.kt)("h4",{id:"redirect-rule-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$redirect-rule"))),(0,i.kt)("p",null,"This is basically an alias to ",(0,i.kt)("a",{parentName:"p",href:"#redirect-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$redirect")),' since it has the same "redirection" values and the logic is almost similar. The difference is that ',(0,i.kt)("inlineCode",{parentName:"p"},"$redirect-rule")," is applied only in the case when the target request is blocked by a different basic rule."),(0,i.kt)("p",null,"Dal\u0161\xed podrobnosti najdete v ",(0,i.kt)("a",{parentName:"p",href:"#rule-priorities"},"priorit\xe1ch pravidel"),"."),(0,i.kt)("p",null,"Negating ",(0,i.kt)("inlineCode",{parentName:"p"},"$redirect-rule")," works exactly the same way as for regular ",(0,i.kt)("inlineCode",{parentName:"p"},"$redirect")," rules. Even more than that, ",(0,i.kt)("inlineCode",{parentName:"p"},"@@||example.org^$redirect")," will negate both ",(0,i.kt)("inlineCode",{parentName:"p"},"$redirect")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"$redirect-rule")," rules."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"||example.org/script.js\n||example.org^$redirect-rule=noopjs\n")),(0,i.kt)("p",null,"In this case, only requests to ",(0,i.kt)("inlineCode",{parentName:"p"},"example.org/script.js"),' will be "redirected" to ',(0,i.kt)("inlineCode",{parentName:"p"},"noopjs"),". All other requests to ",(0,i.kt)("inlineCode",{parentName:"p"},"example.org")," will be kept intact."),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Rules with ",(0,i.kt)("inlineCode",{parentName:"p"},"$redirect-rule")," modifier are not supported by AdGuard Content Blocker, AdGuard for iOS, and AdGuard for Safari.")),(0,i.kt)("h4",{id:"referrerpolicy-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$referrerpolicy"))),(0,i.kt)("p",null,"These rules allow overriding of a page's ",(0,i.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referrer-Policy"},"referrer policy"),". Responses to matching requests will have all of their ",(0,i.kt)("inlineCode",{parentName:"p"},"Referrer-Policy")," headers replaced with a single header with the value equal to the matching rule's modifier value. If the response carries an HTML document with a ",(0,i.kt)("inlineCode",{parentName:"p"},'<meta name="referrer"...')," tag, the ",(0,i.kt)("inlineCode",{parentName:"p"},"content")," attribute of the tag will also be replaced with the modifier value."),(0,i.kt)("p",null,"An exception rule with a modifier value disables the blocking rule with the same modifier value. An exception rule without a modifier value disables all matched referrer-policy rules."),(0,i.kt)("p",null,"If a request matches multiple ",(0,i.kt)("inlineCode",{parentName:"p"},"$referrerpolicy")," rules not disabled by exceptions, only one of them (it is not specified which one) is applied. ",(0,i.kt)("inlineCode",{parentName:"p"},"$referrerpolicy")," rules without specified ",(0,i.kt)("a",{parentName:"p",href:"#content-type-modifiers"},"content-type modifiers")," apply to ",(0,i.kt)("inlineCode",{parentName:"p"},"$document")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"$subdocument")," content types."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||example.com^$referrerpolicy=unsafe-url")," p\u0159ep\xed\u0161e z\xe1sady odkazov\xe1n\xed pro ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com")," pomoc\xed ",(0,i.kt)("inlineCode",{parentName:"li"},"unsafe-url"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.com^$referrerpolicy=unsafe-url")," zak\xe1\u017ee p\u0159edchoz\xed pravidlo."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.com/abcd.html^$referrerpolicy")," zak\xe1\u017ee v\u0161echna pravidla ",(0,i.kt)("inlineCode",{parentName:"li"},"$referrerpolicy")," na ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com/abcd.html"),".")),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Rules with the ",(0,i.kt)("inlineCode",{parentName:"p"},"$referrerpolicy")," modifier are supported by AdGuard for Windows, Mac, and Android with ",(0,i.kt)("a",{parentName:"p",href:"https://adguard.com/en/blog/introducing-corelibs.html"},"CoreLibs")," v1.12 or later.")),(0,i.kt)("h4",{id:"removeheader-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$removeheader"))),(0,i.kt)("p",null,"Rules with ",(0,i.kt)("inlineCode",{parentName:"p"},"$removeheader")," modifier are intended to remove headers from HTTP requests and responses. The initial motivation for this rule type is to be able to get rid of the ",(0,i.kt)("inlineCode",{parentName:"p"},"Refresh")," header which is often used to redirect users to an undesirable location. However, this is not the only case where this modifier can be useful."),(0,i.kt)("p",null,"Just like ",(0,i.kt)("inlineCode",{parentName:"p"},"$csp"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"$redirect"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"$removeparam"),", and ",(0,i.kt)("inlineCode",{parentName:"p"},"$cookie"),", this modifier exists independently, rules with it do not depend on the regular basic rules, i.e. regular exception or blocking rules will not affect it. By default, it only affects response headers. However, you can also change it to remove headers from HTTP requests as well."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Syntax")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Basic syntax")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^$removeheader=header-name")," odstran\xed ",(0,i.kt)("strong",{parentName:"li"},"odpov\u011b\u010f")," z\xe1hlav\xed s n\xe1zvem ",(0,i.kt)("inlineCode",{parentName:"li"},"header-name")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^$removeheader=request:header-name")," odstran\xed ",(0,i.kt)("strong",{parentName:"li"},"po\u017eadavek")," z\xe1hlav\xed s n\xe1zvem ",(0,i.kt)("inlineCode",{parentName:"li"},"header-name"))),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"$removeheader")," is case-insensitive, but we suggest always using lower case."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Negating ",(0,i.kt)("inlineCode",{parentName:"strong"},"$removeheader"))),(0,i.kt)("p",null,"This type of rules works pretty much the same way it works with ",(0,i.kt)("inlineCode",{parentName:"p"},"$csp")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"$redirect")," modifiers."),(0,i.kt)("p",null,"Use ",(0,i.kt)("inlineCode",{parentName:"p"},"@@")," to negate ",(0,i.kt)("inlineCode",{parentName:"p"},"$removeheader"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.org^$removeheader")," neguje ",(0,i.kt)("strong",{parentName:"li"},"v\u0161echna")," pravidla ",(0,i.kt)("inlineCode",{parentName:"li"},"$removeheader")," pro URL adresy, kter\xe9 odpov\xeddaj\xed ",(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.org^$removeheader=header")," neguje v\u0161echna pravidla s ",(0,i.kt)("inlineCode",{parentName:"li"},"$removeheader=header")," pro jak\xfdkoliv po\u017eadavek, kter\xfd odpov\xedd\xe1 ",(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^"),".")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"$removeheader")," rules can also be disabled by ",(0,i.kt)("inlineCode",{parentName:"p"},"$document")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"$urlblock")," exception rules. But basic exception rules without modifiers will not do that. For example, ",(0,i.kt)("inlineCode",{parentName:"p"},"@@||example.com^")," will not disable ",(0,i.kt)("inlineCode",{parentName:"p"},"$removeheader=p")," for requests to ",(0,i.kt)("inlineCode",{parentName:"p"},"example.com"),", but ",(0,i.kt)("inlineCode",{parentName:"p"},"@@||example.com^$urlblock")," will."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"In case of multiple ",(0,i.kt)("inlineCode",{parentName:"p"},"$removeheader")," rules matching a single request, we will apply each of them one by one.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"||example.org^$removeheader=refresh")," odstran\xed z\xe1hlav\xed ",(0,i.kt)("inlineCode",{parentName:"p"},"Refresh")," ze v\u0161ech HTTP odpov\u011bd\xed vr\xe1cen\xfdch dom\xe9nou ",(0,i.kt)("inlineCode",{parentName:"p"},"example.org")," a jej\xedmi subdom\xe9nami.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"||example.org^$removeheader=request:x-client-data")," odstran\xed z\xe1hlav\xed ",(0,i.kt)("inlineCode",{parentName:"p"},"X-Client-Data")," ze v\u0161ech po\u017eadavk\u016f HTTP.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Dal\u0161\xed blok pravidel odstran\xed z\xe1hlav\xed ",(0,i.kt)("inlineCode",{parentName:"p"},"Refresh")," a ",(0,i.kt)("inlineCode",{parentName:"p"},"Location")," ze v\u0161ech odpov\u011bd\xed HTTP vr\xe1cen\xfdch dom\xe9nou ",(0,i.kt)("inlineCode",{parentName:"p"},"example.org")," s v\xfdjimkou po\u017eadavk\u016f na ",(0,i.kt)("inlineCode",{parentName:"p"},"example.org/path/*"),", u kter\xfdch nebudou odstran\u011bny \u017e\xe1dn\xe9 z\xe1hlav\xed:"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"||example.org^$removeheader=refresh\n||example.org^$removeheader=location\n@@||example.org/path/$removeheader\n")))),(0,i.kt)("admonition",{title:"Omezen\xed",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"This type of rules can be used ",(0,i.kt)("a",{parentName:"p",href:"#trusted-filters"},(0,i.kt)("strong",{parentName:"a"},"only in trusted filters")),"."),(0,i.kt)("ol",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Aby nedo\u0161lo k naru\u0161en\xed bezpe\u010dnosti, nelze z n\xed\u017ee uveden\xe9ho seznamu odstranit z\xe1hlav\xed ",(0,i.kt)("inlineCode",{parentName:"p"},"$removeheader"),":"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"access-control-allow-origin")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"access-control-allow-credentials")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"access-control-allow-headers")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"access-control-allow-methods")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"access-control-expose-headers")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"access-control-max-age")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"access-control-request-headers")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"access-control-request-method")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"origin")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"timing-allow-origin")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"allow")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"cross-origin-embedder-policy")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"cross-origin-opener-policy")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"cross-origin-resource-policy")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"content-security-policy")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"content-security-policy-report-only")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"expect-ct")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"feature-policy")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"origin-isolation")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"strict-transport-security")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"upgrade-insecure-requests")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"x-content-type-options")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"x-download-options")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"x-frame-options")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"x-permitted-cross-domain-policies")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"x-powered-by")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"x-xss-protection")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"public-key-pins")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"public-key-pins-report-only")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"sec-websocket-key")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"sec-websocket-extensions")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"sec-websocket-accept")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"sec-websocket-protocol")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"sec-websocket-version")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"p3p")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"sec-fetch-mode")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"sec-fetch-dest")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"sec-fetch-site")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"sec-fetch-user")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"referrer-policy")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"content-type")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"content-length")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"accept")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"accept-encoding")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"host")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"connection")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"transfer-encoding")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"upgrade")))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Pravidla ",(0,i.kt)("inlineCode",{parentName:"p"},"$removeheader")," jsou kompatibiln\xed s ",(0,i.kt)("inlineCode",{parentName:"p"},"$domain"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"$third-party"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"$app"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"$important"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"$match-case"),", a ",(0,i.kt)("a",{parentName:"p",href:"#content-type-modifiers"},"modifik\xe1tory typu obsahu,")," jako nap\u0159. ",(0,i.kt)("inlineCode",{parentName:"p"},"$script")," a ",(0,i.kt)("inlineCode",{parentName:"p"},"$stylesheet"),". Pravidla s jin\xfdmi modifik\xe1tory jsou pova\u017eov\xe1na za neplatn\xe1 a budou vy\u0159azena.")))),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Rules with ",(0,i.kt)("inlineCode",{parentName:"p"},"$removeheader")," modifier are supported by AdGuard for Windows, Mac, and Android, and AdGuard Browser Extension for Chrome, Firefox, and Edge.")),(0,i.kt)("h4",{id:"removeparam-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$removeparam"))),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("inlineCode",{parentName:"p"},"$queryprune")," is an alias of ",(0,i.kt)("inlineCode",{parentName:"p"},"$removeparam"),". Since ",(0,i.kt)("inlineCode",{parentName:"p"},"$queryprune")," is deprecated, avoid using it and use ",(0,i.kt)("inlineCode",{parentName:"p"},"$removeparam")," instead.")),(0,i.kt)("p",null,"Rules with ",(0,i.kt)("inlineCode",{parentName:"p"},"$removeparam")," modifier are intended to strip query parameters from requests' URLs. Please note that such rules are only applied to ",(0,i.kt)("inlineCode",{parentName:"p"},"GET"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"HEAD"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"OPTIONS"),", and sometimes ",(0,i.kt)("inlineCode",{parentName:"p"},"POST")," requests."),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"$removeparam")," rules that do not have any ",(0,i.kt)("a",{parentName:"p",href:"#content-type-modifiers"},"content type modifiers")," will match only requests where content type is ",(0,i.kt)("inlineCode",{parentName:"p"},"document"),"."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Syntax")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Basic syntax")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"$removeparam=param")," odstran\xed parametr dotazu s n\xe1zvem ",(0,i.kt)("inlineCode",{parentName:"li"},"param")," z URL libovoln\xe9ho po\u017eadavku, nap\u0159. po\u017eadavek na ",(0,i.kt)("inlineCode",{parentName:"li"},"http://example.com/page?param=1&another=2")," bude transformov\xe1n na ",(0,i.kt)("inlineCode",{parentName:"li"},"http://example.com/page?another=2"),".")),(0,i.kt)("admonition",{title:"Compatibility",type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Rules with ",(0,i.kt)("inlineCode",{parentName:"p"},"$removeparam")," modifier are supported by AdGuard for Windows, Mac and, Android with ",(0,i.kt)("a",{parentName:"p",href:"https://adguard.com/en/blog/introducing-corelibs.html"},"CoreLibs")," v1.7 or later and AdGuard Browser Extension v3.6 or later.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Regular expressions")),(0,i.kt)("p",null,"You can also use regular expressions to match query parameters and/or their values:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"$removeparam=/regexp/[options]")," \u2014 odstran\xed parametry dotazu, kter\xe9 odpov\xeddaj\xed regul\xe1rn\xedmu v\xfdrazu ",(0,i.kt)("inlineCode",{parentName:"li"},"regexp")," z adres URL jak\xe9hokoli po\u017eadavku. Na rozd\xedl od z\xe1kladn\xed syntaxe to znamen\xe1 ",(0,i.kt)("em",{parentName:"li"},'"odebrat parametry dotazu normalizovan\xe9 na \u0159et\u011bzec ',(0,i.kt)("inlineCode",{parentName:"em"},"name=value"),", kter\xfd odpov\xedd\xe1 regul\xe1rn\xedmu v\xfdrazu ",(0,i.kt)("inlineCode",{parentName:"em"},"regexp"),' "'),". ",(0,i.kt)("inlineCode",{parentName:"li"},"[options]")," zde je seznam mo\u017enost\xed regul\xe1rn\xedch v\xfdraz\u016f. V sou\u010dasn\xe9 dob\u011b je jedinou podporovanou mo\u017enost\xed ",(0,i.kt)("inlineCode",{parentName:"li"},"i"),", d\xedky \u010demu\u017e se nerozli\u0161uj\xed mal\xe1 a velk\xe1 p\xedsmena.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Escaping special characters")),(0,i.kt)("p",null,"Do not forget to escape special characters like ",(0,i.kt)("inlineCode",{parentName:"p"},","),", ",(0,i.kt)("inlineCode",{parentName:"p"},"/")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"$")," in the regular expressions. Use ",(0,i.kt)("inlineCode",{parentName:"p"},"\\")," character for that purpose. For example, an escaped comma should look like this: ",(0,i.kt)("inlineCode",{parentName:"p"},"\\,"),"."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Regexp-type rules target both name and value of the parameter. To minimize mistakes, it is safer to start every regexp with ",(0,i.kt)("inlineCode",{parentName:"p"},"/^")," unless you specifically target parameter values.")),(0,i.kt)("p",null,"We will try to detect and ignore unescaped ",(0,i.kt)("inlineCode",{parentName:"p"},"$")," automatically using a simple rule of thumb \u2014 it is not an options delimiter if all three are true:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Vypad\xe1 to jako ",(0,i.kt)("inlineCode",{parentName:"li"},"$/")),(0,i.kt)("li",{parentName:"ol"},"Nalevo od n\u011bj je dal\u0161\xed znak lom\xedtka ",(0,i.kt)("inlineCode",{parentName:"li"},"/")),(0,i.kt)("li",{parentName:"ol"},"Nalevo od tohoto znaku lom\xedtka je dal\u0161\xed znak dolaru bez uvozen\xed ",(0,i.kt)("inlineCode",{parentName:"li"},"$"))),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Remove all query parameters")),(0,i.kt)("p",null,"Specify naked ",(0,i.kt)("inlineCode",{parentName:"p"},"$removeparam")," to remove all query parameters:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^$removeparam")," \u2014 odstran\xed v\u0161echny parametry dotazu z adres URL odpov\xeddaj\xedc\xedch ",(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^"),".")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Inversion")),(0,i.kt)("p",null,"Use ",(0,i.kt)("inlineCode",{parentName:"p"},"~")," to apply inversion:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"$removeparam=~param")," \u2014 odstran\xed v\u0161echny parametry dotazu s n\xe1zvem odli\u0161n\xfdm od ",(0,i.kt)("inlineCode",{parentName:"li"},"param"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"$removeparam=~/regexp/")," \u2014 odstran\xed v\u0161echny parametry dotazu, kter\xe9 neodpov\xeddaj\xed regul\xe1rn\xedmu v\xfdrazu ",(0,i.kt)("inlineCode",{parentName:"li"},"regexp"),".")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Negating ",(0,i.kt)("inlineCode",{parentName:"strong"},"$removeparam"))),(0,i.kt)("p",null,"This sort of rules work pretty much the same way it works with ",(0,i.kt)("a",{parentName:"p",href:"#csp-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$csp"))," and ",(0,i.kt)("a",{parentName:"p",href:"#redirect-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$redirect"))," modifiers."),(0,i.kt)("p",null,"Use ",(0,i.kt)("inlineCode",{parentName:"p"},"@@")," to negate ",(0,i.kt)("inlineCode",{parentName:"p"},"$removeparam"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.org^$removeparam")," neguje v\u0161echna pravidla ",(0,i.kt)("inlineCode",{parentName:"li"},"$removeparam")," pro URL adresy, kter\xe9 odpov\xeddaj\xed ",(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.org^$removeparam=param")," neguje v\u0161echna pravidla s ",(0,i.kt)("inlineCode",{parentName:"li"},"$removeparam=param")," pro jak\xfdkoliv po\u017eadavek, kter\xfd odpov\xedd\xe1 ",(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.org^$removeparam=/regexp/")," neguje v\u0161echna pravidla s ",(0,i.kt)("inlineCode",{parentName:"li"},"$removeparam=/regexp/")," pro jak\xfdkoliv po\u017eadavek, kter\xfd odpov\xedd\xe1 ",(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^"),".")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Multiple rules matching a single request")),(0,i.kt)("p",null,"In the case when multiple ",(0,i.kt)("inlineCode",{parentName:"p"},"$removeparam")," rules match a single request, each of them will be applied one by one."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"$removeparam=/^(utm_source|utm_medium|utm_term)=/\n$removeparam=/^(utm_content|utm_campaign|utm_referrer)=/\n@@||example.com^$removeparam\n")),(0,i.kt)("p",null,"With these rules some ",(0,i.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/UTM_parameters"},"UTM parameters")," will be stripped out from any request, except that requests to ",(0,i.kt)("inlineCode",{parentName:"p"},"example.com")," will not be stripped at all, e.g. ",(0,i.kt)("inlineCode",{parentName:"p"},"http://google.com/page?utm_source=s&utm_referrer=fb.com&utm_content=img")," will be transformed to ",(0,i.kt)("inlineCode",{parentName:"p"},"http://google.com/page"),", but ",(0,i.kt)("inlineCode",{parentName:"p"},"http://example.com/page?utm_source=s&utm_referrer=fb.com&utm_content=img")," will not be affected by the blocking rule."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"$removeparam=utm_source")," odstran\xed parametr dotazu ",(0,i.kt)("inlineCode",{parentName:"p"},"utm_source")," ze v\u0161ech po\u017eadavk\u016f.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"$removeparam=/utm_.*/")," odstran\xed v\u0161echny parametry ",(0,i.kt)("inlineCode",{parentName:"p"},"utm_* query")," z URL libovoln\xe9ho po\u017eadavku, nap\u0159. po\u017eadavek na ",(0,i.kt)("inlineCode",{parentName:"p"},"http://example.com/page?utm_source=test")," bude transformov\xe1n na ",(0,i.kt)("inlineCode",{parentName:"p"},"http://example.com/page"),".")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"$removeparam=/^utm_source=campaign$/")," odstran\xed parametr dotazu ",(0,i.kt)("inlineCode",{parentName:"p"},"utm_source")," s hodnotou rovnou ",(0,i.kt)("inlineCode",{parentName:"p"},"campaign"),". Nem\xe1 vliv na ostatn\xed parametry ",(0,i.kt)("inlineCode",{parentName:"p"},"utm_source"),"."))),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Negating one ",(0,i.kt)("inlineCode",{parentName:"strong"},"$removeparam")," rule and replacing it with a different rule")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"$removeparam=/^(gclid|yclid|fbclid)=/\n@@||example.com^$removeparam=/^(gclid|yclid|fbclid)=/\n||example.com^$removeparam=/^(yclid|fbclid)=/\n")),(0,i.kt)("p",null,"With these rules, Google, Yandex, and Facebook Click IDs will be removed from all requests. There is one exception: Google Click ID (gclid) will not be removed from requests to example.com."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Negating ",(0,i.kt)("inlineCode",{parentName:"strong"},"$removeparam")," for all parameters")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"$removeparam=/^(utm_source|utm_medium|utm_term)=/\n$removeparam=/^(utm_content|utm_campaign|utm_referrer)=/\n@@||example.com^$removeparam\n")),(0,i.kt)("p",null,"With these rules, specified UTM parameters will be removed from any request save for requests to ",(0,i.kt)("inlineCode",{parentName:"p"},"example.org"),"."),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"$removeparam")," rules can also be disabled by ",(0,i.kt)("inlineCode",{parentName:"p"},"$document")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"$urlblock")," exception rules. But basic exception rules without modifiers do not do that. For example, ",(0,i.kt)("inlineCode",{parentName:"p"},"@@||example.com^")," will not disable ",(0,i.kt)("inlineCode",{parentName:"p"},"$removeparam=p")," for requests to ",(0,i.kt)("strong",{parentName:"p"},"example.com"),", but ",(0,i.kt)("inlineCode",{parentName:"p"},"@@||example.com^$urlblock")," will."),(0,i.kt)("admonition",{title:"Omezen\xed",type:"caution"},(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},"Pravidla s modifik\xe1torem ",(0,i.kt)("inlineCode",{parentName:"li"},"$removeparam")," lze pou\u017e\xedt ",(0,i.kt)("a",{parentName:"li",href:"#trusted-filters"},(0,i.kt)("strong",{parentName:"a"},"pouze v d\u016fv\u011bryhodn\xfdch filtrech")),"."),(0,i.kt)("li",{parentName:"ul"},"Pravidla ",(0,i.kt)("inlineCode",{parentName:"li"},"$removeparam")," jsou kompatibiln\xed se ",(0,i.kt)("a",{parentName:"li",href:"#basic-rules-basic-modifiers"},"z\xe1kladn\xedmi modifik\xe1tory"),", ",(0,i.kt)("a",{parentName:"li",href:"#content-type-modifiers"},"modifik\xe1tory typu obsahu")," a s modifik\xe1tory ",(0,i.kt)("inlineCode",{parentName:"li"},"$important")," a ",(0,i.kt)("inlineCode",{parentName:"li"},"$app"),". Pravidla s jin\xfdmi modifik\xe1tory jsou pova\u017eov\xe1na za neplatn\xe1 a budou vy\u0159azena."))),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},"Pravidla s modifik\xe1torem ",(0,i.kt)("inlineCode",{parentName:"li"},"$removeparam")," podporuje AdGuard pro Windows, Mac, Android a Roz\u0161\xed\u0159en\xed prohl\xed\u017ee\u010de AdGuard pro Chrome, Firefox a Edge."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"$removeparam")," syntax for regular expressions is supported by AdGuard Browser Extension v4.0 and AdGuard for Windows, Mac, and Android with ",(0,i.kt)("a",{parentName:"li",href:"https://adguard.com/en/blog/introducing-corelibs.html"},"CoreLibs")," v1.8 or later."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"POST")," request types are supported only by AdGuard for Windows, Mac, and Android with ",(0,i.kt)("a",{parentName:"li",href:"https://adguard.com/en/blog/introducing-corelibs.html"},"CoreLibs")," v1.10 or later, and AdGuard Browser Extension with ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/AdguardTeam/tsurlfilter/tree/master/packages/tswebextension#tswebextension"},"TSWebExtension")," v0.4.6 or later."))),(0,i.kt)("h4",{id:"replace-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$replace"))),(0,i.kt)("p",null,"This modifier completely changes the rule behavior. If it is applied, the rule will not block the request. The response is going to be modified instead."),(0,i.kt)("p",null,"You will need some knowledge of regular expressions to use ",(0,i.kt)("inlineCode",{parentName:"p"},"$replace")," modifier."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Features")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Pravidla ",(0,i.kt)("inlineCode",{parentName:"li"},"$replace")," plat\xed pro jakoukoli textovou odpov\u011b\u010f, ale neplat\xed pro bin\xe1rn\xed (",(0,i.kt)("inlineCode",{parentName:"li"},"media"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"image"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"object")," atd.)."),(0,i.kt)("li",{parentName:"ul"},"Pravidla ",(0,i.kt)("inlineCode",{parentName:"li"},"$replace")," neplat\xed, pokud je velikost p\u016fvodn\xed odpov\u011bdi v\u011bt\u0161\xed ne\u017e 10 MB."),(0,i.kt)("li",{parentName:"ul"},"Pravidla ",(0,i.kt)("inlineCode",{parentName:"li"},"$replace")," maj\xed vy\u0161\u0161\xed prioritu ne\u017e ostatn\xed z\xe1kladn\xed pravidla (",(0,i.kt)("strong",{parentName:"li"},"v\u010detn\u011b")," pravidel v\xfdjimek). Pokud tedy po\u017eadavek odpov\xedd\xe1 dv\u011bma r\u016fzn\xfdm pravidl\u016fm, z nich\u017e jedno m\xe1 modifik\xe1tor ",(0,i.kt)("inlineCode",{parentName:"li"},"$replace"),", pou\u017eije se toto pravidlo."),(0,i.kt)("li",{parentName:"ul"},"Pravidla v\xfdjimek na \xfarovni dokumentu s modifik\xe1tory ",(0,i.kt)("inlineCode",{parentName:"li"},"$content")," nebo ",(0,i.kt)("inlineCode",{parentName:"li"},"$document")," zak\xe1\u017e\xed pravidla ",(0,i.kt)("inlineCode",{parentName:"li"},"$replace")," pro po\u017eadavky, kter\xe9 jim odpov\xeddaj\xed."),(0,i.kt)("li",{parentName:"ul"},"Ostatn\xed pravidla v\xfdjimek na \xfarovni dokumentu (",(0,i.kt)("inlineCode",{parentName:"li"},"$generichide"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"$elemhide")," nebo modifik\xe1tory ",(0,i.kt)("inlineCode",{parentName:"li"},"$jsinject"),") se uplat\u0148uj\xed vedle pravidel ",(0,i.kt)("inlineCode",{parentName:"li"},"$replace"),". To znamen\xe1, \u017ee m\u016f\u017eete upravit obsah str\xe1nky pomoc\xed pravidla ",(0,i.kt)("inlineCode",{parentName:"li"},"$replace")," a z\xe1rove\u0148 zde zak\xe1zat kosmetick\xe1 pravidla.")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"$replace")," value can be empty in the case of exception rules. See examples section for further information."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Multiple rules matching a single request")),(0,i.kt)("p",null,"In case if multiple ",(0,i.kt)("inlineCode",{parentName:"p"},"$replace")," rules match a single request, we will apply each of them. ",(0,i.kt)("strong",{parentName:"p"},"The order is defined alphabetically.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Syntax")),(0,i.kt)("p",null,"In general, ",(0,i.kt)("inlineCode",{parentName:"p"},"$replace")," syntax is similar to replacement with regular expressions ",(0,i.kt)("a",{parentName:"p",href:"http://perldoc.perl.org/perlrequick.html#Search-and-replace"},"in Perl"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},'replace = "/" regexp "/" replacement "/" modifiers\n')),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"regexp"))," \u2014 regul\xe1rn\xed v\xfdraz."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"replacement"))," \u2014 \u0159et\u011bzec, kter\xfd bude pou\u017eit k nahrazen\xed \u0159et\u011bzce odpov\xeddaj\xedc\xedho ",(0,i.kt)("inlineCode",{parentName:"li"},"regexp"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"modifiers"))," \u2014 p\u0159\xedznaky regul\xe1rn\xedho v\xfdrazu. Nap\u0159\xedklad ",(0,i.kt)("inlineCode",{parentName:"li"},"i")," \u2014 necitliv\xe9 vyhled\xe1v\xe1n\xed nebo ",(0,i.kt)("inlineCode",{parentName:"li"},"s")," \u2014 jedno\u0159\xe1dkov\xfd re\u017eim.")),(0,i.kt)("p",null,"In the ",(0,i.kt)("inlineCode",{parentName:"p"},"$replace")," value, two characters must be escaped: comma ",(0,i.kt)("inlineCode",{parentName:"p"},",")," and dollar sign ",(0,i.kt)("inlineCode",{parentName:"p"},"$"),". Use backslash ",(0,i.kt)("inlineCode",{parentName:"p"},"\\")," for it. For example, an escaped comma looks like this: ",(0,i.kt)("inlineCode",{parentName:"p"},"\\,"),"."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"||example.org^$replace=/(<VAST[\\s\\S]*?>)[\\s\\S]*<\\/VAST>/\\$1<\\/VAST>/i\n")),(0,i.kt)("p",null,"There are three parts in this rule:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"regexp")," \u2014 ",(0,i.kt)("inlineCode",{parentName:"li"},"(<VAST(.|\\s)*?>)(.|\\s)*<\\/VAST>"),";"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"replacement")," \u2014 ",(0,i.kt)("inlineCode",{parentName:"li"},"\\$1<\\/VAST>")," kde ",(0,i.kt)("inlineCode",{parentName:"li"},"$")," je uvozeno;"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"modifik\xe1tory")," \u2014 ",(0,i.kt)("inlineCode",{parentName:"li"},"i")," pro necitliv\xe9 vyhled\xe1v\xe1n\xed.")),(0,i.kt)("p",null,"You can see how this rule works here: ",(0,i.kt)("a",{parentName:"p",href:"http://regexr.com/3cesk"},"http://regexr.com/3cesk")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Multiple ",(0,i.kt)("inlineCode",{parentName:"strong"},"$replace")," rules")),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^$replace=/X/Y/")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^$replace=/Z/Y/")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.org/page/*$replace=/Z/Y/"))),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Jak pravidlo 1, tak pravidlo 2 se pou\u017eij\xed na v\u0161echny po\u017eadavky odeslan\xe9 na ",(0,i.kt)("inlineCode",{parentName:"li"},"example.org"),"."),(0,i.kt)("li",{parentName:"ul"},"Pravidlo 2 je zak\xe1z\xe1no pro po\u017eadavky odpov\xeddaj\xedc\xed na ",(0,i.kt)("inlineCode",{parentName:"li"},"||example.org/page/"),", ",(0,i.kt)("strong",{parentName:"li"},"ale pravidlo 1 st\xe1le funguje!"))),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Disabling ",(0,i.kt)("inlineCode",{parentName:"strong"},"$replace")," rules")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.org^$replace")," zak\xe1\u017ee v\u0161echna pravidla ",(0,i.kt)("inlineCode",{parentName:"li"},"$replace")," odpov\xeddaj\xedc\xed na ",(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.org^$document")," nebo ",(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.org^$content")," zak\xe1\u017ee v\u0161echna pravidla ",(0,i.kt)("inlineCode",{parentName:"li"},"$replace")," ",(0,i.kt)("strong",{parentName:"li"},"poch\xe1zej\xedc\xed ze")," str\xe1nek ",(0,i.kt)("inlineCode",{parentName:"li"},"example.org")," ",(0,i.kt)("strong",{parentName:"li"},"v\u010detn\u011b str\xe1nky samotn\xe9"),".")),(0,i.kt)("admonition",{title:"Omezen\xed",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"Rules with ",(0,i.kt)("inlineCode",{parentName:"p"},"$replace")," modifier can be used ",(0,i.kt)("a",{parentName:"p",href:"#trusted-filters"},(0,i.kt)("strong",{parentName:"a"},"only in trusted filters")),".")),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Rules with ",(0,i.kt)("inlineCode",{parentName:"p"},"$replace")," modifier are supported by AdGuard for Windows, Mac, and Android and AdGuard Browser Extension for Firefox. Such rules do not work in extensions for other browsers because they are unable to modify content on the network level.")),(0,i.kt)("h4",{id:"urltransform-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"urltransform"))),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"$urltransform")," rules allow you to modify the request URL by replacing the text matched by the regular expression."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Features")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"$urltransform")," pravidla plat\xed pro jak\xfdkoli text URL po\u017eadavku."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"$urltransform")," pravidla mohou tak\xe9 ",(0,i.kt)("strong",{parentName:"li"},"upravit \u010d\xe1st dotazu")," URL."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"$urltransform")," nebude pou\u017eito, pokud je p\u016fvodn\xed URL blokov\xe1na jin\xfdmi pravidly."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"$urltransform")," se pou\u017eije p\u0159ed pravidly ",(0,i.kt)("inlineCode",{parentName:"li"},"$removeparam"),".")),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"$urltransform")," value can be empty for exception rules."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Multiple rules matching a single request")),(0,i.kt)("p",null,"If multiple ",(0,i.kt)("inlineCode",{parentName:"p"},"$urltransform")," rules match a single request, we will apply each of them. ",(0,i.kt)("strong",{parentName:"p"},"The order is defined alphabetically.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Syntax")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"$urltransform")," syntax is similar to replacement with regular expressions ",(0,i.kt)("a",{parentName:"p",href:"http://perldoc.perl.org/perlrequick.html#Search-and-replace"},"in Perl"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},'urltransform = "/" regexp "/" replacement "/" modifiers\n')),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"regexp"))," \u2014 regul\xe1rn\xed v\xfdraz."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"replacement"))," \u2014 \u0159et\u011bzec, kter\xfd bude pou\u017eit k nahrazen\xed \u0159et\u011bzce odpov\xeddaj\xedc\xedho ",(0,i.kt)("inlineCode",{parentName:"li"},"regexp"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"modifiers"))," \u2014 p\u0159\xedznaky regul\xe1rn\xedho v\xfdrazu. Nap\u0159\xedklad ",(0,i.kt)("inlineCode",{parentName:"li"},"i")," \u2014 necitliv\xe9 vyhled\xe1v\xe1n\xed nebo ",(0,i.kt)("inlineCode",{parentName:"li"},"s")," \u2014 jedno\u0159\xe1dkov\xfd re\u017eim.")),(0,i.kt)("p",null,"In the ",(0,i.kt)("inlineCode",{parentName:"p"},"$urltransform")," value, two characters must be escaped: the comma ",(0,i.kt)("inlineCode",{parentName:"p"},",")," and the dollar sign ",(0,i.kt)("inlineCode",{parentName:"p"},"$"),". Use the backslash character ",(0,i.kt)("inlineCode",{parentName:"p"},"\\")," for this. For example, an escaped comma looks like this: ",(0,i.kt)("inlineCode",{parentName:"p"},"\\,"),"."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"||example.org^$urltransform=/(pref\\/).*\\/(suf)/\\$1\\$2/i\n")),(0,i.kt)("p",null,"There are three parts in this rule:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"regexp")," \u2014 ",(0,i.kt)("inlineCode",{parentName:"li"},"(pref\\/).*\\/(suf)"),";"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"replacement")," \u2014 ",(0,i.kt)("inlineCode",{parentName:"li"},"\\$1\\$2")," kde ",(0,i.kt)("inlineCode",{parentName:"li"},"$")," je uvozeno;"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"modifik\xe1tory")," \u2014 ",(0,i.kt)("inlineCode",{parentName:"li"},"i")," pro necitliv\xe9 vyhled\xe1v\xe1n\xed.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Multiple ",(0,i.kt)("inlineCode",{parentName:"strong"},"$urltransform")," rules")),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^$urltransform=/X/Y/")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^$urltransform=/Z/Y/")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.org/page/*$urltransform=/Z/Y/"))),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Jak pravidlo 1, tak pravidlo 2 se pou\u017eij\xed na v\u0161echny po\u017eadavky odeslan\xe9 na ",(0,i.kt)("inlineCode",{parentName:"li"},"example.org"),"."),(0,i.kt)("li",{parentName:"ul"},"Pravidlo 2 je zak\xe1z\xe1no pro po\u017eadavky odpov\xeddaj\xedc\xed na ",(0,i.kt)("inlineCode",{parentName:"li"},"||example.org/page/"),", ",(0,i.kt)("strong",{parentName:"li"},"ale pravidlo 1 st\xe1le funguje!"))),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Re-matching rules after transforming the URL")),(0,i.kt)("p",null,"If the ",(0,i.kt)("inlineCode",{parentName:"p"},"$urltransform")," rule is applied to a request, all the rules will be re-evaluated against the new URL."),(0,i.kt)("p",null,"E.g., with the following rules:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"||example.com^$urltransform=/firstpath/secondpath/\n||example.com/secondpath^\n")),(0,i.kt)("p",null,"the request to ",(0,i.kt)("inlineCode",{parentName:"p"},"https://example.com/firstpath")," will be blocked before it is sent."),(0,i.kt)("p",null,"However, ",(0,i.kt)("inlineCode",{parentName:"p"},"$urltransform")," rules will ",(0,i.kt)("strong",{parentName:"p"},"not be re-applied")," in this case to avoid infinite recursion, e.g., with the following rules:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"||example.com/firstpath^$urltransform=/firstpath/secondpath/\n||example.com/secondpath^$urltransform=/secondpath/firstpath/\n")),(0,i.kt)("p",null,"the request to ",(0,i.kt)("inlineCode",{parentName:"p"},"https://example.com/fisrtpath")," will be transformed to ",(0,i.kt)("inlineCode",{parentName:"p"},"https://example.com/secondpath")," and the second rule will not be applied."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Disabling ",(0,i.kt)("inlineCode",{parentName:"strong"},"$urltransform")," rules")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.org^$urltransform")," zak\xe1\u017ee v\u0161echna pravidla ",(0,i.kt)("inlineCode",{parentName:"li"},"$urltransform")," odpov\xeddaj\xedc\xed na ",(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@@||example.org^$urltransform=/Z/Y/")," zak\xe1\u017ee pravidlo s ",(0,i.kt)("inlineCode",{parentName:"li"},"$urltransform=/Z/Y/")," pro jak\xfdkoliv po\u017eadavek, kter\xfd odpov\xedd\xe1 ",(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^"),".")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"$urltransform")," rules can also be disabled by ",(0,i.kt)("inlineCode",{parentName:"p"},"$document")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"$urlblock")," exception rules. But basic exception rules without modifiers do not do that. For example, ",(0,i.kt)("inlineCode",{parentName:"p"},"@@||example.com^")," will not disable ",(0,i.kt)("inlineCode",{parentName:"p"},"$urltransform=/X/Y/")," for requests to ",(0,i.kt)("strong",{parentName:"p"},"example.com"),", but ",(0,i.kt)("inlineCode",{parentName:"p"},"@@||example.com^$urlblock")," will."),(0,i.kt)("admonition",{title:"Omezen\xed",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"Rules with the ",(0,i.kt)("inlineCode",{parentName:"p"},"$urltransform")," modifier can be used ",(0,i.kt)("a",{parentName:"p",href:"#trusted-filters"},(0,i.kt)("strong",{parentName:"a"},"only in trusted filters")),".")),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Rules with the ",(0,i.kt)("inlineCode",{parentName:"p"},"$urltransform")," modifier are supported by AdGuard for Windows, AdGuard for Mac, and AdGuard for Android with ",(0,i.kt)("a",{parentName:"p",href:"https://adguard.com/en/blog/introducing-corelibs.html"},"CoreLibs")," v1.15 or later.")),(0,i.kt)("h4",{id:"noop-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"noop"))),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"noop")," modifier does nothing and can be used solely to increase rules' readability. It consists of a sequence of underscore characters (",(0,i.kt)("inlineCode",{parentName:"p"},"_"),") of any length and can appear in a rule as many times as needed."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"||example.com$_,removeparam=/^ss\\\\$/,_,image\n||example.com$replace=/bad/good/,___,~third-party\n")),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Rules with ",(0,i.kt)("inlineCode",{parentName:"p"},"noop")," modifier are not supported by AdGuard Content Blocker.")),(0,i.kt)("h4",{id:"empty-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$empty")," (zastaral\xe9)")),(0,i.kt)("admonition",{title:"Deprecation notice",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"This modifier is deprecated in favor of the ",(0,i.kt)("a",{parentName:"p",href:"#redirect-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$redirect")," modifier"),". Rules with ",(0,i.kt)("inlineCode",{parentName:"p"},"$empty")," are still supported and being converted into ",(0,i.kt)("inlineCode",{parentName:"p"},"$redirect=nooptext")," now but the support shall be removed in the future.")),(0,i.kt)("p",null,"Usually, blocked requests look like a server error to browser. If you use ",(0,i.kt)("inlineCode",{parentName:"p"},"$empty")," modifier, AdGuard will emulate a blank response from the server with",(0,i.kt)("inlineCode",{parentName:"p"},"200 OK")," status."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||example.org^$empty")," vr\xe1t\xed pr\xe1zdnou odpov\u011b\u010f na v\u0161echny po\u017eadavky na ",(0,i.kt)("inlineCode",{parentName:"li"},"example.org")," a v\u0161echny subdom\xe9ny.")),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Rules with ",(0,i.kt)("inlineCode",{parentName:"p"},"$empty")," modifier are not supported by AdGuard Content Blocker, AdGuard for iOS, and AdGuard for Safari.")),(0,i.kt)("h4",{id:"mp4-modifier"},(0,i.kt)("strong",{parentName:"h4"},(0,i.kt)("inlineCode",{parentName:"strong"},"$mp4")," (zastaral\xe9)")),(0,i.kt)("admonition",{title:"Deprecation notice",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"This modifier is deprecated in favor of the ",(0,i.kt)("a",{parentName:"p",href:"#redirect-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$redirect")," modifier"),". Rules with ",(0,i.kt)("inlineCode",{parentName:"p"},"$mp4")," are still supported and being converted into ",(0,i.kt)("inlineCode",{parentName:"p"},"$redirect=noopmp4-1s,media")," now but the support shall be removed in the future.")),(0,i.kt)("p",null,"As a response to blocked request AdGuard returns a short video placeholder."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"||example.com/videa/$mp4")," zablokuje v\u0161echna stahov\xe1n\xed videa z ",(0,i.kt)("inlineCode",{parentName:"li"},"||example.com/videa/*")," a zm\u011bn\xed odpov\u011b\u010f na z\xe1stupn\xfd videoklip.")),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Rules with ",(0,i.kt)("inlineCode",{parentName:"p"},"$mp4")," modifier are not supported by AdGuard Content Blocker, AdGuard for iOS, and AdGuard for Safari.")),(0,i.kt)("h3",{id:"rule-priorities"},"Priority pravidel"),(0,i.kt)("p",null,"Each rule has its own priority, which is necessary when several rules match the request and the filtering engine needs to select one of them. Priority is measured by a positive integer."),(0,i.kt)("admonition",{title:"Collisions",type:"note"},(0,i.kt)("p",{parentName:"admonition"},"When two rules with the same priority match the same request, it depends on the filtering engine implementation which one will be selected.")),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"The concept of rule priorities becomes increasingly important in light of Manifest V3 as the existing rules need to be converted to declarativeNetRequest rules.")),(0,i.kt)("h4",{id:"v\xfdpo\u010det-priority"},"V\xfdpo\u010det priority"),(0,i.kt)("p",null,"To calculate priority, we've categorized modifiers into different groups. These groups are ranked based on their priority, from lowest to highest. A modifier that significantly narrows the scope of a rule adds more weight to its total priority. Conversely, if a rule applies to a broader range of requests, its priority decreases."),(0,i.kt)("p",null,"It's worth noting that there are cases where a single-parameter modifier has a higher priority than multi-parameter ones. For instance, in the case of ",(0,i.kt)("inlineCode",{parentName:"p"},"$domain=example.com|example.org"),", a rule that includes two domains has a slightly broader effective area than a rule with one specified domain, therefore its priority is lower."),(0,i.kt)("p",null,"The base priority of any rule is 1. If the calculated priority is a floating-point number, it will be ",(0,i.kt)("strong",{parentName:"p"},"rounded up")," to the smallest integer greater than or equal to the calculated priority."),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},"The concept of priority has been introduced in ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/AdguardTeam/tsurlfilter/tree/master/packages/tsurlfilter#tsurlfilter"},"TSUrlFilter")," v2.1.0 and ",(0,i.kt)("a",{parentName:"li",href:"https://adguard.com/en/blog/introducing-corelibs.html"},"CoreLibs")," v1.13. D\u0159\xedve nem\u011bl AdGuard \u017e\xe1dn\xfd speci\xe1ln\xed algoritmus pro v\xfdpo\u010det priorit a zpracov\xe1n\xed koliz\xed se mohlo li\u0161it v z\xe1vislosti na produktu a verzi AdGuardu."),(0,i.kt)("li",{parentName:"ul"},"Aplikace AdGuard pro iOS, Safari a Blok\xe1tor obsahu AdGuard se spol\xe9haj\xed na implementaci prohl\xed\u017ee\u010d\u016f a nemohou dodr\u017eovat zde uveden\xe1 pravidla."))),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Modifier aliases (",(0,i.kt)("inlineCode",{parentName:"p"},"1p"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"3p"),", etc.) are not included in these categories, however, they are utilized within the engine to compute the rule priority.")),(0,i.kt)("h4",{id:"priority-category-1"},"Z\xe1kladn\xed modifik\xe1tory, p\u0159\xedtomnost ka\u017ed\xe9ho z nich p\u0159id\xe1v\xe1 1 k priorit\u011b"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#app-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$app"))," s negovan\xfdmi aplikacemi pomoc\xed ",(0,i.kt)("inlineCode",{parentName:"li"},"~"),","),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#denyallow-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$denyallow")),","),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#domain-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$domain"))," s negovan\xfdmi dom\xe9nami pomoc\xed ",(0,i.kt)("inlineCode",{parentName:"li"},"~"),","),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#match-case-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$match-case")),","),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#method-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$method"))," s negovan\xfdmi metodami pomoc\xed ",(0,i.kt)("inlineCode",{parentName:"li"},"~"),","),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#third-party-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$third-party")),","),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#to-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$to")),","),(0,i.kt)("li",{parentName:"ul"},"omezen\xe9 ",(0,i.kt)("a",{parentName:"li",href:"#content-type-modifiers"},"typy obsahu")," s ",(0,i.kt)("inlineCode",{parentName:"li"},"~"),".")),(0,i.kt)("p",null,"When dealing with a negated domain, app, method, or content-type, we add ",(0,i.kt)("strong",{parentName:"p"},"1 point")," for the existence of the modifier itself, regardless of the quantity of negated domains or content-types. This is because the rule's scope is already infinitely broad. Put simply, by prohibiting multiple domains, content-types, methods or apps, the scope of the rule becomes only minimally smaller."),(0,i.kt)("h4",{id:"priority-category-2"},"Definovan\xe9 modifik\xe1tory typu obsahu, definovan\xe9 metody, definovan\xe1 z\xe1hlav\xed, $all, $popup, specifick\xe9 v\xfdjimky"),(0,i.kt)("p",null,"All allowed content types:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#document-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$document")),","),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#font-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$font")),","),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#image-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$image")),","),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#media-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$media")),","),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#object-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$object")),","),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#other-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$other")),","),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#ping-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$ping")),","),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#script-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$script")),","),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#stylesheet-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$stylesheet")),","),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#subdocument-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$subdocument")),","),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#websocket-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$websocket")),","),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#xmlhttprequest-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$xmlhttprequest")),";")),(0,i.kt)("p",null,"This also includes rules that implicitly add all content types:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#all-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$all")),";")),(0,i.kt)("p",null,"Or rules that implicitly add the modifier ",(0,i.kt)("inlineCode",{parentName:"p"},"$document"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#popup-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$popup")),";")),(0,i.kt)("p",null,"Or some specific exceptions that implicitly add ",(0,i.kt)("inlineCode",{parentName:"p"},"$document,subdocument"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#content-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$content")),","),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#elemhide-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$elemhide")),","),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#extension-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$extension")),","),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#genericblock-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$genericblock")),","),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#generichide-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$generichide")),","),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#jsinject-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$jsinject")),","),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#specifichide-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$specifichide")),","),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#urlblock-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$urlblock")),";")),(0,i.kt)("p",null,"Or allowed methods via ",(0,i.kt)("a",{parentName:"p",href:"#method-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$method")),"."),(0,i.kt)("p",null,"Or rules with ",(0,i.kt)("a",{parentName:"p",href:"#header-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$header")),"."),(0,i.kt)("p",null,"The presence of any content-type modifiers adds ",(0,i.kt)("inlineCode",{parentName:"p"},"(50 + 50 / N)"),", where ",(0,i.kt)("inlineCode",{parentName:"p"},"N")," is the number of modifiers present, for example: ",(0,i.kt)("inlineCode",{parentName:"p"},"||example.com^$image,script")," will add ",(0,i.kt)("inlineCode",{parentName:"p"},"50 + 50 / 2 = 50 + 25 = 75")," to the total weight of the rule."),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"$all")," also belongs to this category, because it implicitly adds all content type modifiers, e.g., ",(0,i.kt)("inlineCode",{parentName:"p"},"$document,subdocument,image,script,media,<etc>")," + ",(0,i.kt)("inlineCode",{parentName:"p"},"$popup"),"."),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"$popup")," also belongs to this category, because it implicitly adds the modifier ",(0,i.kt)("inlineCode",{parentName:"p"},"$document"),". Similarly, specific exceptions add ",(0,i.kt)("inlineCode",{parentName:"p"},"$document,subdocument"),"."),(0,i.kt)("p",null,"If there is a ",(0,i.kt)("inlineCode",{parentName:"p"},"$method")," modifier in the rule with allowed methods it adds ",(0,i.kt)("inlineCode",{parentName:"p"},"(50 + 50 / N)"),", where ",(0,i.kt)("inlineCode",{parentName:"p"},"N")," is the number of methods allowed, for example: ",(0,i.kt)("inlineCode",{parentName:"p"},"||example.com^$method=GET|POST|PUT")," will add ",(0,i.kt)("inlineCode",{parentName:"p"},"50 + 50 / 3 = 50 + 16.6 = 67")," to the total weight of the rule."),(0,i.kt)("p",null,"If there is a ",(0,i.kt)("inlineCode",{parentName:"p"},"$header")," modifier in the rule it adds ",(0,i.kt)("inlineCode",{parentName:"p"},"50"),"."),(0,i.kt)("h4",{id:"priority-category-3"},(0,i.kt)("inlineCode",{parentName:"h4"},"$domain")," nebo ",(0,i.kt)("inlineCode",{parentName:"h4"},"$app")," s povolen\xfdmi dom\xe9nami nebo aplikacemi"),(0,i.kt)("p",null,"Specified domains through ",(0,i.kt)("inlineCode",{parentName:"p"},"$domain")," or specified applications through ",(0,i.kt)("inlineCode",{parentName:"p"},"$app")," add ",(0,i.kt)("inlineCode",{parentName:"p"},"100 + 100 / N"),", where ",(0,i.kt)("inlineCode",{parentName:"p"},"N")," is the number of modifier values for example: ",(0,i.kt)("inlineCode",{parentName:"p"},"||example.com^$domain=example.com|example.org|example.net")," will add ",(0,i.kt)("inlineCode",{parentName:"p"},"100 + 100 / 3 = 134.3 = 135")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"||example.com^$app=org.example.app1|org.example.app2")," will add ",(0,i.kt)("inlineCode",{parentName:"p"},"100 + 100 / 2 = 151")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"||example.com^$domain=example.com,app=org.example.app1|org.example.app2")," will add ",(0,i.kt)("inlineCode",{parentName:"p"},"100 + 100/1")," ($domain part) and ",(0,i.kt)("inlineCode",{parentName:"p"},"100 + 100/2")," ($app part), totaling ",(0,i.kt)("inlineCode",{parentName:"p"},"350"),"."),(0,i.kt)("p",null,"Modifier values that are regexps or tld will be interpreted as normal entries of the form ",(0,i.kt)("inlineCode",{parentName:"p"},"example.com")," and counted one by one, for example: ",(0,i.kt)("inlineCode",{parentName:"p"},"||example.com^$domain=example.*")," will add ",(0,i.kt)("inlineCode",{parentName:"p"},"100 + 100 / 1 = 200")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"||example.com^$domain=example.*|adguard.*")," will add ",(0,i.kt)("inlineCode",{parentName:"p"},"100 + 100 / 2 = 150"),"."),(0,i.kt)("h4",{id:"priority-category-6"},"Pravidla ",(0,i.kt)("inlineCode",{parentName:"h4"},"$redirect")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#redirect-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$redirect")),","),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#redirect-rule-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$redirect-rule")),".")),(0,i.kt)("p",null,"Each of which adds ",(0,i.kt)("inlineCode",{parentName:"p"},"10^3")," to rule priority."),(0,i.kt)("h4",{id:"priority-category-4"},"Specifick\xe9 v\xfdjimky"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#content-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$content")),","),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#elemhide-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$elemhide")),","),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#extension-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$extension")),","),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#genericblock-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$genericblock")),","),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#generichide-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$generichide")),","),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#jsinject-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$jsinject")),","),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#specifichide-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$specifichide")),","),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#urlblock-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$urlblock")),";")),(0,i.kt)("p",null,"Each of which adds ",(0,i.kt)("inlineCode",{parentName:"p"},"10^4")," to the priority."),(0,i.kt)("p",null,"As well as exception with ",(0,i.kt)("a",{parentName:"p",href:"#document-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$document modifier")),": because it's an alias for ",(0,i.kt)("inlineCode",{parentName:"p"},"$elemhide,content,jsinject,urlblock,extension"),". It will add ",(0,i.kt)("inlineCode",{parentName:"p"},"10^4")," for each modifier from ",(0,i.kt)("a",{parentName:"p",href:"#priority-category-4"},"the top list"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"10^4 * 5")," in total."),(0,i.kt)("p",null,"In addition, each of these exceptions implicitly adds the two allowed content-type modifiers ",(0,i.kt)("inlineCode",{parentName:"p"},"$document,subdocument"),"."),(0,i.kt)("h4",{id:"priority-category-5"},"Pravidla seznamu povolen\xfdch"),(0,i.kt)("p",null,"Modifier ",(0,i.kt)("inlineCode",{parentName:"p"},"@@")," adds ",(0,i.kt)("inlineCode",{parentName:"p"},"10^5")," to rule priority."),(0,i.kt)("h4",{id:"priority-category-7"},"Pravidla ",(0,i.kt)("inlineCode",{parentName:"h4"},"$important")),(0,i.kt)("p",null,"Modifier ",(0,i.kt)("a",{parentName:"p",href:"#important-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$important"))," adds ",(0,i.kt)("inlineCode",{parentName:"p"},"10^6")," to rule priority."),(0,i.kt)("h4",{id:"priority-category-extra"},"Pravidla, pro kter\xe1 nen\xed stanovena v\xe1ha priority"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"#advanced-capabilities"},"Other modifiers"),", which are supposed to perform additional post- or pre-processing of requests, do not add anything to the rules priority."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"The ",(0,i.kt)("a",{parentName:"p",href:"#replace-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$replace"))," modifier takes precedence over all blocking rules of categories 1-3, as well as exception rules from categories 3-5, ",(0,i.kt)("strong",{parentName:"p"},"except")," ",(0,i.kt)("a",{parentName:"p",href:"#content-modifier"},(0,i.kt)("inlineCode",{parentName:"a"},"$content")),", because an exception with the ",(0,i.kt)("inlineCode",{parentName:"p"},"$content")," modifier overrides all ",(0,i.kt)("inlineCode",{parentName:"p"},"$replace")," rules.")),(0,i.kt)("h4",{id:"p\u0159\xedklady-1"},"P\u0159\xedklady"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"||example.com^")),(0,i.kt)("p",{parentName:"li"},"V\xe1ha pravidla bez modifik\xe1tor\u016f: ",(0,i.kt)("inlineCode",{parentName:"p"},"1"),".")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"||example.com^$match-case")),(0,i.kt)("p",{parentName:"li"},"V\xe1ha pravidla: z\xe1kladn\xed + v\xe1ha modifik\xe1toru z ",(0,i.kt)("a",{parentName:"p",href:"#priority-category-1"},"kategorie 1"),": ",(0,i.kt)("inlineCode",{parentName:"p"},"1 + 1 = 2"),".")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"||example.org^$removeparam=p")),(0,i.kt)("p",{parentName:"li"},"V\xe1ha pravidla: z\xe1kladn\xed v\xe1ha + 0, proto\u017ee $removeparam ",(0,i.kt)("a",{parentName:"p",href:"#priority-category-extra"},"nen\xed zahrnuto")," do v\xfdpo\u010dtu priority: ",(0,i.kt)("inlineCode",{parentName:"p"},"1 + 0 = 1"),".")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"||example.org^$document,redirect=nooptext")),(0,i.kt)("p",{parentName:"li"},"V\xe1ha pravidla: z\xe1kladn\xed + povolen\xfd typ obsahu, ",(0,i.kt)("a",{parentName:"p",href:"#priority-category-3"},"kategorie 3")," + $redirect z ",(0,i.kt)("a",{parentName:"p",href:"#priority-category-6"},"kategorie 6"),": ",(0,i.kt)("inlineCode",{parentName:"p"},"1 + (100 + 100 / 1) + 1000 = 1201"),".")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"@@||example.org^$removeparam=p,document")),(0,i.kt)("p",{parentName:"li"},"V\xe1ha pravidla: z\xe1kladn\xed v\xe1ha + pravidlo seznamu povolen\xfdch ",(0,i.kt)("a",{parentName:"p",href:"#priority-category-5"},"kategorie 5")," + 0, proto\u017ee $removeparam ",(0,i.kt)("a",{parentName:"p",href:"#priority-category-extra"},"nen\xed zapojeno")," do v\xfdpo\u010dtu priority + povolen\xfd typ obsahu ",(0,i.kt)("a",{parentName:"p",href:"#priority-category-2"},"kategorie 2"),": ",(0,i.kt)("inlineCode",{parentName:"p"},"1 + 10000 + 0 + (50 + 50 / 1) = 10101"),".")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"@@||example.com/ad/*$domain=example.org|example.net,important")),(0,i.kt)("p",{parentName:"li"},"V\xe1ha pravidla: z\xe1kladn\xed v\xe1ha + pravidlo seznamu povolen\xfdch ",(0,i.kt)("a",{parentName:"p",href:"#priority-category-5"},"kategorie 5")," + d\u016fle\u017eit\xe9 pravidlo ",(0,i.kt)("a",{parentName:"p",href:"#priority-category-7"},"kategorie 7")," + povolen\xe9 dom\xe9ny ",(0,i.kt)("a",{parentName:"p",href:"#priority-category-3"},"kategorie 3"),": ",(0,i.kt)("inlineCode",{parentName:"p"},"1 + 10000 + 1000000 + (100 + 100 / 2) = 1010152"),".")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"@@||example.org^$document")," bez dal\u0161\xedch modifik\xe1tor\u016f je aliasem pro ",(0,i.kt)("inlineCode",{parentName:"p"},"@@||example.com^$elemhide,content,jsinject,urlblock,extension")),(0,i.kt)("p",{parentName:"li"},"V\xe1ha pravidla: z\xe1kladn\xed v\xe1ha + specifick\xe9 v\xfdjimky, ",(0,i.kt)("a",{parentName:"p",href:"#priority-category-4"},"kategorie 4")," + dva povolen\xe9 typy obsahu (dokument a subdokument) ",(0,i.kt)("a",{parentName:"p",href:"#priority-category-2"},"kategorie 2"),": ",(0,i.kt)("inlineCode",{parentName:"p"},"1 + 10000 * 4 + (50 + 50 / 2) = 40076"),".")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"*$script,domain=a.com,denyallow=x.com|y.com")),(0,i.kt)("p",{parentName:"li"},"V\xe1ha pravidla: z\xe1kladn\xed v\xe1ha + povolen\xfd typ obsahu ",(0,i.kt)("a",{parentName:"p",href:"#priority-category-2"},"kategorie 2")," + povolen\xe1 dom\xe9na, ",(0,i.kt)("a",{parentName:"p",href:"#priority-category-3"},"kategorie 3")," + denyallow ",(0,i.kt)("a",{parentName:"p",href:"#priority-category-1"},"kategorie 1"),": ",(0,i.kt)("inlineCode",{parentName:"p"},"1 + (50 + 50/1) + (100 + 100 / 1) + 1 = 303"),".")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"||example.com^$all")," \u2014 alias na ",(0,i.kt)("inlineCode",{parentName:"p"},"||example.com^$document,subdocument,image,script,media,etc. + $popup")),(0,i.kt)("p",{parentName:"li"},"V\xe1ha pravidla: z\xe1kladn\xed v\xe1ha + vyskakovac\xed okno (",(0,i.kt)("a",{parentName:"p",href:"#priority-category-1"},"kategorie 1"),") + povolen\xe9 typy obsahu (",(0,i.kt)("a",{parentName:"p",href:"#priority-category-2"},"kategorie 2"),"): ",(0,i.kt)("inlineCode",{parentName:"p"},"1 + 1 + (50 + 50/12) = 55"),"."))),(0,i.kt)("h2",{id:"non-basic-rules"},"Ostatn\xed pravidla"),(0,i.kt)("p",null,"However, basic rules may not be enough to block ads. Sometimes you need to hide an element or change part of the HTML code of a web page without breaking anything. The rules described in this section are created specifically for this purpose."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Kategorie \\ Produkty"),(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("a",{parentName:"th",href:"#what-product",title:"AdGuard for Windows, Mac, Android"},"Aplikace CoreLibs")),(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("a",{parentName:"th",href:"#what-product",title:"AdGuard Browser Extension for Chrome and other Chromium-based browsers"},"AdGuard pro Chromium")),(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("a",{parentName:"th",href:"#what-product",title:"AdGuard Browser Extension for Firefox"},"AdGuard pro Firefox")),(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("a",{parentName:"th",href:"#what-product",title:"AdGuard for iOS and AdGuard Pro for iOS"},"AdGuard pro iOS")),(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("a",{parentName:"th",href:"#what-product",title:"AdGuard pro Safari"},"AdGuard pro Safari")),(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("a",{parentName:"th",href:"#what-product",title:"AdGuard Content Blocker for Samsung Internet and Yandex Browser on Android"},"Blok\xe1tor obsahu AdGuard")))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#cosmetic-elemhide-rules"},"Skryt\xed prvk\u016f")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#cosmetic-css-rules"},"Pravidla CSS")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#extended-css-selectors"},"Roz\u0161\xed\u0159en\xe9 CSS")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#html-filtering-rules"},"HTML filtrov\xe1n\xed")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#javascript-rules"},"JavaScript")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#scriptlets"},"Scriptlety")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")))),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},"\u2705 \u2014 pln\u011b podporov\xe1no"),(0,i.kt)("li",{parentName:"ul"},"\u274c \u2014 nepodporov\xe1no"))),(0,i.kt)("h2",{id:"cosmetic-rules"},"Kosmetick\xe1 pravidla"),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Work with non-basic rules requires the basic knowledge of HTML and CSS. So, if you want to learn how to make such rules, we recommend to get acquainted with ",(0,i.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Getting_started/What_is_CSS"},"this documentation"),".")),(0,i.kt)("h3",{id:"cosmetic-elemhide-rules"},"Pravidla pro skryt\xed prvk\u016f"),(0,i.kt)("p",null,"Element hiding rules are used to hide the elements of web pages. It is similar to applying ",(0,i.kt)("inlineCode",{parentName:"p"},"{ display: none; }")," style to selected element."),(0,i.kt)("p",null,"Element hiding rules may operate differently ",(0,i.kt)("a",{parentName:"p",href:"#cosmetic-rules-priority"},"depending on the platform"),"."),(0,i.kt)("h4",{id:"syntax"},"Syntax"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},'   rule = [domains] "##" selector\ndomains = [domain0, domain1[, ...[, domainN]]]\n')),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"selector"))," \u2014 ",(0,i.kt)("a",{parentName:"li",href:"https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Getting_Started/Selectors"},"CSS selektor")," definuje prvky, kter\xe9 maj\xed b\xfdt skryty."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"domains"))," \u2014 omezen\xed dom\xe9ny pro dan\xe9 pravidlo.")),(0,i.kt)("p",null,"If you want to limit the rule application area to certain domains, just enter them separated with commas. For example: ",(0,i.kt)("inlineCode",{parentName:"p"},"example.org,example.com##selector"),"."),(0,i.kt)("p",null,"This rule will be also applied to all subdomains of ",(0,i.kt)("inlineCode",{parentName:"p"},"example.org")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"example.com"),"."),(0,i.kt)("p",null,"Pokud chcete, aby se pravidlo nevztahovalo na ur\u010dit\xe9 dom\xe9ny, za\u010dn\u011bte n\xe1zev dom\xe9ny znakem ",(0,i.kt)("inlineCode",{parentName:"p"},"~"),". For example: ",(0,i.kt)("inlineCode",{parentName:"p"},"~example.org##selector"),"."),(0,i.kt)("p",null,"You can use both approaches in a single rule. For example, ",(0,i.kt)("inlineCode",{parentName:"p"},"example.org,~subdomain.example.org##domain")," will work for ",(0,i.kt)("inlineCode",{parentName:"p"},"example.org")," and all subdomains, ",(0,i.kt)("strong",{parentName:"p"},"except ",(0,i.kt)("inlineCode",{parentName:"strong"},"subdomain.example.org")),"."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Element hiding rules are not dependent on each other. If there is a rule ",(0,i.kt)("inlineCode",{parentName:"p"},"example.org##selector")," in the filter and you add ",(0,i.kt)("inlineCode",{parentName:"p"},"~example.org##selector")," both rules will be applied independently.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"example.com##div.textad")," \u2014 skryje ",(0,i.kt)("inlineCode",{parentName:"li"},"div")," s t\u0159\xeddou ",(0,i.kt)("inlineCode",{parentName:"li"},"textad")," na dom\xe9n\u011b ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com")," a v\u0161ech subdom\xe9n\xe1ch."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"example.com,example.org###adblock")," \u2014 skryje prvek s atributem ",(0,i.kt)("inlineCode",{parentName:"li"},"id"),", kter\xfd se rovn\xe1 ",(0,i.kt)("inlineCode",{parentName:"li"},"adblock")," na ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"example.org")," a v\u0161ech subdom\xe9n\xe1ch."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"~example.com##.textad")," \u2014 skryje prvek s t\u0159\xeddou ",(0,i.kt)("inlineCode",{parentName:"li"},"textad")," na v\u0161ech dom\xe9n\xe1ch krom\u011b ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com")," a jej\xedch subdom\xe9n.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Omezen\xed")),(0,i.kt)("p",null,"Safari does not support both permitted and restricted domains. So the rules like ",(0,i.kt)("inlineCode",{parentName:"p"},"example.org,~foo.example.org##.textad")," are invalid in AdGuard for Safari."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"V\xfdjimky")),(0,i.kt)("p",null,"Exceptions can disable some rules on particular domains. They are very similar to usual exception rules, but instead of ",(0,i.kt)("inlineCode",{parentName:"p"},"##")," you have to use ",(0,i.kt)("inlineCode",{parentName:"p"},"#@#"),"."),(0,i.kt)("p",null,"For example, there is a rule in filter:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"##.textad\n")),(0,i.kt)("p",null,"If you want to disable it for ",(0,i.kt)("inlineCode",{parentName:"p"},"example.com"),", you can create an exception rule:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"example.com#@#.textad\n")),(0,i.kt)("p",null,"Sometimes, it may be necessary to disable all restriction rules. For example, to conduct tests. To do this, use the exclusion rule without specifying a domain. It will completely disable matching CSS elemhide rule on ALL domains:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"#@#.textad\n")),(0,i.kt)("p",null,"The same can be achieved by adding this rule:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"*#@#.textad\n")),(0,i.kt)("p",null,"We recommend to use this kind of exceptions only if it is not possible to change the hiding rule itself. In other cases it is better to change the original rule, using domain restrictions."),(0,i.kt)("h3",{id:"cosmetic-css-rules"},"Pravidla CSS"),(0,i.kt)("p",null,"Sometimes, simple hiding of an element is not enough to deal with advertising. For example, blocking an advertising element can just break the page layout. In this case AdGuard can use rules that are much more flexible than hiding rules. With these rules you can basically add any CSS styles to the page."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Syntax")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},'   rule = [domains] "#$#" selector "{" style "}"\ndomains = [domain0, domain1[, ...[, domainN]]]\n')),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"selector"))," \u2014 ",(0,i.kt)("a",{parentName:"li",href:"https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Getting_Started/Selectors"},"selektor CSS"),", kter\xfd definuje prvky, na kter\xe9 chceme styl pou\u017e\xedt."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"domains"))," \u2014 omezen\xed dom\xe9ny pro dan\xe9 pravidlo. Stejn\xe9 z\xe1sady jako v ",(0,i.kt)("a",{parentName:"li",href:"#cosmetic-elemhide-rules"},"pravidlech pro skr\xfdv\xe1n\xed prvk\u016f"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"style"))," \u2014 styl CSS, kter\xfd chceme pou\u017e\xedt na vybran\xe9 prvky.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"example.com#$#body { background-color: #333!important; }\n")),(0,i.kt)("p",null,"This rule will apply a style ",(0,i.kt)("inlineCode",{parentName:"p"},"background-color: #333!important;")," to the ",(0,i.kt)("inlineCode",{parentName:"p"},"body")," element at ",(0,i.kt)("inlineCode",{parentName:"p"},"example.com")," and all subdomains."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"V\xfdjimky")),(0,i.kt)("p",null,"Just like with element hiding, there is a type of rules that disable the selected CSS style rule for particular domains. Exception rule syntax is almost the same, you just have to change ",(0,i.kt)("inlineCode",{parentName:"p"},"#$#")," to ",(0,i.kt)("inlineCode",{parentName:"p"},"#@$#"),"."),(0,i.kt)("p",null,"For example, there is a rule in filter:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"#$#.textad { visibility: hidden; }\n")),(0,i.kt)("p",null,"If you want to disable it for ",(0,i.kt)("inlineCode",{parentName:"p"},"example.com"),", you can create an exception rule:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"example.com#@$#.textad { visibility: hidden; }\n")),(0,i.kt)("p",null,"We recommend to use this kind of exceptions only if it is not possible to change the CSS rule itself. In other cases it is better to change the original rule, using domain restrictions."),(0,i.kt)("admonition",{title:"Omezen\xed",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"Styles that lead to loading any resource are forbidden. Basically, it means that you cannot use any ",(0,i.kt)("inlineCode",{parentName:"p"},"<url>")," type of value in the style.")),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"CSS rules are not supported by AdGuard Content Blocker."),(0,i.kt)("p",{parentName:"admonition"},"CSS rules may operate differently ",(0,i.kt)("a",{parentName:"p",href:"#cosmetic-rules-priority"},"depending on the platform"),".")),(0,i.kt)("h3",{id:"extended-css-selectors"},"Roz\u0161\xed\u0159en\xe9 CSS selektory"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#extended-css-limitations"},"Omezen\xed")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#extended-css-has"},"Pseudo-t\u0159\xedda ",(0,i.kt)("inlineCode",{parentName:"a"},":has()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#extended-css-contains"},"Pseudo-t\u0159\xedda ",(0,i.kt)("inlineCode",{parentName:"a"},":contains()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#extended-css-matches-css"},"Pseudo-t\u0159\xedda ",(0,i.kt)("inlineCode",{parentName:"a"},":matches-css()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#extended-css-matches-attr"},"Pseudo-t\u0159\xedda ",(0,i.kt)("inlineCode",{parentName:"a"},":matches-attr()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#extended-css-property"},"Pseudo-t\u0159\xedda ",(0,i.kt)("inlineCode",{parentName:"a"},":matches-property()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#extended-css-xpath"},"Pseudo-t\u0159\xedda ",(0,i.kt)("inlineCode",{parentName:"a"},":xpath()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#extended-css-nth-ancestor"},"Pseudo-t\u0159\xedda ",(0,i.kt)("inlineCode",{parentName:"a"},":nth-ancestor()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#extended-css-upward"},"Pseudo-t\u0159\xedda ",(0,i.kt)("inlineCode",{parentName:"a"},":upward()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#remove-pseudos"},"Pseudo-t\u0159\xedda ",(0,i.kt)("inlineCode",{parentName:"a"},":remove()")," a pseudo-vlastnost ",(0,i.kt)("inlineCode",{parentName:"a"},"remove"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#extended-css-is"},"Pseudo-t\u0159\xedda ",(0,i.kt)("inlineCode",{parentName:"a"},":is()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#extended-css-not"},"Pseudo-t\u0159\xedda ",(0,i.kt)("inlineCode",{parentName:"a"},":not()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#extended-css-if-not"},"Pseudo-t\u0159\xedda ",(0,i.kt)("inlineCode",{parentName:"a"},":if-not()")," (odstran\u011bno)"))),(0,i.kt)("p",null,"CSS 3.0 is not always enough to block ads. To solve this problem AdGuard extends CSS capabilities by adding support for the new pseudo-elements. We have developed a separate ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/AdguardTeam/ExtendedCss"},"open-source library")," for non-standard element selecting and applying CSS styles with extended properties."),(0,i.kt)("p",null,"The idea of extended capabilities is an opportunity to match DOM elements with selectors based on their own representation (style, text content, etc.) or relations with other elements. There is also an opportunity to apply styles with non-standard CSS properties."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Application area")),(0,i.kt)("p",null,"Extended selectors can be used in any cosmetic rule, whether they are ",(0,i.kt)("a",{parentName:"p",href:"#cosmetic-elemhide-rules"},"element hiding rules")," or ",(0,i.kt)("a",{parentName:"p",href:"#cosmetic-css-rules"},"CSS rules"),"."),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Rules with extended CSS selectors are not supported by AdGuard Content Blocker.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Syntax")),(0,i.kt)("p",null,"Regardless of the CSS pseudo-classes you are using in the rule, you can use special markers to force applying these rules by ExtendedCss. It is recommended to use these markers for all extended CSS cosmetic rules so that it was easier to find them."),(0,i.kt)("p",null,"The syntax for extended CSS rules:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"#?#")," \u2014 pro skryt\xed prvku, ",(0,i.kt)("inlineCode",{parentName:"li"},"#@?#")," \u2014 pro v\xfdjimky"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"#$?#")," \u2014 pro pravidlo CSS, ",(0,i.kt)("inlineCode",{parentName:"li"},"#@$?#")," \u2014 pro v\xfdjimky")),(0,i.kt)("p",null,"We ",(0,i.kt)("strong",{parentName:"p"},"strongly recommend")," using these markers any time when you use an extended CSS selector."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},'example.org#?#div:has(> a[target="_blank"][rel="nofollow"])')," \u2014 toto pravidlo blokuje v\u0161echny prvky ",(0,i.kt)("inlineCode",{parentName:"li"},"div")," obsahuj\xedc\xed pod\u0159\xedzen\xfd uzel, kter\xfd m\xe1 odkaz s atributy ",(0,i.kt)("inlineCode",{parentName:"li"},'[target="_blank"][rel="nofollow"]'),". Pravidlo plat\xed pouze pro ",(0,i.kt)("inlineCode",{parentName:"li"},"example.org")," a jej\xed subdom\xe9ny."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"example.com#$?#h3:contains(cookies) { display: none!important; }")," \u2014 toto pravidlo nastav\xed styl ",(0,i.kt)("inlineCode",{parentName:"li"},"display: none!important")," v\u0161em prvk\u016fm ",(0,i.kt)("inlineCode",{parentName:"li"},"h3"),", kter\xe9 obsahuj\xed slovo ",(0,i.kt)("inlineCode",{parentName:"li"},"cookies"),". Pravidlo plat\xed pouze pro ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com")," a v\u0161echny jej\xed subdom\xe9ny."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"example.net#?#.banner:matches-css(width: 360px)")," \u2014 toto pravidlo blokuje v\u0161echny prvky ",(0,i.kt)("inlineCode",{parentName:"li"},".banner")," s vlastnost\xed stylu ",(0,i.kt)("inlineCode",{parentName:"li"},"width: 360px"),". Pravidlo plat\xed pouze pro ",(0,i.kt)("inlineCode",{parentName:"li"},"example.net")," a jej\xed subdom\xe9ny."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"example.net#@?#.banner:matches-css(width: 360px)")," \u2014 toto pravidlo zak\xe1\u017ee p\u0159edchoz\xed pravidlo.")),(0,i.kt)("p",null,"You can apply standard CSS selectors using the ExtendedCss library by using the rule marker ",(0,i.kt)("inlineCode",{parentName:"p"},"#?#"),", e.g. ",(0,i.kt)("inlineCode",{parentName:"p"},"#?#div.banner"),"."),(0,i.kt)("p",null,"Learn more about ",(0,i.kt)("a",{parentName:"p",href:"#selectors-debugging-mode"},"how to debug extended selectors"),"."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Some pseudo-classes do not require selector before it. Still adding the ",(0,i.kt)("a",{parentName:"p",href:"https://www.w3.org/TR/selectors-4/#the-universal-selector"},"universal selector")," ",(0,i.kt)("inlineCode",{parentName:"p"},"*")," makes an extended selector easier to read, even though it has no effect on the matching behavior. So selector ",(0,i.kt)("inlineCode",{parentName:"p"},"#block :has(> .inner)")," works exactly like ",(0,i.kt)("inlineCode",{parentName:"p"},"#block *:has(> .inner)")," but second one is more obvious."),(0,i.kt)("p",{parentName:"admonition"},"Pseudo-class names are case-insensitive, e.g. ",(0,i.kt)("inlineCode",{parentName:"p"},":HAS()")," works as ",(0,i.kt)("inlineCode",{parentName:"p"},":has()"),". Still the lower-case names are used commonly.")),(0,i.kt)("h4",{id:"extended-css-limitations"},"Limitace ExtendedCss"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"CSS ",(0,i.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/CSS/Comments"},"koment\xe1\u0159e")," a ",(0,i.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/CSS/At-rule"},"at-rules")," nejsou podporov\xe1ny.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Konkr\xe9tn\xed pseudo-t\u0159\xedda m\u016f\u017ee m\xedt sv\xe1 vlastn\xed omezen\xed: ",(0,i.kt)("a",{parentName:"p",href:"#extended-css-has-limitations"},(0,i.kt)("inlineCode",{parentName:"a"},":has()")),", ",(0,i.kt)("a",{parentName:"p",href:"#extended-css-xpath-limitations"},(0,i.kt)("inlineCode",{parentName:"a"},":xpath()")),", ",(0,i.kt)("a",{parentName:"p",href:"#extended-css-nth-ancestor-limitations"},(0,i.kt)("inlineCode",{parentName:"a"},":nth-ancestor()")),", ",(0,i.kt)("a",{parentName:"p",href:"#extended-css-upward-limitations"},(0,i.kt)("inlineCode",{parentName:"a"},":upward()")),", ",(0,i.kt)("a",{parentName:"p",href:"#extended-css-is-limitations"},(0,i.kt)("inlineCode",{parentName:"a"},":is()")),", ",(0,i.kt)("a",{parentName:"p",href:"#extended-css-not-limitations"},(0,i.kt)("inlineCode",{parentName:"a"},":not()")),", and ",(0,i.kt)("a",{parentName:"p",href:"#extended-css-remove-limitations"},(0,i.kt)("inlineCode",{parentName:"a"},":remove()")),"."))),(0,i.kt)("h4",{id:"extended-css-has"},"Pseudo-t\u0159\xedda ",(0,i.kt)("inlineCode",{parentName:"h4"},":has()")),(0,i.kt)("p",null,"Draft CSS 4.0 specification describes the ",(0,i.kt)("a",{parentName:"p",href:"https://www.w3.org/TR/selectors-4/#relational"},(0,i.kt)("inlineCode",{parentName:"a"},":has()")," pseudo-class"),". Unfortunately, ",(0,i.kt)("a",{parentName:"p",href:"https://caniuse.com/css-has"},"it is not yet supported")," by all popular browsers."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Rules with the ",(0,i.kt)("inlineCode",{parentName:"p"},":has()")," pseudo-class must use the ",(0,i.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/CSS/:has"},"native implementation of ",(0,i.kt)("inlineCode",{parentName:"a"},":has()"))," if they use ",(0,i.kt)("inlineCode",{parentName:"p"},"##")," marker and if it is possible, i.e. with no other extended selectors inside. To force applying of ExtendedCss rules with ",(0,i.kt)("inlineCode",{parentName:"p"},":has()"),", use ",(0,i.kt)("inlineCode",{parentName:"p"},"#?#"),"/",(0,i.kt)("inlineCode",{parentName:"p"},"#$?#")," marker explicitly.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Compatibility with other pseudo-classes")),(0,i.kt)("p",null,"Synonyms ",(0,i.kt)("inlineCode",{parentName:"p"},":-abp-has()")," is supported by ExtendedCss for better compatibility."),(0,i.kt)("admonition",{title:"Upozorn\u011bn\xed na odstran\u011bn\xed",type:"danger"},(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("inlineCode",{parentName:"p"},":if()")," is no longer supported as a synonym for ",(0,i.kt)("inlineCode",{parentName:"p"},":has()"),".")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Syntax")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},"[target]:has(selector)\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"target")," \u2014 nepovinn\xfd, standardn\xed nebo roz\u0161\xed\u0159en\xfd selektor CSS m\u016f\u017ee b\xfdt p\u0159esko\u010den pro kontrolu ",(0,i.kt)("em",{parentName:"li"},"libovoln\xe9ho")," prvku"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"selector")," \u2014 povinn\xfd, standardn\xed nebo roz\u0161\xed\u0159en\xfd selektor CSS")),(0,i.kt)("p",null,"The pseudo-class ",(0,i.kt)("inlineCode",{parentName:"p"},":has()")," selects the ",(0,i.kt)("inlineCode",{parentName:"p"},"target")," elements that fit to the ",(0,i.kt)("inlineCode",{parentName:"p"},"selector"),". Also the ",(0,i.kt)("inlineCode",{parentName:"p"},"selector")," can start with a combinator."),(0,i.kt)("p",null,"A selector list can be set in ",(0,i.kt)("inlineCode",{parentName:"p"},"selector")," as well. In this case ",(0,i.kt)("strong",{parentName:"p"},"all")," selectors in the list are being matched for now. In the future it will be fixed for ",(0,i.kt)("a",{parentName:"p",href:"https://www.w3.org/TR/selectors-4/#typedef-forgiving-relative-selector-list"},(0,i.kt)("inlineCode",{parentName:"a"},"<forgiving-relative-selector-list>"))," as argument."),(0,i.kt)("h5",{id:"extended-css-has-limitations"},(0,i.kt)("inlineCode",{parentName:"h5"},":has()")," limitations"),(0,i.kt)("p",null,"Usage of the ",(0,i.kt)("inlineCode",{parentName:"p"},":has()")," pseudo-class is ",(0,i.kt)("a",{parentName:"p",href:"https://bugs.chromium.org/p/chromium/issues/detail?id=669058#c54"},"restricted for some cases (2, 3)"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"zakazuje ",(0,i.kt)("inlineCode",{parentName:"li"},":has()")," uvnit\u0159 pseudo akceptuj\xedc\xed pouze slo\u017een\xe9 selektory;"),(0,i.kt)("li",{parentName:"ul"},"zakazuje ",(0,i.kt)("inlineCode",{parentName:"li"},":has()")," po b\u011b\u017en\xfdch pseudoprvc\xedch.")),(0,i.kt)("p",null,"Native ",(0,i.kt)("inlineCode",{parentName:"p"},":has()")," pseudo-class does not allow ",(0,i.kt)("inlineCode",{parentName:"p"},":has()"),", ",(0,i.kt)("inlineCode",{parentName:"p"},":is()"),", ",(0,i.kt)("inlineCode",{parentName:"p"},":where()")," inside ",(0,i.kt)("inlineCode",{parentName:"p"},":has()")," argument to avoid increasing the ",(0,i.kt)("inlineCode",{parentName:"p"},":has()")," invalidation complexity (",(0,i.kt)("a",{parentName:"p",href:"https://bugs.chromium.org/p/chromium/issues/detail?id=669058#c54"},"case 1"),"). But ExtendedCss did not have such limitation earlier and filter lists already contain such rules, so we have not added this limitation to ExtendedCss and allow to use ",(0,i.kt)("inlineCode",{parentName:"p"},":has()")," inside ",(0,i.kt)("inlineCode",{parentName:"p"},":has()")," as it was possible before. To use it, just force ExtendedCss usage by setting ",(0,i.kt)("inlineCode",{parentName:"p"},"#?#"),"/",(0,i.kt)("inlineCode",{parentName:"p"},"#$?#")," rule marker."),(0,i.kt)("p",null,"Native implementation does not allow any usage of ",(0,i.kt)("inlineCode",{parentName:"p"},":scope")," inside the ",(0,i.kt)("inlineCode",{parentName:"p"},":has()")," argument (",(0,i.kt)("a",{parentName:"p",href:"https://github.com/w3c/csswg-drafts/issues/7211"},"[1]"),", ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/w3c/csswg-drafts/issues/6399"},"[2]"),"). Still, there are some such rules in filter lists: ",(0,i.kt)("inlineCode",{parentName:"p"},"div:has(:scope a)")," which we continue to support by simply converting them to ",(0,i.kt)("inlineCode",{parentName:"p"},"div:has(> a)"),", as it used to be done previously."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"div:has(.banner)")," selects all ",(0,i.kt)("inlineCode",{parentName:"p"},"div")," elements which ",(0,i.kt)("strong",{parentName:"p"},"include")," an element with the ",(0,i.kt)("inlineCode",{parentName:"p"},"banner")," class:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},'\x3c!-- HTML code --\x3e\n<div>Not selected</div>\n<div>Selected\n  <span class="banner">inner element</span>\n</div>\n')),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"div:has(> .banner)")," selects all ",(0,i.kt)("inlineCode",{parentName:"p"},"div")," elements which ",(0,i.kt)("strong",{parentName:"p"},"include")," an ",(0,i.kt)("inlineCode",{parentName:"p"},"banner")," class element as a ",(0,i.kt)("em",{parentName:"p"},"direct child")," of ",(0,i.kt)("inlineCode",{parentName:"p"},"div"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},'\x3c!-- HTML code --\x3e\n<div>Not selected</div>\n<div>Selected\n  <p class="banner">child element</p>\n</div>\n')),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"div:has(+ .banner)")," selects all ",(0,i.kt)("inlineCode",{parentName:"p"},"div")," elements ",(0,i.kt)("strong",{parentName:"p"},"preceding")," ",(0,i.kt)("inlineCode",{parentName:"p"},"banner")," class element which ",(0,i.kt)("em",{parentName:"p"},"immediately follows")," the ",(0,i.kt)("inlineCode",{parentName:"p"},"div")," and both are children of the same parent:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},'\x3c!-- HTML code --\x3e\n<div>Not selected</div>\n<div>Selected</div>\n<p class="banner">adjacent sibling</p>\n<span>Not selected</span>\n')),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"div:has(~ .banner)")," selects all ",(0,i.kt)("inlineCode",{parentName:"p"},"div")," elements ",(0,i.kt)("strong",{parentName:"p"},"preceding")," ",(0,i.kt)("inlineCode",{parentName:"p"},"banner")," class element which ",(0,i.kt)("em",{parentName:"p"},"follows")," the ",(0,i.kt)("inlineCode",{parentName:"p"},"div")," but ",(0,i.kt)("em",{parentName:"p"},"not necessarily immediately")," and both are children of the same parent:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},'\x3c!-- HTML code --\x3e\n<div>Not selected</div>\n<div>Selected</div>\n<span>Not selected</span>\n<p class="banner">general sibling</p>\n')),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"div:has(span, .banner)")," selects all ",(0,i.kt)("inlineCode",{parentName:"p"},"div")," elements which ",(0,i.kt)("strong",{parentName:"p"},"include both")," ",(0,i.kt)("inlineCode",{parentName:"p"},"span")," element and ",(0,i.kt)("inlineCode",{parentName:"p"},"banner")," class element:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},'\x3c!-- HTML code --\x3e\n<div>Not selected</div>\n<div>Selected\n  <span>child span</span>\n  <p class="banner">child .banner</p>\n</div>\n')),(0,i.kt)("admonition",{title:"Old syntax",type:"danger"},(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("a",{parentName:"p",href:"https://github.com/AdguardTeam/ExtendedCss#old-syntax-has"},"Backward compatible syntax for ",(0,i.kt)("inlineCode",{parentName:"a"},":has()"))," is supported but ",(0,i.kt)("strong",{parentName:"p"},"not recommended"),".")),(0,i.kt)("h4",{id:"extended-css-contains"},"Pseudo-t\u0159\xedda ",(0,i.kt)("inlineCode",{parentName:"h4"},":contains()")),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},":contains()")," pseudo-class principle is very simple: it allows to select the elements that contain specified text or which content matches a specified regular expression. Regexp flags are supported."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"The ",(0,i.kt)("inlineCode",{parentName:"p"},":contains()")," pseudo-class uses the ",(0,i.kt)("inlineCode",{parentName:"p"},"textContent")," element property for matching, not the ",(0,i.kt)("inlineCode",{parentName:"p"},"innerHTML"),".")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Compatibility with other pseudo-classes")),(0,i.kt)("p",null,"Synonyms ",(0,i.kt)("inlineCode",{parentName:"p"},":-abp-contains()")," and ",(0,i.kt)("inlineCode",{parentName:"p"},":has-text()")," are supported for better compatibility."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Syntax")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},"[target]:contains(match)\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"target")," \u2014 nepovinn\xfd, standardn\xed nebo roz\u0161\xed\u0159en\xfd selektor CSS m\u016f\u017ee b\xfdt p\u0159esko\u010den pro kontrolu ",(0,i.kt)("em",{parentName:"li"},"libovoln\xe9ho")," prvku"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"shoda")," \u2014 povinn\xfd, \u0159et\u011bzec nebo regul\xe1rn\xed v\xfdraz pro shodu prvku ",(0,i.kt)("inlineCode",{parentName:"li"},"textContent"),". P\u0159\xedznaky regul\xe1rn\xedch v\xfdraz\u016f jsou podporov\xe1ny.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("p",null,"For such DOM:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},'\x3c!-- HTML code --\x3e\n<div>Not selected</div>\n<div id="match">Selected as IT contains "banner"</div>\n<div>Not selected <div class="banner"></div></div>\n')),(0,i.kt)("p",null,"the element ",(0,i.kt)("inlineCode",{parentName:"p"},"div#match")," can be selected by any of these extended selectors:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"! prost\xfd text\ndiv:contains(banner)\n\n! regul\xe1rn\xed v\xfdraz\ndiv:contains(/as .* banner/)\n\n! regul\xe1rn\xed v\xfdraz s p\u0159\xedznaky\ndiv:contains(/it .* banner/gi)\n")),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Only the ",(0,i.kt)("inlineCode",{parentName:"p"},"div")," with ",(0,i.kt)("inlineCode",{parentName:"p"},"id=match")," is selected because the next element does not contain any text, and ",(0,i.kt)("inlineCode",{parentName:"p"},"banner")," is a part of code, not a text.")),(0,i.kt)("admonition",{title:"Old syntax",type:"danger"},(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("a",{parentName:"p",href:"https://github.com/AdguardTeam/ExtendedCss#old-syntax-contains"},"Backward compatible syntax for ",(0,i.kt)("inlineCode",{parentName:"a"},":contains()"))," is supported but ",(0,i.kt)("strong",{parentName:"p"},"not recommended"),".")),(0,i.kt)("h4",{id:"extended-css-matches-css"},"Pseudo-t\u0159\xedda ",(0,i.kt)("inlineCode",{parentName:"h4"},":matches-css()")),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},":matches-css()")," pseudo-class allows to match the element by its current style properties. The work of the pseudo-class is based on using the ",(0,i.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/API/Window/getComputedStyle"},(0,i.kt)("inlineCode",{parentName:"a"},"Window.getComputedStyle()"))," method."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Syntax")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},"[target]:matches-css([pseudo-element, ] property: pattern)\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"target")," \u2014 nepovinn\xfd, standardn\xed nebo roz\u0161\xed\u0159en\xfd selektor CSS m\u016f\u017ee b\xfdt p\u0159esko\u010den pro kontrolu ",(0,i.kt)("em",{parentName:"li"},"libovoln\xe9ho")," prvku"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"pseudo-element")," \u2014 voliteln\xfd, platn\xfd standardn\xed pseudoprvek, nap\u0159. ",(0,i.kt)("inlineCode",{parentName:"li"},"before"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"after"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"first-line")," atd."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"property")," \u2014 povinn\xfd, n\xe1zev vlastnosti CSS, pro kterou se m\xe1 prvek zkontrolovat"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"pattern")," \u2014 required, a value pattern that is using the same simple wildcard matching as in the basic url filtering rules OR a regular expression. P\u0159i tomto typu porovn\xe1v\xe1n\xed, AdGuard v\u017edy porovn\xe1v\xe1 bez ohledu na velikost p\xedsmen. V p\u0159\xedpad\u011b regul\xe1rn\xedho v\xfdrazu vypad\xe1 vzor takto: ",(0,i.kt)("inlineCode",{parentName:"li"},"/regexp/"),".")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Special characters escaping and unescaping")),(0,i.kt)("p",null,"For ",(0,i.kt)("strong",{parentName:"p"},"non-regexp")," patterns ",(0,i.kt)("inlineCode",{parentName:"p"},"("),",",(0,i.kt)("inlineCode",{parentName:"p"},")"),",",(0,i.kt)("inlineCode",{parentName:"p"},"["),",",(0,i.kt)("inlineCode",{parentName:"p"},"]")," must be ",(0,i.kt)("strong",{parentName:"p"},"unescaped"),", e.g. ",(0,i.kt)("inlineCode",{parentName:"p"},":matches-css(background-image:url(data:*))"),"."),(0,i.kt)("p",null,"For ",(0,i.kt)("strong",{parentName:"p"},"regexp")," patterns ",(0,i.kt)("inlineCode",{parentName:"p"},"\\")," should be ",(0,i.kt)("strong",{parentName:"p"},"escaped"),", e.g. ",(0,i.kt)("inlineCode",{parentName:"p"},':matches-css(background-image: /^url\\\\("data:image\\\\/gif;base64.+/)'),"."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("p",null,"For such DOM:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},'\x3c!-- HTML code --\x3e\n<style type="text/css">\n    #matched::before {\n        content: "Block me"\n    }\n</style>\n<div id="matched"></div>\n<div id="not-matched"></div>\n')),(0,i.kt)("p",null,"the ",(0,i.kt)("inlineCode",{parentName:"p"},"div")," elements with pseudo-element ",(0,i.kt)("inlineCode",{parentName:"p"},"::before")," and with specified ",(0,i.kt)("inlineCode",{parentName:"p"},"content")," property can be selected by any of these extended selectors:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"! string pattern\ndiv:matches-css(before, content: block me)\n\n! string pattern with wildcard\ndiv:matches-css(before, content: block*)\n\n! regular expression pattern\ndiv:matches-css(before, content: /block me/)\n")),(0,i.kt)("admonition",{title:"Omezen\xed",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"Regexp patterns ",(0,i.kt)("strong",{parentName:"p"},"do not support")," flags.")),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Obsolete pseudo-classes ",(0,i.kt)("inlineCode",{parentName:"p"},":matches-css-before()")," and ",(0,i.kt)("inlineCode",{parentName:"p"},":matches-css-after()")," are no longer recommended but still are supported for better compatibility.")),(0,i.kt)("admonition",{title:"Old syntax",type:"danger"},(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("a",{parentName:"p",href:"https://github.com/AdguardTeam/ExtendedCss#old-syntax-matches-css"},"Backward compatible syntax for ",(0,i.kt)("inlineCode",{parentName:"a"},":matches-css()"))," is supported but ",(0,i.kt)("strong",{parentName:"p"},"not recommended"),".")),(0,i.kt)("h4",{id:"extended-css-matches-attr"},"Pseudo-t\u0159\xedda ",(0,i.kt)("inlineCode",{parentName:"h4"},":matches-attr()")),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},":matches-attr()")," pseudo-class allows selecting an element by its attributes, especially if they are randomized."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Syntax")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},'[target]:matches-attr("name"[="value"])\n')),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"target")," \u2014 nepovinn\xfd, standardn\xed nebo roz\u0161\xed\u0159en\xfd selektor CSS m\u016f\u017ee b\xfdt p\u0159esko\u010den pro kontrolu ",(0,i.kt)("em",{parentName:"li"},"libovoln\xe9ho")," prvku"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"name")," \u2014 povinn\xfd, jednoduch\xfd \u0159et\u011bzec ",(0,i.kt)("em",{parentName:"li"},"nebo")," \u0159et\u011bzec se z\xe1stupn\xfdm znakem ",(0,i.kt)("em",{parentName:"li"},"nebo")," regul\xe1rn\xed v\xfdraz pro shodu n\xe1zvu atributu"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"value")," \u2014 voliteln\xfd, jednoduch\xfd \u0159et\u011bzec ",(0,i.kt)("em",{parentName:"li"},"nebo")," \u0159et\u011bzec se z\xe1stupn\xfdm znakem ",(0,i.kt)("em",{parentName:"li"},"nebo")," regul\xe1rn\xed v\xfdraz pro shodu hodnoty atributu")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Escaping special characters")),(0,i.kt)("p",null,"For ",(0,i.kt)("strong",{parentName:"p"},"regexp")," patterns ",(0,i.kt)("inlineCode",{parentName:"p"},'"')," and ",(0,i.kt)("inlineCode",{parentName:"p"},"\\")," should be ",(0,i.kt)("strong",{parentName:"p"},"escaped"),", e.g. ",(0,i.kt)("inlineCode",{parentName:"p"},"div:matches-attr(class=/[\\\\w]{5}/)"),"."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},'div:matches-attr("ad-link")')," selects the element ",(0,i.kt)("inlineCode",{parentName:"p"},"div#target1"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},'\x3c!-- HTML code --\x3e\n<div id="target1" ad-link="1random23-banner_240x400"></div>\n')),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},'div:matches-attr("data-*"="adBanner")')," selects the element ",(0,i.kt)("inlineCode",{parentName:"p"},"div#target2"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},'\x3c!-- HTML code --\x3e\n<div id="target2" data-1random23="adBanner"></div>\n')),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"div:matches-attr(*unit*=/^click$/)")," selects the element ",(0,i.kt)("inlineCode",{parentName:"p"},"div#target3"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},'\x3c!-- HTML code --\x3e\n<div id="target3" random123-unit094="click"></div>\n')),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},'*:matches-attr("/.{5,}delay$/"="/^[0-9]*$/")')," selects the element ",(0,i.kt)("inlineCode",{parentName:"p"},"#target4"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},'\x3c!-- HTML code --\x3e\n<div>\n  <inner-random23 id="target4" nt4f5be90delay="1000"></inner-random23>\n</div>\n')),(0,i.kt)("admonition",{title:"Omezen\xed",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"Regexp patterns ",(0,i.kt)("strong",{parentName:"p"},"do not support")," flags.")),(0,i.kt)("h4",{id:"extended-css-property"},"Pseudo-t\u0159\xedda ",(0,i.kt)("inlineCode",{parentName:"h4"},":matches-property()")),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},":matches-property()")," pseudo-class allows selecting an element by matching its properties."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Syntax")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},'[target]:matches-property("name"[="value"])\n')),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"target")," \u2014 nepovinn\xfd, standardn\xed nebo roz\u0161\xed\u0159en\xfd selektor CSS m\u016f\u017ee b\xfdt p\u0159esko\u010den pro kontrolu ",(0,i.kt)("em",{parentName:"li"},"libovoln\xe9ho")," prvku"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"name")," \u2014 povinn\xfd, jednoduch\xfd \u0159et\u011bzec ",(0,i.kt)("em",{parentName:"li"},"nebo")," \u0159et\u011bzec se z\xe1stupn\xfdm znakem ",(0,i.kt)("em",{parentName:"li"},"nebo")," regul\xe1rn\xed v\xfdraz pro porovn\xe1v\xe1n\xed n\xe1zv\u016f vlastnost\xed prvk\u016f"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"value")," \u2014 voliteln\xfd, jednoduch\xfd \u0159et\u011bzec ",(0,i.kt)("em",{parentName:"li"},"nebo")," \u0159et\u011bzec se z\xe1stupn\xfdm znakem ",(0,i.kt)("em",{parentName:"li"},"nebo")," regul\xe1rn\xed v\xfdraz pro porovn\xe1v\xe1n\xed n\xe1zv\u016f vlastnost\xed prvk\u016f")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Escaping special characters")),(0,i.kt)("p",null,"For ",(0,i.kt)("strong",{parentName:"p"},"regexp")," patterns ",(0,i.kt)("inlineCode",{parentName:"p"},'"')," and ",(0,i.kt)("inlineCode",{parentName:"p"},"\\")," must be escaped, e.g. ",(0,i.kt)("inlineCode",{parentName:"p"},"div:matches-property(prop=/[\\\\w]{4}/)"),"."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Regexp patterns are supported in ",(0,i.kt)("inlineCode",{parentName:"p"},"name")," for any property in chain, e.g. ",(0,i.kt)("inlineCode",{parentName:"p"},"prop./^unit[\\\\d]{4}$/.type"),".")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("p",null,"An element with such properties:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"divProperties = {\n  id: 1,\n  check: {\n    track: true,\n    unit_2random1: true,\n  },\n  memoizedProps: {\n    key: null,\n    tag: 12,\n    _owner: {\n      effectTag: 1,\n      src: 'ad.com',\n    },\n  },\n};\n")),(0,i.kt)("p",null,"can be selected by any of these extended selectors:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},'div:matches-property(check.track)\n\ndiv:matches-property("check./^unit_.{4,8}$/")\n\ndiv:matches-property("check.unit_*"=true)\n\ndiv:matches-property(memoizedProps.key="null")\n\ndiv:matches-property(memoizedProps._owner.src=/ad/)\n')),(0,i.kt)("admonition",{title:"For filters maintainers",type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"To check properties of a specific element, do the following:"),(0,i.kt)("ol",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ol"},"Zkontrolujte prvek str\xe1nky nebo jej vyberte na kart\u011b ",(0,i.kt)("inlineCode",{parentName:"li"},"Elements")," v n\xe1stroji DevTools prohl\xed\u017ee\u010de"),(0,i.kt)("li",{parentName:"ol"},"Spus\u0165te ",(0,i.kt)("inlineCode",{parentName:"li"},"console.dir($0)")," na kart\u011b ",(0,i.kt)("inlineCode",{parentName:"li"},"Console")))),(0,i.kt)("admonition",{title:"Omezen\xed",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"Regexp patterns ",(0,i.kt)("strong",{parentName:"p"},"do not support")," flags.")),(0,i.kt)("h4",{id:"extended-css-xpath"},"Pseudo-t\u0159\xedda ",(0,i.kt)("inlineCode",{parentName:"h4"},":xpath()")),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},":xpath()")," pseudo-class allows selecting an element by evaluating an XPath expression."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Syntax")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},"[target]:xpath(expression)\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"target")," \u2014 voliteln\xfd, standardn\xed nebo roz\u0161\xed\u0159en\xfd selektor CSS"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"expression")," \u2014 povinn\xfd, platn\xfd v\xfdraz XPath")),(0,i.kt)("h5",{id:"extended-css-xpath-limitations"},(0,i.kt)("inlineCode",{parentName:"h5"},":xpath()")," limitations"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"target"),' can be omitted so it is optional. For any other pseudo-class that would mean "apply to ',(0,i.kt)("em",{parentName:"p"},"all"),' DOM nodes", but in case of ',(0,i.kt)("inlineCode",{parentName:"p"},":xpath()"),' it just means "apply to the ',(0,i.kt)("em",{parentName:"p"},"whole")," document\", and such applying slows elements selecting significantly. That's why rules like ",(0,i.kt)("inlineCode",{parentName:"p"},"#?#:xpath(expression)")," are limited to looking inside the ",(0,i.kt)("inlineCode",{parentName:"p"},"body")," tag. For example, rule ",(0,i.kt)("inlineCode",{parentName:"p"},"#?#:xpath(//div[@data-st-area=\\'Advert\\'])")," is parsed as ",(0,i.kt)("inlineCode",{parentName:"p"},"#?#body:xpath(//div[@data-st-area=\\'Advert\\'])"),"."),(0,i.kt)("p",null,"Extended selectors with defined ",(0,i.kt)("inlineCode",{parentName:"p"},"target")," as ",(0,i.kt)("em",{parentName:"p"},"any")," selector \u2014 ",(0,i.kt)("inlineCode",{parentName:"p"},"*:xpath(expression)")," \u2014 can still be used but it is not recommended, so ",(0,i.kt)("inlineCode",{parentName:"p"},"target")," should be specified instead."),(0,i.kt)("p",null,"Works properly only at the end of selector, except for ",(0,i.kt)("a",{parentName:"p",href:"#remove-pseudos"},"pseudo-class :remove()"),"."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},':xpath(//*[@class="banner"])')," selects the element ",(0,i.kt)("inlineCode",{parentName:"p"},"div#target1"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},'\x3c!-- HTML code --\x3e\n<div id="target1" class="banner"></div>\n')),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},':xpath(//*[@class="inner"]/..)')," selects the element ",(0,i.kt)("inlineCode",{parentName:"p"},"div#target2"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},'\x3c!-- HTML code --\x3e\n<div id="target2">\n  <div class="inner"></div>\n</div>\n')),(0,i.kt)("h4",{id:"extended-css-nth-ancestor"},"Pseudo-t\u0159\xedda ",(0,i.kt)("inlineCode",{parentName:"h4"},":nth-ancestor()")),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},":nth-ancestor()")," pseudo-class allows to lookup the ",(0,i.kt)("em",{parentName:"p"},"nth")," ancestor relative to the previously selected element."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},"subject:nth-ancestor(n)\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"subjectr")," \u2014 povinn\xfd, standardn\xed nebo roz\u0161\xed\u0159en\xfd selektor CSS"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"n")," \u2014 povinn\xe9, \u010d\xedslo >= 1 a < 256, vzd\xe1lenost k pot\u0159ebn\xe9mu p\u0159edkovi od prvku vybran\xe9ho pomoc\xed ",(0,i.kt)("inlineCode",{parentName:"li"},"subject"))),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Syntax")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},"subject:nth-ancestor(n)\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"subjectr")," \u2014 povinn\xfd, standardn\xed nebo roz\u0161\xed\u0159en\xfd selektor CSS"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"n")," \u2014 povinn\xe9, \u010d\xedslo >= 1 a < 256, vzd\xe1lenost k pot\u0159ebn\xe9mu p\u0159edkovi od prvku vybran\xe9ho pomoc\xed ",(0,i.kt)("inlineCode",{parentName:"li"},"subject"))),(0,i.kt)("h5",{id:"extended-css-nth-ancestor-limitations"},(0,i.kt)("inlineCode",{parentName:"h5"},":nth-ancestor()")," limitations"),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},":nth-ancestor()")," pseudo-class is not supported inside the argument of the ",(0,i.kt)("a",{parentName:"p",href:"#extended-css-not"},(0,i.kt)("inlineCode",{parentName:"a"},":not()")," pseudo-class"),"."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("p",null,"For such DOM:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},'\x3c!-- HTML code --\x3e\n<div id="target1">\n  <div class="child"></div>\n\n  <div id="target2">\n    <div>\n      <div>\n        <div class="inner"></div>\n      </div>\n    </div>\n  </div>\n</div>\n')),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},".child:nth-ancestor(1)")," selects the element ",(0,i.kt)("inlineCode",{parentName:"p"},"div#target1"),", ",(0,i.kt)("inlineCode",{parentName:"p"},'div[class="inner"]:nth-ancestor(3)')," selects the element ",(0,i.kt)("inlineCode",{parentName:"p"},"div#target2"),"."),(0,i.kt)("h4",{id:"extended-css-upward"},"Pseudo-t\u0159\xedda ",(0,i.kt)("inlineCode",{parentName:"h4"},":upward()")),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},":upward()")," pseudo-class allows to lookup the ancestor relative to the previously selected element."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Syntax")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},"subject:upward(ancestor)\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"subjectr")," \u2014 povinn\xfd, standardn\xed nebo roz\u0161\xed\u0159en\xfd selektor CSS"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"ancestor")," \u2014 povinn\xfd, specifikace pro p\u0159edka prvku vybran\xe9ho pomoc\xed ",(0,i.kt)("inlineCode",{parentName:"li"},"subject"),", lze nastavit jako:",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("em",{parentName:"li"},"\u010d\xedslo")," >= 1 a < 256 pro\xa0vzd\xe1lenost k po\u017eadovan\xe9mu p\u0159edkovi, stejn\u011b jako u polo\u017eky ",(0,i.kt)("a",{parentName:"li",href:"#extended-css-nth-ancestor"},(0,i.kt)("inlineCode",{parentName:"a"},":nth-ancestor()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("em",{parentName:"li"},"standardn\xed selektor CSS")," pro shodu nejbli\u017e\u0161\xedho p\u0159edka")))),(0,i.kt)("h5",{id:"extended-css-upward-limitations"},(0,i.kt)("inlineCode",{parentName:"h5"},":upward()")," limitations"),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},":upward()")," pseudo-class is not supported inside the argument of the ",(0,i.kt)("a",{parentName:"p",href:"#extended-css-not"},(0,i.kt)("inlineCode",{parentName:"a"},":not()")," pseudo-class"),"."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("p",null,"For such DOM:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},'\x3c!-- HTML code --\x3e\n<div id="target1" data="true">\n  <div class="child"></div>\n\n  <div id="target2">\n    <div>\n      <div>\n        <div class="inner"></div>\n      </div>\n    </div>\n  </div>\n</div>\n')),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},".inner:upward(div[data])")," selects the element ",(0,i.kt)("inlineCode",{parentName:"p"},"div#target1"),", ",(0,i.kt)("inlineCode",{parentName:"p"},".inner:upward(div[id])")," selects the element ",(0,i.kt)("inlineCode",{parentName:"p"},"div#target2"),", ",(0,i.kt)("inlineCode",{parentName:"p"},".child:upward(1)")," selects the element ",(0,i.kt)("inlineCode",{parentName:"p"},"div#target1"),", ",(0,i.kt)("inlineCode",{parentName:"p"},".inner:upward(3)")," selects the element ",(0,i.kt)("inlineCode",{parentName:"p"},"div#target2"),"."),(0,i.kt)("h4",{id:"remove-pseudos"},"Pseudo-t\u0159\xedda ",(0,i.kt)("inlineCode",{parentName:"h4"},":remove()")," a pseudo-vlastnost ",(0,i.kt)("inlineCode",{parentName:"h4"},"remove")),(0,i.kt)("p",null,"Sometimes, it is necessary to remove a matching element instead of hiding it or applying custom styles. In order to do it, you can use the ",(0,i.kt)("inlineCode",{parentName:"p"},":remove()")," pseudo-class as well as the ",(0,i.kt)("inlineCode",{parentName:"p"},"remove")," pseudo-property."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Pseudo-class ",(0,i.kt)("inlineCode",{parentName:"strong"},":remove()")," can be placed only at the end of a selector.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Syntax")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},"! pseudo-class\nselector:remove()\n\n! pseudo-property\nselector { remove: true; }\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"selector")," \u2014 povinn\xfd, standardn\xed nebo roz\u0161\xed\u0159en\xfd selektor CSS")),(0,i.kt)("h5",{id:"extended-css-remove-limitations"},(0,i.kt)("inlineCode",{parentName:"h5"},":remove()")," a ",(0,i.kt)("inlineCode",{parentName:"h5"},"remove")," limitations"),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},":remove()")," pseudo-class is limited to work properly only at the end of selector."),(0,i.kt)("p",null,"For applying the ",(0,i.kt)("inlineCode",{parentName:"p"},":remove()")," pseudo-class to any element, the ",(0,i.kt)("a",{parentName:"p",href:"https://www.w3.org/TR/selectors-4/#the-universal-selector"},"universal selector")," ",(0,i.kt)("inlineCode",{parentName:"p"},"*")," should be used. Otherwise such extended selector may be considered as invalid, e.g. ",(0,i.kt)("inlineCode",{parentName:"p"},".banner > :remove()")," is not valid for removing any child element of ",(0,i.kt)("inlineCode",{parentName:"p"},"banner")," class element, so it should look like ",(0,i.kt)("inlineCode",{parentName:"p"},".banner > *:remove()"),"."),(0,i.kt)("p",null,"If the ",(0,i.kt)("inlineCode",{parentName:"p"},":remove()")," pseudo-class or the ",(0,i.kt)("inlineCode",{parentName:"p"},"remove")," pseudo-property is used, all style properties are ignored except for the ",(0,i.kt)("a",{parentName:"p",href:"#selectors-debug-mode"},(0,i.kt)("inlineCode",{parentName:"a"},"debug")," pseudo-property"),"."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"div.banner:remove()\ndiv:has(> div[ad-attr]):remove()\n\ndiv:contains(advertisement) { remove: true; }\ndiv[class]:has(> a > img) { remove: true; }\n")),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Rules with the ",(0,i.kt)("inlineCode",{parentName:"p"},"remove")," pseudo-property must use ",(0,i.kt)("inlineCode",{parentName:"p"},"#$?#")," marker: ",(0,i.kt)("inlineCode",{parentName:"p"},"$")," for CSS-style rule syntax, ",(0,i.kt)("inlineCode",{parentName:"p"},"?")," for ExtendedCss syntax.")),(0,i.kt)("h4",{id:"extended-css-is"},"Pseudo-t\u0159\xedda ",(0,i.kt)("inlineCode",{parentName:"h4"},":is()")),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},":is()")," pseudo-class allows to match any element that can be selected by any of selectors passed to it. Invalid selectors are skipped and the pseudo-class deals with valid ones with no error thrown. Our implementation of the ",(0,i.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/CSS/:is"},"native ",(0,i.kt)("inlineCode",{parentName:"a"},":is()")," pseudo-class"),"."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Syntax")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},"[target]:is(selectors)\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"target")," \u2014 nepovinn\xfd, standardn\xed nebo roz\u0161\xed\u0159en\xfd selektor CSS m\u016f\u017ee b\xfdt p\u0159esko\u010den pro kontrolu ",(0,i.kt)("em",{parentName:"li"},"libovoln\xe9ho")," prvku"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"selectors")," \u2014 ",(0,i.kt)("a",{parentName:"li",href:"https://drafts.csswg.org/selectors-4/#typedef-forgiving-selector-list"},(0,i.kt)("em",{parentName:"a"},"odpou\u0161t\u011bj\xedc\xed seznam selektor\u016f"))," standardn\xedch nebo roz\u0161\xed\u0159en\xfdch selektor\u016f. U roz\u0161\xed\u0159en\xfdch selektor\u016f jsou podporov\xe1ny pouze slo\u017een\xe9 selektory, nikoli komplexn\xed.")),(0,i.kt)("h5",{id:"extended-css-is-limitations"},(0,i.kt)("inlineCode",{parentName:"h5"},":is()")," limitations"),(0,i.kt)("p",null,"Rules with the ",(0,i.kt)("inlineCode",{parentName:"p"},":is()")," pseudo-class must use the ",(0,i.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/CSS/:is"},"native implementation of ",(0,i.kt)("inlineCode",{parentName:"a"},":is()"))," if rules use ",(0,i.kt)("inlineCode",{parentName:"p"},"##")," marker and it is possible, i.e. with no other extended selectors inside. To force applying ExtendedCss rules with ",(0,i.kt)("inlineCode",{parentName:"p"},":is()"),", use ",(0,i.kt)("inlineCode",{parentName:"p"},"#?#"),"/",(0,i.kt)("inlineCode",{parentName:"p"},"#$?#")," marker explicitly."),(0,i.kt)("p",null,"If the ",(0,i.kt)("inlineCode",{parentName:"p"},":is()")," pseudo-class argument ",(0,i.kt)("inlineCode",{parentName:"p"},"selectors")," is an extended selector, due to the way how the ",(0,i.kt)("inlineCode",{parentName:"p"},":is()")," pseudo-class is implemented in ExtendedCss v2.0, it is impossible to apply it to the top DOM node which is ",(0,i.kt)("inlineCode",{parentName:"p"},"html"),", i.e. ",(0,i.kt)("inlineCode",{parentName:"p"},"#?#html:is(<extended-selectors>)")," does not work. So if ",(0,i.kt)("inlineCode",{parentName:"p"},"target")," is not defined or defined as the ",(0,i.kt)("a",{parentName:"p",href:"https://www.w3.org/TR/selectors-4/#the-universal-selector"},"universal selector")," ",(0,i.kt)("inlineCode",{parentName:"p"},"*"),", the extended pseudo-class applying is limited to ",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("inlineCode",{parentName:"strong"},"html"),"'s children"),", e.g. rules ",(0,i.kt)("inlineCode",{parentName:"p"},"#?#:is(...)")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"#?#*:is(...)")," are parsed as ",(0,i.kt)("inlineCode",{parentName:"p"},"#?#html *:is(...)"),". Please note that there is no such limitation for a standard selector argument, i.e. ",(0,i.kt)("inlineCode",{parentName:"p"},"#?#html:is(.locked)")," works fine."),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://www.w3.org/TR/selectors-4/#complex"},"Complex selectors")," with extended pseudo-classes are not supported as ",(0,i.kt)("inlineCode",{parentName:"p"},"selectors")," argument for ",(0,i.kt)("inlineCode",{parentName:"p"},":is()")," pseudo-class, only ",(0,i.kt)("a",{parentName:"p",href:"https://www.w3.org/TR/selectors-4/#compound"},"compound ones")," are allowed. Check examples below for more details."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"#container *:is(.inner, .footer)")," selects only the element ",(0,i.kt)("inlineCode",{parentName:"p"},"div#target1"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},'\x3c!-- HTML code --\x3e\n<div id="container">\n  <div data="true">\n    <div>\n      <div id="target1" class="inner"></div>\n    </div>\n  </div>\n</div>\n')),(0,i.kt)("p",null,"Due to limitations ",(0,i.kt)("inlineCode",{parentName:"p"},":is(*:not([class]) > .banner)'")," does not work but ",(0,i.kt)("inlineCode",{parentName:"p"},":is(*:not([class]):has(> .banner))")," can be used instead of it to select the element ",(0,i.kt)("inlineCode",{parentName:"p"},"div#target2"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},'\x3c!-- HTML code --\x3e\n<span class="span">text</span>\n<div id="target2">\n  <p class="banner">inner paragraph</p>\n</div>\n')),(0,i.kt)("h4",{id:"extended-css-not"},"Pseudo-t\u0159\xedda ",(0,i.kt)("inlineCode",{parentName:"h4"},":not()")),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},":not()")," pseudo-class allows to select elements which are ",(0,i.kt)("em",{parentName:"p"},"not matched")," by selectors passed as argument. Invalid argument selectors are not allowed and error is to be thrown. Our implementation of the ",(0,i.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/CSS/:not"},(0,i.kt)("inlineCode",{parentName:"a"},":not()")," pseudo-class"),"."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Syntax")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},"[target]:not(selectors)\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"target")," \u2014 nepovinn\xfd, standardn\xed nebo roz\u0161\xed\u0159en\xfd selektor CSS m\u016f\u017ee b\xfdt p\u0159esko\u010den pro kontrolu ",(0,i.kt)("em",{parentName:"li"},"libovoln\xe9ho")," prvku"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"selectors")," \u2014 seznam standardn\xedch nebo roz\u0161\xed\u0159en\xfdch selektor\u016f")),(0,i.kt)("h5",{id:"extended-css-not-limitations"},(0,i.kt)("inlineCode",{parentName:"h5"},":not()")," limitations"),(0,i.kt)("p",null,"Rules with the ",(0,i.kt)("inlineCode",{parentName:"p"},":not()")," pseudo-class must use the ",(0,i.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/CSS/:not"},"native implementation of ",(0,i.kt)("inlineCode",{parentName:"a"},":not()"))," if rules use ",(0,i.kt)("inlineCode",{parentName:"p"},"##")," marker and it is possible, i.e. with no other extended selectors inside. To force applying ExtendedCss rules with ",(0,i.kt)("inlineCode",{parentName:"p"},":not()"),", use ",(0,i.kt)("inlineCode",{parentName:"p"},"#?#"),"/",(0,i.kt)("inlineCode",{parentName:"p"},"#$?#")," marker explicitly."),(0,i.kt)("p",null,"If the ",(0,i.kt)("inlineCode",{parentName:"p"},":not()")," pseudo-class argument ",(0,i.kt)("inlineCode",{parentName:"p"},"selectors")," is an extended selector, due to the way how the ",(0,i.kt)("inlineCode",{parentName:"p"},":not()")," pseudo-class is implemented in ExtendedCss v2.0, it is impossible to apply it to the top DOM node which is ",(0,i.kt)("inlineCode",{parentName:"p"},"html"),", i.e. ",(0,i.kt)("inlineCode",{parentName:"p"},"#?#html:not(<extended-selectors>)")," does not work. So if ",(0,i.kt)("inlineCode",{parentName:"p"},"target")," is not defined or defined as the ",(0,i.kt)("a",{parentName:"p",href:"https://www.w3.org/TR/selectors-4/#the-universal-selector"},"universal selector")," ",(0,i.kt)("inlineCode",{parentName:"p"},"*"),", the extended pseudo-class applying is limited to ",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("inlineCode",{parentName:"strong"},"html"),"'s children"),", e.g. rules ",(0,i.kt)("inlineCode",{parentName:"p"},"#?#:not(...)")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"#?#*:not(...)")," are parsed as ",(0,i.kt)("inlineCode",{parentName:"p"},"#?#html *:not(...)"),". Please note that there is no such limitation for a standard selector argument, i.e. ",(0,i.kt)("inlineCode",{parentName:"p"},"#?#html:not(.locked)")," works fine."),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},":not()")," is considered as a standard CSS pseudo-class inside the argument of the ",(0,i.kt)("a",{parentName:"p",href:"#extended-css-upward"},(0,i.kt)("inlineCode",{parentName:"a"},":upward()")," pseudo-class")," because ",(0,i.kt)("inlineCode",{parentName:"p"},":upward()")," supports only standard selectors."),(0,i.kt)("p",null,'"Up-looking" pseudo-classes which are ',(0,i.kt)("a",{parentName:"p",href:"#extended-css-nth-ancestor"},(0,i.kt)("inlineCode",{parentName:"a"},":nth-ancestor()"))," and ",(0,i.kt)("a",{parentName:"p",href:"#extended-css-upward"},(0,i.kt)("inlineCode",{parentName:"a"},":upward()"))," are not supported inside ",(0,i.kt)("inlineCode",{parentName:"p"},"selectors")," argument for ",(0,i.kt)("inlineCode",{parentName:"p"},":not()")," pseudo-class."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"#container > *:not(h2, .text)")," selects only the element ",(0,i.kt)("inlineCode",{parentName:"p"},"div#target1"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},'\x3c!-- HTML code --\x3e\n<div id="container">\n  <h2>Header</h2>\n  <div id="target1"></div>\n  <span class="text">text</span>\n</div>\n')),(0,i.kt)("h4",{id:"extended-css-if-not"},"Pseudo-t\u0159\xedda ",(0,i.kt)("inlineCode",{parentName:"h4"},":if-not()")," (odstran\u011bno)"),(0,i.kt)("admonition",{title:"Upozorn\u011bn\xed na odstran\u011bn\xed",type:"danger"},(0,i.kt)("p",{parentName:"admonition"},"The ",(0,i.kt)("inlineCode",{parentName:"p"},":if-not()")," pseudo-class is removed and is no longer supported. Pravidla s t\xedmto modifik\xe1torem jsou pova\u017eov\xe1na za neplatn\xe1.")),(0,i.kt)("p",null,"This pseudo-class was basically a shortcut for ",(0,i.kt)("inlineCode",{parentName:"p"},":not(:has())"),". It was supported by ExtendedCss for better compatibility with some filters subscriptions."),(0,i.kt)("h3",{id:"cosmetic-rules-priority"},"P\u0159ednost kosmetick\xfdch pravidel"),(0,i.kt)("p",null,"The way ",(0,i.kt)("strong",{parentName:"p"},"element hiding")," and ",(0,i.kt)("strong",{parentName:"p"},"CSS rules")," are applied is platform-specific."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"In AdGuard for Windows, Mac, and Android"),", we use a stylesheet injected into the page. The priority of cosmetic rules is the same as any other websites' CSS stylesheet. But there is a limitation: ",(0,i.kt)("a",{parentName:"p",href:"#cosmetic-elemhide-rules"},"element hiding")," and ",(0,i.kt)("a",{parentName:"p",href:"#cosmetic-css-rules"},"CSS rules")," cannot override inline styles. In such cases, it is recommended to use extended selectors or HTML filtering."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"In AdGuard Browser Extension"),', the so called "user stylesheets" are used. They have higher priority than even the inline styles.'),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Extended CSS selectors")," use JavaScript to work and basically add an inline style themselves, therefore they can override any style."),(0,i.kt)("h2",{id:"html-filtering-rules"},"HTML pravidla filtrov\xe1n\xed"),(0,i.kt)("p",null,"In most cases, the basis and cosmetic rules are enough to filter ads. But sometimes it is necessary to change the HTML-code of the page itself before it is loaded. This is when you need filtering rules for HTML content. They allow to indicate the HTML elements to be cut out before the browser loads the page."),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"HTML filtering rules are supported by AdGuard for Windows, Mac, Android, and AdGuard Browser Extension for Firefox. Such rules do not work in extensions for other browsers because they are unable to modify content on network level.")),(0,i.kt)("h3",{id:"syntax-1"},"Syntax"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},'     selector = [tagName] [attributes] [pseudoClasses]\n   combinator = ">"\n         rule = [domains] "$$" selector *(combinator selector)\n      domains = [domain0, domain1[, ...[, domainN]]]\n   attributes = "[" name0 = value0 "]" "[" name1 = value2 "]" ... "[" nameN = valueN "]"\npseudoClasses = pseudoClass *pseudoClass\n  pseudoClass = ":" pseudoName [ "(" pseudoArgs ")" ]\n')),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"tagName"))," \u2014 n\xe1zev prvku s mal\xfdmi p\xedsmeny, nap\u0159. ",(0,i.kt)("inlineCode",{parentName:"li"},"div")," nebo ",(0,i.kt)("inlineCode",{parentName:"li"},"script"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"domains"))," \u2014 omezen\xed dom\xe9ny pro dan\xe9 pravidlo. Stejn\xe9 z\xe1sady jako v ",(0,i.kt)("a",{parentName:"li",href:"#cosmetic-elemhide-rules"},"syntaxi pravidel pro skr\xfdv\xe1n\xed prvk\u016f"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"attributes"))," \u2014 seznam atribut\u016f, kter\xe9 limituj\xed v\xfdb\u011br prvk\u016f. ",(0,i.kt)("inlineCode",{parentName:"li"},"name")," \u2014 n\xe1zev atributu, ",(0,i.kt)("inlineCode",{parentName:"li"},"value")," \u2014 pod\u0159et\u011bzec, kter\xfd je obsa\u017een v hodnot\u011b atributu."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"pseudoName"))," \u2014 n\xe1zev pseudot\u0159\xeddy."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"pseudoArgs"))," \u2014 argumenty pseudot\u0159\xeddy typu funkce."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"combinator"))," \u2014 oper\xe1tor, kter\xfd funguje podobn\u011b jako pod\u0159\xedzen\xfd kombin\xe1tor ",(0,i.kt)("a",{parentName:"li",href:"https://developer.mozilla.org/en-US/docs/Web/CSS/Child_combinator"},"CSS"),": to znamen\xe1, \u017ee ",(0,i.kt)("inlineCode",{parentName:"li"},"selector")," napravo od ",(0,i.kt)("inlineCode",{parentName:"li"},"combinator")," bude odpov\xeddat pouze prvku, jeho\u017e p\u0159\xedm\xfd p\u016fvodce odpov\xedd\xe1 ",(0,i.kt)("inlineCode",{parentName:"li"},"selector")," vlevo z ",(0,i.kt)("inlineCode",{parentName:"li"},"combinator"),".")),(0,i.kt)("h3",{id:"p\u0159\xedklady-2"},"P\u0159\xedklady"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"HTML code:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},'<script data-src="/banner.js"><\/script>\n')),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Rule:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},'example.org$$script[data-src="banner"]\n')),(0,i.kt)("p",null,"This rule removes all ",(0,i.kt)("inlineCode",{parentName:"p"},"script")," elements with the attribute ",(0,i.kt)("inlineCode",{parentName:"p"},"data-src")," containing the substring ",(0,i.kt)("inlineCode",{parentName:"p"},"banner"),". The rule applies only to ",(0,i.kt)("inlineCode",{parentName:"p"},"example.org")," and all its subdomains."),(0,i.kt)("h3",{id:"speci\xe1ln\xed-atributy"},"Speci\xe1ln\xed atributy"),(0,i.kt)("p",null,"In addition to usual attributes, which value is every element checked for, there is a set of special attributes that change the way a rule works. Below there is a list of these attributes:"),(0,i.kt)("h4",{id:"tag-content"},(0,i.kt)("inlineCode",{parentName:"h4"},"tag-content")),(0,i.kt)("admonition",{title:"Deprecation notice",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"This special attribute may become unsupported in the future. Prefer using the ",(0,i.kt)("inlineCode",{parentName:"p"},":contains()")," pseudo-class where it is available.")),(0,i.kt)("p",null,"This is the most frequently used special attribute. It limits selection with those elements whose innerHTML code contains the specified substring."),(0,i.kt)("p",null,"You must use ",(0,i.kt)("inlineCode",{parentName:"p"},'""')," to escape ",(0,i.kt)("inlineCode",{parentName:"p"},'"'),", for instance: ",(0,i.kt)("inlineCode",{parentName:"p"},'$$script[tag-content="alert(""this is ad"")"]')),(0,i.kt)("p",null,"For example, take a look at this HTML code:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},'<script type="text/javascript">\n    document.write(\'<div>banner text</div>" />\');\n<\/script>\n')),(0,i.kt)("p",null,"Following rule will delete all ",(0,i.kt)("inlineCode",{parentName:"p"},"script")," elements with a ",(0,i.kt)("inlineCode",{parentName:"p"},"banner")," substring in their code:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},'$$script[tag-content="banner"]\n')),(0,i.kt)("admonition",{title:"Limitations",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"The ",(0,i.kt)("inlineCode",{parentName:"p"},"tag-content")," special attribute must not appear in a selector to the left of a ",(0,i.kt)("inlineCode",{parentName:"p"},">")," combinator.")),(0,i.kt)("h4",{id:"wildcard"},(0,i.kt)("inlineCode",{parentName:"h4"},"wildcard")),(0,i.kt)("admonition",{title:"Deprecation notice",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"This special attribute may become unsupported in the future. Prefer using the ",(0,i.kt)("inlineCode",{parentName:"p"},":contains()")," pseudo-class where it is available.")),(0,i.kt)("p",null,"This special attribute works almost like ",(0,i.kt)("inlineCode",{parentName:"p"},"tag-content")," and allows you to check the innerHTML code of the document. Rule will check if HTML code of the element fits to the ",(0,i.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Glob_(programming)"},"search pattern"),"."),(0,i.kt)("p",null,"You must use ",(0,i.kt)("inlineCode",{parentName:"p"},'""')," to escape ",(0,i.kt)("inlineCode",{parentName:"p"},'"'),", for instance: ",(0,i.kt)("inlineCode",{parentName:"p"},'$$script[wildcard=""banner""]')),(0,i.kt)("p",null,"For example: ",(0,i.kt)("inlineCode",{parentName:"p"},'$$script[wildcard="*banner*text*"]')),(0,i.kt)("p",null,"It checks if the element code contains the two consecutive substrings ",(0,i.kt)("inlineCode",{parentName:"p"},"banner")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"text"),"."),(0,i.kt)("admonition",{title:"Limitations",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"The ",(0,i.kt)("inlineCode",{parentName:"p"},"wildcard")," special attribute must not appear in a selector to the left of a ",(0,i.kt)("inlineCode",{parentName:"p"},">")," combinator.")),(0,i.kt)("h4",{id:"max-length"},(0,i.kt)("inlineCode",{parentName:"h4"},"max-length")),(0,i.kt)("admonition",{title:"Deprecation notice",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"This special attribute may become unsupported in the future. Prefer using the ",(0,i.kt)("inlineCode",{parentName:"p"},":contains()")," pseudo-class with a regular expression where it is available.")),(0,i.kt)("p",null,"Specifies the maximum length for content of HTML element. If this parameter is set and the content length exceeds the value, a rule does not apply to the element."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Default value")),(0,i.kt)("p",null,"If this parameter is not specified, the ",(0,i.kt)("inlineCode",{parentName:"p"},"max-length")," is considered to be 8192."),(0,i.kt)("p",null,"Nap\u0159:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},'$$div[tag-content="banner"][max-length="400"]\n')),(0,i.kt)("p",null,"This rule will remove all the ",(0,i.kt)("inlineCode",{parentName:"p"},"div")," elements, whose code contains the substring ",(0,i.kt)("inlineCode",{parentName:"p"},"banner")," and the length of which does not exceed ",(0,i.kt)("inlineCode",{parentName:"p"},"400")," characters."),(0,i.kt)("admonition",{title:"Limitations",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"The ",(0,i.kt)("inlineCode",{parentName:"p"},"max-length")," special attribute must not appear in a selector to the left of a ",(0,i.kt)("inlineCode",{parentName:"p"},">")," combinator.")),(0,i.kt)("h4",{id:"min-length"},(0,i.kt)("inlineCode",{parentName:"h4"},"min-length")),(0,i.kt)("admonition",{title:"Deprecation notice",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"This special attribute may become unsupported in the future. Prefer using the ",(0,i.kt)("inlineCode",{parentName:"p"},":contains()")," pseudo-class with a regular expression where it is available.")),(0,i.kt)("p",null,"Specifies the minimum length for content of HTML element. If this parameter is set and the content length is less than preset value, a rule does not apply to the element."),(0,i.kt)("p",null,"Nap\u0159:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},'$$div[tag-content="banner"][min-length="400"]\n')),(0,i.kt)("p",null,"This rule will remove all the ",(0,i.kt)("inlineCode",{parentName:"p"},"div")," elements, whose code contains the substring ",(0,i.kt)("inlineCode",{parentName:"p"},"banner")," and the length of which exceeds ",(0,i.kt)("inlineCode",{parentName:"p"},"400")," characters."),(0,i.kt)("admonition",{title:"Limitations",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"The ",(0,i.kt)("inlineCode",{parentName:"p"},"min-length")," special attribute must not appear in a selector to the left of a ",(0,i.kt)("inlineCode",{parentName:"p"},">")," combinator.")),(0,i.kt)("h3",{id:"pseudot\u0159\xeddy"},"Pseudot\u0159\xeddy"),(0,i.kt)("h4",{id:"contains"},(0,i.kt)("inlineCode",{parentName:"h4"},":contains()")),(0,i.kt)("h5",{id:"syntax-2"},"Syntax"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},":contains(unquoted text)\n")),(0,i.kt)("p",null,"nebo"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},":contains(/reg(ular )?ex(pression)?/)\n")),(0,i.kt)("admonition",{title:"Compatibility",type:"note"},(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("inlineCode",{parentName:"p"},":-abp-contains()")," and ",(0,i.kt)("inlineCode",{parentName:"p"},":has-text()")," are synonyms for ",(0,i.kt)("inlineCode",{parentName:"p"},":contains()"),".")),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"The ",(0,i.kt)("inlineCode",{parentName:"p"},":contains()")," pseudo-class is supported by AdGuard for Windows, Mac, and Android with ",(0,i.kt)("a",{parentName:"p",href:"https://adguard.com/en/blog/introducing-corelibs.html"},"CoreLibs")," v1.13 or later.")),(0,i.kt)("p",null,"Requires that the inner HTML of the element contains the specified text or matches the specified regular expression."),(0,i.kt)("admonition",{title:"Limitations",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"A ",(0,i.kt)("inlineCode",{parentName:"p"},":contains()")," pseudo-class must not appear in a selector to the left of a ",(0,i.kt)("inlineCode",{parentName:"p"},">")," combinator.")),(0,i.kt)("h3",{id:"v\xfdjimky"},"V\xfdjimky"),(0,i.kt)("p",null,"Similar to hiding rules, there is a special type of rules that disable the selected HTML filtering rule for particular domains. The syntax is the same, you just have to change ",(0,i.kt)("inlineCode",{parentName:"p"},"$$")," to ",(0,i.kt)("inlineCode",{parentName:"p"},"$@$"),"."),(0,i.kt)("p",null,"For example, there is a rule in filter:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},'$$script[tag-content="banner"]\n')),(0,i.kt)("p",null,"If you want to disable it for ",(0,i.kt)("inlineCode",{parentName:"p"},"example.com"),", you can create an exception rule:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},'example.com$@$script[tag-content="banner"]\n')),(0,i.kt)("p",null,"Sometimes, it may be necessary to disable all restriction rules. For example, to conduct tests. To do this, use the exclusion rule without specifying a domain."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},'$@$script[tag-content="banner"]\n')),(0,i.kt)("p",null,"We recommend to use this kind of exceptions only if it is not possible to change the hiding rule itself. In other cases it is better to change the original rule, using domain restrictions."),(0,i.kt)("h2",{id:"javascript-rules"},"Pravidla JavaScript"),(0,i.kt)("p",null,"AdGuard supports a special type of rules that allows you to inject any javascript code to websites pages."),(0,i.kt)("p",null,"We ",(0,i.kt)("strong",{parentName:"p"},"strongly recommend")," using ",(0,i.kt)("a",{parentName:"p",href:"#scriptlets"},"scriptlets")," instead of JavaScript rules whenever possible. JS rules are supposed to help with debugging, but as a long-time solution a scriptlet rule should be used."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Syntax")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},'rule = [domains] "#%#" script\n')),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"domains"))," \u2014 omezen\xed dom\xe9ny pro dan\xe9 pravidlo. Stejn\xe9 z\xe1sady jako v ",(0,i.kt)("a",{parentName:"li",href:"#cosmetic-elemhide-rules"},"pravidlech pro skr\xfdv\xe1n\xed prvk\u016f"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"skript"))," \u2014 libovoln\xfd k\xf3d JavaScript ",(0,i.kt)("strong",{parentName:"li"},"v jednom \u0159et\u011bzci"),".")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"example.org#%#window.__gaq = undefined;")," spust\xed k\xf3d ",(0,i.kt)("inlineCode",{parentName:"li"},"window.__gaq = undefined;")," na v\u0161ech str\xe1nk\xe1ch na ",(0,i.kt)("inlineCode",{parentName:"li"},"example.org")," a jej\xedch subdom\xe9n\xe1ch.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"V\xfdjimky")),(0,i.kt)("p",null,"Similar to hiding rules, there is a special type of rules that disable the selected javascript rule for particular domains. The syntax is the same, you just have to change ",(0,i.kt)("inlineCode",{parentName:"p"},"#%#")," to ",(0,i.kt)("inlineCode",{parentName:"p"},"#@%#"),"."),(0,i.kt)("p",null,"For example, there is a rule in filter:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"#%#window.__gaq = undefined;\n")),(0,i.kt)("p",null,"If you want to disable it for ",(0,i.kt)("inlineCode",{parentName:"p"},"example.com"),", you can create an exception rule:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"example.com#@%#window.__gaq = undefined;\n")),(0,i.kt)("p",null,"Sometimes, it may be necessary to disable all restriction rules. For example, to conduct tests. To do this, use the exclusion rule without specifying a domain."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"#@%#window.__gaq = undefined;\n")),(0,i.kt)("p",null,"We recommend to use this kind of exceptions only if it is not possible to change the hiding rule itself. In other cases it is better to change the original rule, using domain restrictions."),(0,i.kt)("admonition",{title:"Omezen\xed",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"JavaScript rules can be used ",(0,i.kt)("a",{parentName:"p",href:"#trusted-filters"},(0,i.kt)("strong",{parentName:"a"},"only in trusted filters")),".")),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"JavaScript rules are not supported by AdGuard Content Blocker.")),(0,i.kt)("h2",{id:"scriptlets"},"Pravidla skriptlet"),(0,i.kt)("p",null,"Scriptlet is a JavaScript function that provides extended capabilities for content blocking. These functions can be used in a declarative manner in AdGuard filtering rules."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"AdGuard supports a lot of different scriptlets. In order to achieve cross-blocker compatibility, we also support syntax of uBO and ABP.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Syntax")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},'rule = [domains] "#%#//scriptlet(" scriptletName arguments ")"\n')),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"scriptletName"))," \u2014 povinn\xfd, n\xe1zev skriptletu z knihovny skriplet\u016f AdGuard"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"arguments"))," \u2014 voliteln\xfdn\xfd, seznam argument\u016f ",(0,i.kt)("inlineCode",{parentName:"li"},"string")," (jin\xe9 typy argument\u016f nejsou podporov\xe1ny)")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},'example.org#%#//scriptlet("abort-on-property-read", "alert")\n')),(0,i.kt)("p",null,"This rule will be applied to ",(0,i.kt)("inlineCode",{parentName:"p"},"example.org")," and subdomains pages and will execute the ",(0,i.kt)("inlineCode",{parentName:"p"},"abort-on-property-read")," scriptlet with the ",(0,i.kt)("inlineCode",{parentName:"p"},"alert")," parameter."),(0,i.kt)("p",null,"Learn more about ",(0,i.kt)("a",{parentName:"p",href:"#debug-scriptlets"},"how to debug scriptlets"),"."),(0,i.kt)("p",null,"More information about scriptlets can be found ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/AdguardTeam/Scriptlets#scriptlets"},"on GitHub"),"."),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Scriptlet rules are not supported by AdGuard Content Blocker.")),(0,i.kt)("h3",{id:"trusted-scriptlets"},"D\u016fv\u011bryhodn\xe9 skriptlety"),(0,i.kt)("p",null,"Trusted scriptlets are ",(0,i.kt)("a",{parentName:"p",href:"#scriptlets"},"scriptlets")," with extended functionality. It means the same syntax and restrictions. Trusted scriptlet names are prefixed with ",(0,i.kt)("inlineCode",{parentName:"p"},"trusted-"),", e.g. ",(0,i.kt)("inlineCode",{parentName:"p"},"trusted-set-cookie"),", to be easily distinguished from common scriptlets."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Trusted scriptlets are not compatible with other ad blockers except AdGuard.")),(0,i.kt)("admonition",{title:"Omezen\xed",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"Trusted scriptlets rules can be used ",(0,i.kt)("a",{parentName:"p",href:"#trusted-filters"},(0,i.kt)("strong",{parentName:"a"},"only in trusted filters")),".")),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Trusted scriptlets rules are not supported by AdGuard Content Blocker.")),(0,i.kt)("p",null,"Learn more about ",(0,i.kt)("a",{parentName:"p",href:"#debug-scriptlets"},"how to debug scriptlets"),"."),(0,i.kt)("p",null,"More information about trusted scriptlets can be found ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/AdguardTeam/Scriptlets#trusted-scriptlets"},"on GitHub"),"."),(0,i.kt)("h2",{id:"non-basic-rules-modifiers"},"Modifik\xe1tory pro ostatn\xed typ pravidel"),(0,i.kt)("p",null,"Each rule can be modified using the modifiers described in the following paragraphs."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Syntax")," {#non-basic-rules-modifiers-syntax}"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},'rule = "[$" modifiers "]" [rule text]\nmodifiers = modifier0[, modifier1[, ...[, modifierN]]]\n')),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"modifier"))," \u2014 sada modifik\xe1tor\u016f popsan\xfdch n\xed\u017ee."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"rule text"))," \u2014 pravidlo, kter\xe9 je t\u0159eba zm\u011bnit.")),(0,i.kt)("p",null,"For example, ",(0,i.kt)("inlineCode",{parentName:"p"},"[$domain=example.com,app=test_app]##selector"),"."),(0,i.kt)("p",null,"In the modifiers values, the following characters must be escaped: ",(0,i.kt)("inlineCode",{parentName:"p"},"["),", ",(0,i.kt)("inlineCode",{parentName:"p"},"]"),", ",(0,i.kt)("inlineCode",{parentName:"p"},","),", and ",(0,i.kt)("inlineCode",{parentName:"p"},"\\")," (unless it is used for the escaping). Use ",(0,i.kt)("inlineCode",{parentName:"p"},"\\")," to escape them. For example, an escaped bracket looks like this: ",(0,i.kt)("inlineCode",{parentName:"p"},"\\]"),"."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Modifik\xe1tor \\ Produkty"),(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("a",{parentName:"th",href:"#what-product",title:"AdGuard for Windows, Mac, Android"},"Aplikace CoreLibs")),(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("a",{parentName:"th",href:"#what-product",title:"AdGuard Browser Extension for Chrome and other Chromium-based browsers"},"AdGuard pro Chromium")),(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("a",{parentName:"th",href:"#what-product",title:"AdGuard Browser Extension for Firefox"},"AdGuard pro Firefox")),(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("a",{parentName:"th",href:"#what-product",title:"AdGuard for iOS and AdGuard Pro for iOS"},"AdGuard pro iOS")),(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("a",{parentName:"th",href:"#what-product",title:"AdGuard pro Safari"},"AdGuard pro Safari")),(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("a",{parentName:"th",href:"#what-product",title:"AdGuard Content Blocker for Samsung Internet and Yandex Browser on Android"},"Blok\xe1tor obsahu AdGuard")))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#non-basic-app-modifier"},"$app")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#non-basic-domain-modifier"},"$domain")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#non-basic-path-modifier"},"$path")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#non-basic-url-modifier"},"$url")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u23f3"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u23f3"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c")))),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},"\u2705 \u2014 pln\u011b podporov\xe1no"),(0,i.kt)("li",{parentName:"ul"},"\u23f3 \u2014 funkce, kter\xe1 byla implementov\xe1na nebo jej\xed\u017e implementace se pl\xe1nuje, ale zat\xedm nen\xed k dispozici v \u017e\xe1dn\xe9m produktu"),(0,i.kt)("li",{parentName:"ul"},"\u274c \u2014 nepodporov\xe1no"))),(0,i.kt)("h3",{id:"non-basic-app-modifier"},(0,i.kt)("strong",{parentName:"h3"},(0,i.kt)("inlineCode",{parentName:"strong"},"$app"))),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"$app")," modifier lets you narrow the rule coverage down to a specific application or a list of applications. The modifier's behavior and syntax perfectly match the corresponding ",(0,i.kt)("a",{parentName:"p",href:"#app-modifier"},"basic rules ",(0,i.kt)("inlineCode",{parentName:"a"},"$app")," modifier"),"."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[$app=org.example.app]example.com##.textad")," skryje ",(0,i.kt)("inlineCode",{parentName:"li"},"div")," s t\u0159\xeddou ",(0,i.kt)("inlineCode",{parentName:"li"},"textad")," na ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com")," a v\u0161ech subdom\xe9n\xe1ch v po\u017eadavc\xedch odeslan\xfdch z ",(0,i.kt)("inlineCode",{parentName:"li"},"org.example.app")," v aplikaci Android."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[$app=~org.example.app1|~org.example.app2]example.com##.textad")," skryje ",(0,i.kt)("inlineCode",{parentName:"li"},"div")," s t\u0159\xeddou ",(0,i.kt)("inlineCode",{parentName:"li"},"textad")," na ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com")," a v\u0161ech subdom\xe9n\xe1ch v po\u017eadavc\xedch odeslan\xfdch z jak\xe9koli aplikace krom\u011b ",(0,i.kt)("inlineCode",{parentName:"li"},"org.example.app1")," a ",(0,i.kt)("inlineCode",{parentName:"li"},"org.example.app2"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[$app=com.apple.Safari]example.org#%#//scriptlet('prevent-setInterval', 'check', '!300')")," pou\u017eije skriplet ",(0,i.kt)("inlineCode",{parentName:"li"},"prevent-setInterval")," pouze v prohl\xed\u017ee\u010di Safari na po\u010d\xedta\u010di Mac."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[$app=org.example.app]#@#.textad")," zak\xe1\u017ee v\u0161echna pravidla ",(0,i.kt)("inlineCode",{parentName:"li"},"##.textad")," pro v\u0161echny dom\xe9ny p\u0159i pou\u017eit\xed ",(0,i.kt)("inlineCode",{parentName:"li"},"org.example.app"),".")),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Such rules with ",(0,i.kt)("inlineCode",{parentName:"p"},"$app")," modifier are supported by AdGuard for Windows, Mac, and Android.")),(0,i.kt)("h3",{id:"non-basic-domain-modifier"},(0,i.kt)("strong",{parentName:"h3"},(0,i.kt)("inlineCode",{parentName:"strong"},"$domain"))),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"$domain")," modifier limits the rule application area to a list of domains and their subdomains. The modifier's behavior and syntax perfectly match the corresponding ",(0,i.kt)("a",{parentName:"p",href:"#domain-modifier"},"basic rules ",(0,i.kt)("inlineCode",{parentName:"a"},"$domain")," modifier"),"."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[$domain=example.com]##.textad")," \u2014 skryje ",(0,i.kt)("inlineCode",{parentName:"li"},"div")," s t\u0159\xeddou ",(0,i.kt)("inlineCode",{parentName:"li"},"textad")," na dom\xe9n\u011b ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com")," a v\u0161ech subdom\xe9n\xe1ch."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[$domain=example.com|example.org]###adblock")," \u2014 skryje prvek s atributem ",(0,i.kt)("inlineCode",{parentName:"li"},"id"),", kter\xfd se rovn\xe1 ",(0,i.kt)("inlineCode",{parentName:"li"},"adblock")," na ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"example.org")," a v\u0161ech subdom\xe9n\xe1ch."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[$domain=~example.com]##.textad")," \u2014 toto pravidlo skryje prvek ",(0,i.kt)("inlineCode",{parentName:"li"},"div")," se t\u0159\xeddou ",(0,i.kt)("inlineCode",{parentName:"li"},"textad")," na v\u0161ech dom\xe9n\xe1ch krom\u011b ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com")," a jej\xedch subdom\xe9n.")),(0,i.kt)("p",null,"There are 2 ways to specify domain restrictions for non-basic rules:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},'"klasick\xfd" zp\u016fsob je zadat dom\xe9ny p\u0159ed masku pravidla a atributy: ',(0,i.kt)("inlineCode",{parentName:"li"},"example.com##.textad"),";"),(0,i.kt)("li",{parentName:"ol"},"p\u0159\xedstup modifik\xe1toru spo\u010d\xedv\xe1 v ur\u010den\xed dom\xe9n pomoc\xed modifik\xe1toru ",(0,i.kt)("inlineCode",{parentName:"li"},"$domain"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"[$domain=example.com]##.textad"),".")),(0,i.kt)("p",null,"But rules with mixed style domains restriction are considered invalid. So, for example, the rule ",(0,i.kt)("inlineCode",{parentName:"p"},"[$domain=example.org]example.com##.textad")," will be ignored."),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Such rules with ",(0,i.kt)("inlineCode",{parentName:"p"},"$domain")," modifier are supported by AdGuard for Windows, Mac, Android, and AdGuard Browser Extension for Chrome, Firefox, Edge.")),(0,i.kt)("h3",{id:"non-basic-path-modifier"},(0,i.kt)("strong",{parentName:"h3"},(0,i.kt)("inlineCode",{parentName:"strong"},"$path"))),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"$path")," modifier limits the rule application area to specific locations or pages on websites."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Syntax")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},'$path ["=" pattern]\n')),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"pattern")," \u2014 optional, a path mask to which the rule is restricted. Its syntax and behavior are pretty much the same as with the ",(0,i.kt)("a",{parentName:"p",href:"#basic-rules-syntax"},"pattern for basic rules"),". You can also use ",(0,i.kt)("a",{parentName:"p",href:"#basic-rules-special-characters"},"special characters"),", except for ",(0,i.kt)("inlineCode",{parentName:"p"},"||"),", which does not make any sense in this case (see examples below)."),(0,i.kt)("p",null,"If ",(0,i.kt)("inlineCode",{parentName:"p"},"pattern")," is not set for ",(0,i.kt)("inlineCode",{parentName:"p"},"$path"),", rule will apply only on the main page of website."),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"$path")," modifier matches the query string as well."),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"$path")," modifier supports regular expressions in ",(0,i.kt)("a",{parentName:"p",href:"#regexp-support"},"the same way")," basic rules do."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[$path=page.html]##.textad")," skryje ",(0,i.kt)("inlineCode",{parentName:"li"},"div")," se t\u0159\xeddou ",(0,i.kt)("inlineCode",{parentName:"li"},"textad")," na ",(0,i.kt)("inlineCode",{parentName:"li"},"/page.html")," nebo ",(0,i.kt)("inlineCode",{parentName:"li"},"/page.html?<query>")," nebo ",(0,i.kt)("inlineCode",{parentName:"li"},"/sub/page.html")," nebo ",(0,i.kt)("inlineCode",{parentName:"li"},"/another_page.html")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[$path=/page.html]##.textad")," skryje ",(0,i.kt)("inlineCode",{parentName:"li"},"div")," se t\u0159\xeddou ",(0,i.kt)("inlineCode",{parentName:"li"},"textad")," na ",(0,i.kt)("inlineCode",{parentName:"li"},"/page.html")," nebo ",(0,i.kt)("inlineCode",{parentName:"li"},"/page.html?<query>")," nebo ",(0,i.kt)("inlineCode",{parentName:"li"},"/sub/page.html")," jak\xe9koliv dom\xe9ny krom\u011b ",(0,i.kt)("inlineCode",{parentName:"li"},"/another_page.html")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[$path=|/page.html]##.textad")," skryje ",(0,i.kt)("inlineCode",{parentName:"li"},"div")," se t\u0159\xeddou ",(0,i.kt)("inlineCode",{parentName:"li"},"textad")," na ",(0,i.kt)("inlineCode",{parentName:"li"},"/page.html")," nebo ",(0,i.kt)("inlineCode",{parentName:"li"},"/page.html?<query>")," jak\xe9koliv dom\xe9ny krom\u011b ",(0,i.kt)("inlineCode",{parentName:"li"},"/sub/page.html")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[$path=/page.html|]##.textad")," skryje ",(0,i.kt)("inlineCode",{parentName:"li"},"div")," se t\u0159\xeddou ",(0,i.kt)("inlineCode",{parentName:"li"},"textad")," na ",(0,i.kt)("inlineCode",{parentName:"li"},"/page.html")," nebo ",(0,i.kt)("inlineCode",{parentName:"li"},"/sub/page.html")," jak\xe9koliv dom\xe9ny krom\u011b ",(0,i.kt)("inlineCode",{parentName:"li"},"/page.html?<query>")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[$path=/page*.html]example.com##.textad")," skryje ",(0,i.kt)("inlineCode",{parentName:"li"},"div")," se t\u0159\xeddou ",(0,i.kt)("inlineCode",{parentName:"li"},"textad")," na ",(0,i.kt)("inlineCode",{parentName:"li"},"/page1.html")," nebo ",(0,i.kt)("inlineCode",{parentName:"li"},"/page2.html")," nebo jin\xe9 cest\u011b shodn\xe9 s ",(0,i.kt)("inlineCode",{parentName:"li"},"/page<...>.html")," dom\xe9ny ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[$path]example.com##.textad")," skryje ",(0,i.kt)("inlineCode",{parentName:"li"},"div")," se t\u0159\xeddou ",(0,i.kt)("inlineCode",{parentName:"li"},"textad")," na hlavn\xed str\xe1nce dom\xe9ny ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[$domain=example.com,path=/page.html]##.textad")," skryje ",(0,i.kt)("inlineCode",{parentName:"li"},"div")," se t\u0159\xeddou ",(0,i.kt)("inlineCode",{parentName:"li"},"textad")," na ",(0,i.kt)("inlineCode",{parentName:"li"},"page.html")," dom\xe9ny ",(0,i.kt)("inlineCode",{parentName:"li"},"example.com")," a v\u0161ech subdom\xe9n\xe1ch krom\u011b ",(0,i.kt)("inlineCode",{parentName:"li"},"another_page.html")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[$path=/\\\\/(sub1|sub2)\\\\/page\\\\.html/]##.textad")," skryje ",(0,i.kt)("inlineCode",{parentName:"li"},"div")," se t\u0159\xeddou ",(0,i.kt)("inlineCode",{parentName:"li"},"textad")," na ",(0,i.kt)("inlineCode",{parentName:"li"},"/sub1/page.html")," a ",(0,i.kt)("inlineCode",{parentName:"li"},"/sub2/page.html")," jak\xe9koliv dom\xe9ny (vezm\u011bte pros\xedm na v\u011bdom\xed, \u017ee ",(0,i.kt)("a",{parentName:"li",href:"#non-basic-rules-modifiers-syntax"}," uvozuje speci\xe1ln\xed znak"),")")),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Rules with ",(0,i.kt)("inlineCode",{parentName:"p"},"$path")," modifier are not supported by AdGuard Content Blocker.")),(0,i.kt)("h3",{id:"non-basic-url-modifier"},(0,i.kt)("strong",{parentName:"h3"},(0,i.kt)("inlineCode",{parentName:"strong"},"$url"))),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"$url")," modifier limits the rule application area to URLs matching the specified mask."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Syntax")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},"url = pattern\n")),(0,i.kt)("p",null,"where ",(0,i.kt)("inlineCode",{parentName:"p"},"pattern")," is pretty much the same as ",(0,i.kt)("a",{parentName:"p",href:"#basic-rules-syntax"},(0,i.kt)("inlineCode",{parentName:"a"},"pattern")," of the basic rules")," assuming that ",(0,i.kt)("a",{parentName:"p",href:"#non-basic-rules-modifiers-syntax"},"some characters")," must be escaped. The ",(0,i.kt)("a",{parentName:"p",href:"#basic-rules-special-characters"},"special characters")," and ",(0,i.kt)("a",{parentName:"p",href:"#regexp-support"},"regular expressions")," are supported as well."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[$url=||example.com/content/*]##div.textad")," skryje ",(0,i.kt)("inlineCode",{parentName:"li"},"div")," se t\u0159\xeddou ",(0,i.kt)("inlineCode",{parentName:"li"},"textad")," na adrese jako ",(0,i.kt)("inlineCode",{parentName:"li"},"https://example.com/content/article.html")," a dokonce i ",(0,i.kt)("inlineCode",{parentName:"li"},"https://subdomain.example.com/content/article.html"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[$url=||example.org^]###adblock")," skryje prvek s atributem ",(0,i.kt)("inlineCode",{parentName:"li"},"id"),", kter\xfd se rovn\xe1 ",(0,i.kt)("inlineCode",{parentName:"li"},"adblock")," na ",(0,i.kt)("inlineCode",{parentName:"li"},"example.org")," a jej\xedch subdom\xe9n\xe1ch."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[$url=/\\[az\\]+\\\\.example\\\\.com^/]##.textad")," skryje prvky t\u0159\xeddy ",(0,i.kt)("inlineCode",{parentName:"li"},"div")," ",(0,i.kt)("inlineCode",{parentName:"li"},"textad")," pro v\u0161echny dom\xe9ny odpov\xeddaj\xedc\xed regul\xe1rn\xedmu v\xfdrazu ",(0,i.kt)("inlineCode",{parentName:"li"},"[a-z]+\\. example\\.com^"),".")),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Rules with the ",(0,i.kt)("inlineCode",{parentName:"p"},"$url")," modifier are supported by AdGuard for Windows, Mac, and Android with ",(0,i.kt)("a",{parentName:"p",href:"https://adguard.com/en/blog/introducing-corelibs.html"},"CoreLibs")," v1.11 or later.")),(0,i.kt)("h2",{id:"informace-pro-spr\xe1vce-filtr\u016f"},"Informace pro spr\xe1vce filtr\u016f"),(0,i.kt)("p",null,"If you maintain a third-party filter that is known to AdGuard, you might be interested in the information presented in this section. Please note that hints will be applied to registered filters only. The filter is considered to be registered and known by AdGuard, if it is present in the ",(0,i.kt)("a",{parentName:"p",href:"https://filters.adtidy.org/extension/chromium/filters.json"},"known filters index"),". If you want your filter to be registered, please file an issue to ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/AdguardTeam/AdguardFilters"},"AdguardFilters repo"),"."),(0,i.kt)("h3",{id:"direktivy-preprocesoru"},"Direktivy preprocesoru"),(0,i.kt)("p",null,"We provide preprocessor directives that can be used by filters maintainers to improve compatibility with different ad blockers and provide:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#include-directive"},"zahrnut\xfd soubor")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#conditions-directive"},"pou\u017eit\xed pravidel podm\xedn\u011bn\u011b podle typu blok\xe1toru reklam")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#safari-affinity-directive"},"zad\xe1n\xed blok\xe1tor obsahu pro pravidla platn\xe1 v Safari"))),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Any mistake in a preprocessor directive will lead to AdGuard failing the filter update in the same way as if the filter URL was unavailable."),(0,i.kt)("p",{parentName:"admonition"},"Preprocessor directives can be used in the user rules or in the custom filters.")),(0,i.kt)("h4",{id:"include-directive"},"Zahrnut\xfd soubor"),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"!#include")," directive allows to include contents of a specified file into the filter. It supports only files from the same origin to make sure that the filter maintainer is in control of the specified file. The included file can also contain pre- directives (even other ",(0,i.kt)("inlineCode",{parentName:"p"},"!#include")," directives). Ad blockers should consider the case of recursive ",(0,i.kt)("inlineCode",{parentName:"p"},"!#include")," and implement a protection mechanism."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Syntax")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"!#include file_path\n")),(0,i.kt)("p",null,"where ",(0,i.kt)("inlineCode",{parentName:"p"},"file_path")," is a same origin absolute or relative file path to be included."),(0,i.kt)("p",null,"The files must originate from the same domain but may be located in a different folder."),(0,i.kt)("p",null,"If included file is not found or unavailable, the whole filter update should fail."),(0,i.kt)("p",null,"Same-origin limitation should be disabled for local custom filters."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("p",null,"Filter URL: ",(0,i.kt)("inlineCode",{parentName:"p"},"https://example.org/path/filter.txt")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"! Valid (same origin):\n!#include https://example.org/path/includedfile.txt\n!\n! Valid (relative path):\n!#include /includedfile.txt\n!#include ../path2/includedfile.txt\n!\n! Invalid (another origin):\n!#include https://domain.com/path/includedfile.txt\n")),(0,i.kt)("h4",{id:"conditions-directive"},"Podm\xednky"),(0,i.kt)("p",null,"Filters maintainers can use conditions to supply different rules depending on the ad blocker type. A conditional directive beginning with an ",(0,i.kt)("inlineCode",{parentName:"p"},"!#if")," directive must explicitly be terminated with an ",(0,i.kt)("inlineCode",{parentName:"p"},"!#endif")," directive. Conditions support all basic logical operators."),(0,i.kt)("p",null,"There are two possible scenarios:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Pokud blok\xe1tor reklamy naraz\xed na direktivu ",(0,i.kt)("inlineCode",{parentName:"p"},"!#if")," a ne ",(0,i.kt)("inlineCode",{parentName:"p"},"!#else"),", zkompiluje k\xf3d mezi direktivami ",(0,i.kt)("inlineCode",{parentName:"p"},"!#if")," a ",(0,i.kt)("inlineCode",{parentName:"p"},"!#endif")," pouze v p\u0159\xedpad\u011b, \u017ee je zadan\xe1 podm\xednka pravdiv\xe1.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Pokud existuje direktiva ",(0,i.kt)("inlineCode",{parentName:"p"},"!#else"),", bude zkompilov\xe1n k\xf3d mezi ",(0,i.kt)("inlineCode",{parentName:"p"},"!#if")," a ",(0,i.kt)("inlineCode",{parentName:"p"},"!#else"),", pokud je podm\xednka pravdiv\xe1; v opa\u010dn\xe9m p\u0159\xedpad\u011b bude zkompilov\xe1n k\xf3d mezi ",(0,i.kt)("inlineCode",{parentName:"p"},"!#else")," a ",(0,i.kt)("inlineCode",{parentName:"p"},"!#endif"),"."))),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Whitespaces matter. ",(0,i.kt)("inlineCode",{parentName:"p"},"!#if")," is a valid directive, while ",(0,i.kt)("inlineCode",{parentName:"p"},"!# if")," is not.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Syntax")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"!#if (conditions)\nrules_list\n!#endif\n")),(0,i.kt)("p",null,"nebo"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"!#if (conditions)\ntrue_conditions_rules_list\n!#else\nfalse_conditions_rules_list\n!#endif\n")),(0,i.kt)("p",null,"kde:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"!#if (conditions)")," \u2014 za\u010d\xe1tek bloku p\u0159i spln\u011bn\xed podm\xednek"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"conditions")," \u2014 stejn\u011b jako v n\u011bkter\xfdch popul\xe1rn\xedch programovac\xedch jazyc\xedch jsou podm\xednky preprocesoru zalo\u017eeny na konstant\xe1ch deklarovan\xfdch blok\xe1tory reklamy. Auto\u0159i blok\xe1tor\u016f reklam si sami ur\u010duj\xed, jak\xe9 konstanty p\u0159esn\u011b deklaruj\xed. P\u0159\xedpustn\xe9 hodnoty:",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"adguard")," v\u017edy deklarov\xe1no; ukazuje spr\xe1vc\u016fm, \u017ee se jedn\xe1 o jeden z produkt\u016f AdGuard; m\u011blo by to sta\u010dit v 95 % p\u0159\xedpad\u016f"),(0,i.kt)("li",{parentName:"ul"},"konstanty specifick\xe9 pro dan\xfd produkt pro p\u0159\xedpady, kdy pot\u0159ebujete, aby pravidlo fungovalo (nebo nefungovalo \u2014 pak je t\u0159eba p\u0159ed konstantou pou\u017e\xedt ",(0,i.kt)("inlineCode",{parentName:"li"},"!"),") pouze v konkr\xe9tn\xedm produktu:",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"adguard_app_windows")," \u2014 AdGuard pro Windows"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"adguard_app_mac")," \u2014 AdGuard pro Mac"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"adguard_app_android")," \u2014 AdGuard pro Android"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"adguard_app_ios")," \u2014 AdGuard pro iOS"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"adguard_ext_safari")," \u2014 AdGuard pro Safari"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"adguard_ext_chromium")," \u2014 Roz\u0161\xed\u0159en\xed prohl\xed\u017ee\u010de AdGuard pro Chrome (a prohl\xed\u017ee\u010de zalo\u017een\xe9 na chromium, nap\u0159. nov\xfd Microsoft Edge.)"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"adguard_ext_firefox")," \u2014 Roz\u0161\xed\u0159en\xed prohl\xed\u017ee\u010de AdGuard pro Firefox"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"adguard_ext_edge")," \u2014 Roz\u0161\xed\u0159en\xed prohl\xed\u017ee\u010de AdGuard pro star\u0161\xed Edge"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"adguard_ext_opera")," \u2014 Roz\u0161\xed\u0159en\xed prohl\xed\u017ee\u010de AdGuard pro Operu"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"adguard_ext_android_cb")," \u2014 Blok\xe1tor obsahu AdGuard pro mobiln\xed prohl\xed\u017ee\u010de Samsung a Yandex"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"ext_ublock")," \u2014 speci\xe1ln\xed p\u0159\xedpad; ten je deklarov\xe1n, kdy\u017e je verze filtru uBlock kompilov\xe1na pomoc\xed ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/AdguardTeam/FiltersRegistry"},"FiltersRegistry")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"cap_html_filtering")," \u2014 produkty, kter\xe9 podporuj\xed pravidla filtrov\xe1n\xed HTML: AdGuard pro Windows, AdGuard pro macOS a AdGuard pro Android"))))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"!#else")," \u2014 za\u010d\xe1tek bloku p\u0159i nespln\u011bn\xed podm\xednek"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"rules_list"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"true_conditions_rules_list"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"false_conditions_rules_list")," \u2014 seznamy pravidel"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"!#endif")," \u2014 konec blokov\xe1n\xed")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"! for all AdGuard products except AdGuard for Safari\n!#if (adguard && !adguard_ext_safari)\n||example.org^$third-party\ndomain.com##div.ad\n!#endif\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"! directives even can be combined\n!#if (adguard_app_android)\n!#include /androidspecific.txt\n!#endif\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"!#if (adguard && !adguard_ext_safari)\n! pro v\u0161echny produkty AdGuardu krom\u011b AdGuardu pro Safari\n||example.org^$third-party\ndomain.com##div.ad\n!#else\n! pouze pro AdGuard pro Safari\n||subdomena.example.org^$third-party\n!#endif\n")),(0,i.kt)("admonition",{title:"Kompatibilita",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"The ",(0,i.kt)("inlineCode",{parentName:"p"},"!#else")," directive is supported by the ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/AdguardTeam/FiltersDownloader"},"FiltersDownloader")," v1.1.20 or later."),(0,i.kt)("p",{parentName:"admonition"},"It is already supported for filter lists compiled by the ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/AdguardTeam/FiltersRegistry"},"FiltersRegistry"),", but it still may not be supported by AdGuard products when adding a filter list with ",(0,i.kt)("inlineCode",{parentName:"p"},"!#else")," as a custom one. The following products will support it in the mentioned versions or later:"),(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},"AdGuard for Windows, Mac, and Android with ",(0,i.kt)("a",{parentName:"li",href:"https://adguard.com/en/blog/introducing-corelibs.html"},"CoreLibs")," v1.13;"),(0,i.kt)("li",{parentName:"ul"},"Roz\u0161\xed\u0159en\xed prohl\xed\u017ee\u010de AdGuard v4.2.208;"),(0,i.kt)("li",{parentName:"ul"},"AdGuard v1.11.16 pro Safari."))),(0,i.kt)("h4",{id:"safari-affinity-directive"},"Afinita Safari"),(0,i.kt)("p",null,"Safari's limit for each content blocker is 150,000 active rules. But in AdGuard for Safari and AdGuard for iOS, we've split the rules into 6 content blockers, thus increasing the rule limit to 900,000."),(0,i.kt)("p",null,"Here is the composition of each content blocker:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"AdGuard General \u2014 Blokov\xe1n\xed reklam, jazykov\u011b specifick\xe9 filtry"),(0,i.kt)("li",{parentName:"ul"},"AdGuard Privacy \u2014 Soukrom\xed"),(0,i.kt)("li",{parentName:"ul"},"AdGuard Social \u2014 soci\xe1ln\xed widgety, obt\u011b\u017eov\xe1n\xed"),(0,i.kt)("li",{parentName:"ul"},"AdGuard Security \u2014 Zabezpe\u010den\xed"),(0,i.kt)("li",{parentName:"ul"},"AdGuard Other \u2014 Jin\xe9"),(0,i.kt)("li",{parentName:"ul"},"AdGuard Custom \u2014 Vlastn\xed")),(0,i.kt)("p",null,"User rules and allowlist are added to every content blocker."),(0,i.kt)("admonition",{type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"The main disadvantage of using multiple content blockers is that rules from different blockers are applied independently. Blocking rules are not affected by this, but unblocking rules may cause problems. If a blocking rule is in one content blocker and an exception is in another, the exception will not work. Filter maintainers use ",(0,i.kt)("inlineCode",{parentName:"p"},"!#safari_cb_affinity")," to define Safari content blocker affinity for the rules inside of the directive block.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Syntax")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"!#safari_cb_affinity(content_blockers)\nrules_list\n!#safari_cb_affinity\n")),(0,i.kt)("p",null,"kde:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"!#safari_cb_affinity(content_blockers)")," \u2014 po\u010d\xe1tek blokov\xe1n\xed"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"content_blockers")," \u2014 seznam blok\xe1tor\u016f obsahu odd\u011blen\xfd \u010d\xe1rkami. P\u0159\xedpustn\xe9 hodnoty:",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"general")," \u2014 blok\xe1tor obsahu AdGuard General"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"privacy")," \u2014 blok\xe1tor obsahu AdGuard Privacy"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"social")," \u2014 blok\xe1tor obsahu AdGuard Social"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"security")," \u2014 blok\xe1tor obsahu AdGuard Security"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"other")," \u2014 blok\xe1tor obsahu AdGuard Other"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"custom")," \u2014 blok\xe1tor obsahu AdGuard Custom"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"all")," \u2014 speci\xe1ln\xed kl\xed\u010dov\xe9 slovo, kter\xe9 znamen\xe1, \u017ee pravidla mus\xed b\xfdt zahrnuta do ",(0,i.kt)("strong",{parentName:"li"},"v\u0161ech")," blok\xe1tor\u016f obsahu"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"rules_list")," \u2014 seznam pravidel"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"!#safari_cb_affinity")," \u2014 konec blokov\xe1n\xed")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"! to unhide specific element which is hidden by AdGuard Base filter:\n!#safari_cb_affinity(general)\nexample.org#@#.adBanner\n!#safari_cb_affinity\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"! to allowlist basic rule from AdGuard Tracking Protection filter:\n!#safari_cb_affinity(privacy)\n@@||example.org^\n!#safari_cb_affinity\n")),(0,i.kt)("h3",{id:"n\xe1pov\u011bdy"},"N\xe1pov\u011bdy"),(0,i.kt)("p",null,'"Hint" is a special comment, instruction to the filters compiler used on the server side (see ',(0,i.kt)("a",{parentName:"p",href:"https://github.com/AdguardTeam/FiltersRegistry"},"FiltersRegistry"),")."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Syntax")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"!+ HINT_NAME1(PARAMS) HINT_NAME2(PARAMS)\n")),(0,i.kt)("p",null,"Multiple hints can be applied."),(0,i.kt)("h4",{id:"n\xe1pov\u011bda-not_optimized"},"N\xe1pov\u011bda ",(0,i.kt)("inlineCode",{parentName:"h4"},"NOT_OPTIMIZED")),(0,i.kt)("p",null,"For each filter, AdGuard compiles two versions: full and optimized. Optimized version is much more lightweight and does not contain rules which are not used at all or used rarely."),(0,i.kt)("p",null,"Rules usage frequency comes from the collected ",(0,i.kt)("a",{parentName:"p",href:"../tracking-filter-statistics"},"filter rules statistics"),". But filters optimization is based on more than that \u2014 some filters have specific configuration. This is how it looks like for Base filter:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},'"filter": AdGuard Base filter,\n"percent": 30,\n"minPercent": 20,\n"maxPercent": 40,\n"strict": true\n')),(0,i.kt)("p",null,"kde:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"filter")," \u2014 identifik\xe1tor filtru"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"percent")," \u2014 o\u010dek\xe1van\xe9 procento optimalizace ",(0,i.kt)("inlineCode",{parentName:"li"},"~= (po\u010det pravidel v optimalizovan\xe9m filtru) / (po\u010det pravidel v p\u016fvodn\xedm filtru) * 100")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"minPercent")," \u2014 doln\xed mez hodnoty ",(0,i.kt)("inlineCode",{parentName:"li"},"percent")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"maxPercent")," \u2014 horn\xed mez hodnoty ",(0,i.kt)("inlineCode",{parentName:"li"},"percent")," value"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"strict")," \u2014 pokud je ",(0,i.kt)("inlineCode",{parentName:"li"},"percent < minPercent")," NEBO ",(0,i.kt)("inlineCode",{parentName:"li"},"percent > maxPercent")," a je zapnut\xfd p\u0159\xedsn\xfd re\u017eim, pak by kompilace filtru m\u011bla selhat, jinak je nutn\xe9 pou\u017e\xedt p\u016fvodn\xed pravidla")),(0,i.kt)("p",null,"In other words, ",(0,i.kt)("inlineCode",{parentName:"p"},"percent"),' is the "compression level". For instance, for the Base filter it is configured to 40%. It means that optimization algorithm should strip 60% of rules.'),(0,i.kt)("p",null,"Eventually, here are the two versions of the Base filter for AdGuard Browser Extension:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\xfapln\xe1: ",(0,i.kt)("a",{parentName:"li",href:"https://filters.adtidy.org/extension/chromium/filters/2.txt"},"https://filters.adtidy.org/extension/chromium/filters/2.txt")),(0,i.kt)("li",{parentName:"ul"},"optimalizovan\xe1: ",(0,i.kt)("a",{parentName:"li",href:"https://filters.adtidy.org/extension/chromium/filters/2_optimized.txt"},"https://filters.adtidy.org/extension/chromium/filters/2_optimized.txt"))),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"If you want to add a rule which should not be removed at optimization use the ",(0,i.kt)("inlineCode",{parentName:"strong"},"NOT_OPTIMIZED")," hint:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"!+ NOT_OPTIMIZED\n||example.org^\n")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"And this rule will not be optimized only for AdGuard for Android:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"!+ NOT_OPTIMIZED PLATFORM(android)\n||example.org^\n")),(0,i.kt)("h4",{id:"n\xe1pov\u011bda-platform-a-not_platform"},"N\xe1pov\u011bda ",(0,i.kt)("inlineCode",{parentName:"h4"},"PLATFORM")," a ",(0,i.kt)("inlineCode",{parentName:"h4"},"NOT_PLATFORM")),(0,i.kt)("p",null,"Used to specify the platforms to apply the rules. List of existing platforms and links to Base filter, for example, for each of them:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"windows")," \u2014 AdGuard pro Windows \u2014 ",(0,i.kt)("a",{parentName:"p",href:"https://filters.adtidy.org/windows/filters/2.txt"},"https://filters.adtidy.org/windows/filters/2.txt"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"mac")," \u2014 AdGuard pro Mac \u2014 ",(0,i.kt)("a",{parentName:"p",href:"https://filters.adtidy.org/mac_v2/filters/2.txt"},"https://filters.adtidy.org/mac_v2/filters/2.txt"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"android")," \u2014 AdGuard pro Android \u2014 ",(0,i.kt)("a",{parentName:"p",href:"https://filters.adtidy.org/android/filters/2.txt"},"https://filters.adtidy.org/android/filters/2.txt"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"ios")," \u2014 AdGuard pro iOS \u2014 ",(0,i.kt)("a",{parentName:"p",href:"https://filters.adtidy.org/ios/filters/2.txt"},"https://filters.adtidy.org/ios/filters/2.txt"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"ext_chromium")," \u2014 Roz\u0161\xed\u0159en\xed prohl\xed\u017ee\u010de AdGuard pro Chrome \u2014 ",(0,i.kt)("a",{parentName:"p",href:"https://filters.adtidy.org/extension/chromium/filters/2.txt"},"https://filters.adtidy.org/extension/chromium/filters/2.txt"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"ext_chromium_mv3")," \u2014 AdGuard Browser Extension for Chrome MV3 \u2014 ",(0,i.kt)("a",{parentName:"p",href:"https://filters.adtidy.org/extension/chromium-mv3/filters/2.txt"},"https://filters.adtidy.org/extension/chromium-mv3/filters/2.txt"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"ext_ff")," \u2014 Roz\u0161\xed\u0159en\xed prohl\xed\u017ee\u010de AdGuard pro Firefox \u2014 ",(0,i.kt)("a",{parentName:"p",href:"https://filters.adtidy.org/extension/firefox/filters/2.txt"},"https://filters.adtidy.org/extension/firefox/filters/2.txt"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"ext_edge")," \u2014 Roz\u0161\xed\u0159en\xed prohl\xed\u017ee\u010de AdGuard pro Edge \u2014 ",(0,i.kt)("a",{parentName:"p",href:"https://filters.adtidy.org/extension/edge/filters/2.txt"},"https://filters.adtidy.org/extension/edge/filters/2.txt"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"ext_opera")," \u2014 Roz\u0161\xed\u0159en\xed prohl\xed\u017ee\u010de AdGuard pro Operu \u2014 ",(0,i.kt)("a",{parentName:"p",href:"https://filters.adtidy.org/extension/opera/filters/2.txt"},"https://filters.adtidy.org/extension/opera/filters/2.txt"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"ext_safari")," \u2014 AdGuard pro Safari \u2014 ",(0,i.kt)("a",{parentName:"p",href:"https://filters.adtidy.org/extension/safari/filters/2.txt"},"https://filters.adtidy.org/extension/safari/filters/2.txt"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"ext_android_cb")," \u2014 Blok\xe1tor obsahu AdGuard \u2014 ",(0,i.kt)("a",{parentName:"p",href:"https://filters.adtidy.org/extension/android-content-blocker/filters/2.txt"},"https://filters.adtidy.org/extension/android-content-blocker/filters/2.txt"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"ext_ublock")," \u2014 uBlock Origin \u2014 ",(0,i.kt)("a",{parentName:"p",href:"https://filters.adtidy.org/extension/ublock/filters/2.txt"},"https://filters.adtidy.org/extension/ublock/filters/2.txt")))),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("p",null,"This rule will be available only in AdGuard for Windows, Mac, Android:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"!+ PLATFORM(windows,mac,android)\n||example.org^\n")),(0,i.kt)("p",null,"Except for AdGuard for Safari, AdGuard Content Blocker, and AdGuard for iOS, this rule is available on all platforms:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"!+ NOT_PLATFORM(ext_safari, ext_android_cb, ios)\n||example.org^\n")),(0,i.kt)("h2",{id:"jak-ladit-pravidla-filtrov\xe1n\xed"},"Jak ladit pravidla filtrov\xe1n\xed"),(0,i.kt)("p",null,'It may be possible to create simple filtering rules "in your head" but for anything even slightly more complicated you will need additional tools to debug and iterate them. There are tools to assist you with that. You can use DevTools in Chrome and its analogs in other browsers but most AdGuard products provide another one \u2014 Filtering log.'),(0,i.kt)("h3",{id:"z\xe1znam-filtrov\xe1n\xed"},"Z\xe1znam filtrov\xe1n\xed"),(0,i.kt)("p",null,"Filtering log is an advanced tool that will be helpful mostly to filter developers. It lists all web requests that pass through AdGuard, gives you exhaustive information on each of them, offers multiple sorting options, and has other useful features."),(0,i.kt)("p",null,"Depending on which AdGuard product you are using, Filtering log can be located in different places."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"V ",(0,i.kt)("strong",{parentName:"li"},"AdGuardu pro Windows")," jej najdete na kart\u011b ",(0,i.kt)("em",{parentName:"li"},"Blok\xe1tor reklam")," nebo prost\u0159ednictv\xedm nab\xeddky na hlavn\xedm panelu"),(0,i.kt)("li",{parentName:"ul"},"V ",(0,i.kt)("strong",{parentName:"li"},"AdGuardu pro Mac")," je pod ",(0,i.kt)("em",{parentName:"li"},"Nastaven\xed \u2192 Pokro\u010dil\xe9 \u2192 Z\xe1znam filtrov\xe1n\xed")),(0,i.kt)("li",{parentName:"ul"},"V ",(0,i.kt)("strong",{parentName:"li"},"AdGuardu pro Android")," je pod ",(0,i.kt)("em",{parentName:"li"},"Statistiky \u2192 Ned\xe1vn\xe1 aktivita"),". ",(0,i.kt)("em",{parentName:"li"},"Ned\xe1vn\xe1 aktivita")," je tak\xe9 p\u0159\xedstupn\xe1 z ",(0,i.kt)("em",{parentName:"li"},"Asistenta")),(0,i.kt)("li",{parentName:"ul"},"V ",(0,i.kt)("strong",{parentName:"li"},"Roz\u0161\xed\u0159en\xed prohl\xed\u017ee\u010de AdGuard")," je p\u0159\xedstupn\xfd z karty ",(0,i.kt)("em",{parentName:"li"},"R\u016fzn\xe9")," nebo kliknut\xedm prav\xfdm tla\u010d\xedtkem my\u0161i na ikonu roz\u0161\xed\u0159en\xed. Pouze prohl\xed\u017ee\u010de zalo\u017een\xe9 na platform\u011b Chromium a Firefox zobrazuj\xed pou\u017eit\xed ",(0,i.kt)("strong",{parentName:"li"},"pravidel skr\xfdv\xe1n\xed prvk\u016f")," (v\u010detn\u011b CSS, ExtCSS) a ",(0,i.kt)("strong",{parentName:"li"},"pravidel JS a skriplet\u016f")," v jejich z\xe1znamech filtrov\xe1n\xed")),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"In ",(0,i.kt)("strong",{parentName:"p"},"AdGuard for iOS")," and ",(0,i.kt)("strong",{parentName:"p"},"AdGuard for Safari"),", Filtering log does not exist because of the way content blockers are implemented in Safari. AdGuard does not see the web requests and therefore cannot display them.")),(0,i.kt)("h3",{id:"selectors-debug-mode"},"Re\u017eim lad\u011bn\xed selektor\u016f"),(0,i.kt)("p",null,"Sometimes, you might need to check the performance of a given selector or a stylesheet. In order to do it without interacting with JavaScript directly, you can use a special ",(0,i.kt)("inlineCode",{parentName:"p"},"debug")," style property. When ",(0,i.kt)("inlineCode",{parentName:"p"},"ExtendedCss")," meets this property, it enables the debugging mode either for a single selector or for all selectors, depending on the ",(0,i.kt)("inlineCode",{parentName:"p"},"debug")," value."),(0,i.kt)("p",null,"Open the browser console while on a web page to see the timing statistics for selector(s) that were applied there. Debugging mode displays the following stats as object where each of the debugged selectors are keys, and value is an object with such properties:"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Always printed:")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"selectorParsed")," \u2014 text p\u0159\xedpadn\u011b parsovan\xe9ho selektoru"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"timings")," \u2014 seznam uzl\u016f DOM odpov\xeddaj\xedc\xedch selektoru",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"appliesCount")," \u2014 celkov\xfd po\u010det pou\u017eit\xed selektoru na str\xe1nce"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"appliesTimings")," \u2014 doba, po kterou byl selektor na str\xe1nce pou\u017eit, pro ka\u017ed\xfd p\u0159\xedpad, kdy byl pou\u017eit (v milisekund\xe1ch)"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"meanTiming")," \u2014 pr\u016fm\u011brn\xe1 doba, po kterou byl selektor na str\xe1nce pou\u017eit"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"standardDeviation")," \u2014 standardn\xed odchylka"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"timingsSum")," \u2014 celkov\xfd \u010das pot\u0159ebn\xfd k pou\u017eit\xed selektoru na str\xe1nce ve v\u0161ech instanc\xedch")))),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Printed only for remove pseudos:")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"removed")," \u2014 p\u0159\xedznak signalizuj\xedc\xed, zda byly prvky odstran\u011bny")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Printed if elements are not removed:")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"matchedElements")," \u2014 seznam uzl\u016f DOM odpov\xeddaj\xedc\xedch selektoru"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"styleApplied")," \u2014 parsovan\xe1 deklarace stylu pravidla souvisej\xedc\xed se selektorem")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Debugging a single selector:")),(0,i.kt)("p",null,"When the value of the ",(0,i.kt)("inlineCode",{parentName:"p"},"debug")," property is ",(0,i.kt)("inlineCode",{parentName:"p"},"true"),", only information about this selector will be shown in the browser console."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"#$?#.banner { display: none; debug: true; }\n")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Enabling global debug:")),(0,i.kt)("p",null,"When the value of the ",(0,i.kt)("inlineCode",{parentName:"p"},"debug")," property is ",(0,i.kt)("inlineCode",{parentName:"p"},"global"),", the console will display information about all extended CSS selectors that have matches on the current page, for all the rules from any of the enabled filters."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-adblock"},"#$?#.banner { display: none; debug: global; }\n")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Testing extended selectors without AdGuard")),(0,i.kt)("p",null,"ExtendedCss can be executed on any page without using any AdGuard product. In order to do that you should copy and execute the following code in a browser console:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},'!function(e,t,d){C=e.createElement(t),C.src=d,C.onload=function(){alert("ExtendedCss loaded successfully")},s=e.getElementsByTagName(t)[0],s?s.parentNode.insertBefore(C,s):(h=e.getElementsByTagName("head")[0],h.appendChild(C))}(document,"script","https://AdguardTeam.github.io/ExtendedCss/extended-css.min.js");\n')),(0,i.kt)("p",null,"Alternatively, install the ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/AdguardTeam/Userscripts/blob/master/extendedCssDebugger/extended-css.debugger.user.js"},"ExtendedCssDebugger userscript"),"."),(0,i.kt)("p",null,"Now you can now use the ",(0,i.kt)("inlineCode",{parentName:"p"},"ExtendedCss")," from global scope, and run its method ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/AdguardTeam/ExtendedCss#extended-css-query"},(0,i.kt)("inlineCode",{parentName:"a"},"query()"))," as ",(0,i.kt)("inlineCode",{parentName:"p"},"Document.querySelectorAll()"),"."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"P\u0159\xedklady")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"const selector = 'div.block:has=(.header:matches-css(after, content: Ads))';\n\n// array of HTMLElements matched the `selector` is to be returned\nExtendedCss.query(selector);\n")),(0,i.kt)("h3",{id:"debug-scriptlets"},"Lad\u011bn\xed skriptlet\u016f"),(0,i.kt)("p",null,"If you are using AdGuard Browser Extension and want to debug a ",(0,i.kt)("a",{parentName:"p",href:"#scriptlets"},"scriptlet")," or a ",(0,i.kt)("a",{parentName:"p",href:"#trusted-scriptlets"},"trusted scriptlet")," rule, you can get additional information by opening the Filtering log. In that case, scriptlets will switch to debug mode and there will be more information in the browser console."),(0,i.kt)("p",null,"The following scriptlets are especially developed for debug purposes:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/AdguardTeam/Scriptlets/blob/master/wiki/about-scriptlets.md#debug-current-inline-script"},(0,i.kt)("inlineCode",{parentName:"a"},"debug-current-inline-script"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/AdguardTeam/Scriptlets/blob/master/wiki/about-scriptlets.md#debug-on-property-read"},(0,i.kt)("inlineCode",{parentName:"a"},"debug-on-property-read"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/AdguardTeam/Scriptlets/blob/master/wiki/about-scriptlets.md#abort-on-property-write"},(0,i.kt)("inlineCode",{parentName:"a"},"debug-on-property-write"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/AdguardTeam/Scriptlets/blob/master/wiki/about-scriptlets.md#log-addEventListener"},(0,i.kt)("inlineCode",{parentName:"a"},"log-addEventListener"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/AdguardTeam/Scriptlets/blob/master/wiki/about-scriptlets.md#log-on-stack-trace"},(0,i.kt)("inlineCode",{parentName:"a"},"log-on-stack-trace"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/AdguardTeam/Scriptlets/blob/master/wiki/about-scriptlets.md#log-eval"},(0,i.kt)("inlineCode",{parentName:"a"},"log-eval"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/AdguardTeam/Scriptlets/blob/master/wiki/about-scriptlets.md#log"},(0,i.kt)("inlineCode",{parentName:"a"},"log")))),(0,i.kt)("p",null,"The following scriptlets also may be used for debug purposes:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/AdguardTeam/Scriptlets/blob/master/wiki/about-scriptlets.md#json-prune"},(0,i.kt)("inlineCode",{parentName:"a"},"json-prune"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/AdguardTeam/Scriptlets/blob/master/wiki/about-scriptlets.md#prevent-fetch"},(0,i.kt)("inlineCode",{parentName:"a"},"prevent-fetch"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/AdguardTeam/Scriptlets/blob/master/wiki/about-scriptlets.md#prevent-requestanimationframe"},(0,i.kt)("inlineCode",{parentName:"a"},"prevent-requestAnimationFrame"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/AdguardTeam/Scriptlets/blob/master/wiki/about-scriptlets.md#prevent-setinterval"},(0,i.kt)("inlineCode",{parentName:"a"},"prevent-setInterval"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/AdguardTeam/Scriptlets/blob/master/wiki/about-scriptlets.md#prevent-settimeout"},(0,i.kt)("inlineCode",{parentName:"a"},"prevent-setTimeout"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/AdguardTeam/Scriptlets/blob/master/wiki/about-scriptlets.md#prevent-window-open"},(0,i.kt)("inlineCode",{parentName:"a"},"prevent-window-open"))," se specifikovan\xfdm parametrem ",(0,i.kt)("inlineCode",{parentName:"li"},"replacement")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/AdguardTeam/Scriptlets/blob/master/wiki/about-scriptlets.md#prevent-xhr"},(0,i.kt)("inlineCode",{parentName:"a"},"prevent-xhr"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/AdguardTeam/Scriptlets/blob/master/wiki/about-trusted-scriptlets.md#trusted-replace-fetch-response"},(0,i.kt)("inlineCode",{parentName:"a"},"trusted-replace-fetch-response"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/AdguardTeam/Scriptlets/blob/master/wiki/about-trusted-scriptlets.md#trusted-replace-xhr-response"},(0,i.kt)("inlineCode",{parentName:"a"},"trusted-replace-xhr-response")))),(0,i.kt)("h2",{id:"compatibility-tables-legend"},"Legenda tabulek kompatibility"),(0,i.kt)("h3",{id:"what-product"},"Zkratky produkt\u016f"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"aplikac\xed CoreLibs")," \u2014 AdGuard pro Windows, AdGuard pro Mac a AdGuard pro Android"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"AdGuard pro Chromium")," \u2014 Roz\u0161\xed\u0159en\xed prohl\xed\u017ee\u010de AdGuard pro Chrome a dal\u0161\xed prohl\xed\u017ee\u010de zalo\u017een\xe9 na Chromium, nap\u0159. nov\xfd Microsoft Edge, Opera"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"Adguard pro Firefox")," \u2014 Roz\u0161\xed\u0159en\xed prohl\xed\u017ee\u010de AdGuard pro Firefox"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"AdGuard pro iOS")," \u2014 AdGuard pro iOS a AdGuard pro iOS Pro (pro mobiln\xed prohl\xed\u017ee\u010d Safari)"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"AdGuard pro Safari")," \u2014 AdGuard pro stoln\xed prohl\xed\u017ee\u010d Safari ",(0,i.kt)("inlineCode",{parentName:"li"},"AdGuard Content Blocker")," \u2014 Content Blocker pro mobiln\xed prohl\xed\u017ee\u010de Android: Samsung Internet a Yandex Browser")),(0,i.kt)("h3",{id:"what-compatibility"},"Zkratky kompatibility"),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},"\u2705 \u2014 pln\u011b podporov\xe1no"),(0,i.kt)("li",{parentName:"ul"},"\u2705 * \u2014 podporov\xe1no, ale spolehlivost se m\u016f\u017ee li\u0161it nebo se mohou vyskytnout omezen\xed; v\xedce informac\xed naleznete v popisu modifik\xe1toru"),(0,i.kt)("li",{parentName:"ul"},"\ud83e\udde9 \u2014 m\u016f\u017ee b\xfdt ji\u017e implementov\xe1no ve verz\xedch nightly nebo beta, ale nen\xed je\u0161t\u011b podporov\xe1no ve verz\xedch pro vyd\xe1n\xed"),(0,i.kt)("li",{parentName:"ul"},"\u23f3 \u2014 funkce, kter\xe1 byla implementov\xe1na nebo jej\xed\u017e implementace se pl\xe1nuje, ale zat\xedm nen\xed k dispozici v \u017e\xe1dn\xe9m produktu"),(0,i.kt)("li",{parentName:"ul"},"\u274c \u2014 nepodporov\xe1no"),(0,i.kt)("li",{parentName:"ul"},"\ud83d\udc4e \u2014 deprecated; still supported but will be removed in the future"),(0,i.kt)("li",{parentName:"ul"},"\ud83d\udeab \u2014 odstran\u011bno a ji\u017e nepodporov\xe1no"))))}s.isMDXComponent=!0}}]);